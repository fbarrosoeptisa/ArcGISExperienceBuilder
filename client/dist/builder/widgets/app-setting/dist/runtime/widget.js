System.register(["calcite-components","jimu-core","jimu-for-builder","jimu-theme","jimu-ui","jimu-ui/advanced/resource-selector","jimu-ui/advanced/setting-components"],(function(e,t){var a={},n={},l={},s={},i={},o={},r={};return{setters:[function(e){a.CalciteInputTimeZone=e.CalciteInputTimeZone},function(e){n.DialogMode=e.DialogMode,n.EConsentMode=e.EConsentMode,n.React=e.React,n.ReactRedux=e.ReactRedux,n.SessionManager=e.SessionManager,n.TimezoneConfig=e.TimezoneConfig,n.UrlGeneralConfig=e.UrlGeneralConfig,n.appActions=e.appActions,n.classNames=e.classNames,n.css=e.css,n.dataSourceUtils=e.dataSourceUtils,n.dateUtils=e.dateUtils,n.getAppStore=e.getAppStore,n.hooks=e.hooks,n.jsx=e.jsx,n.lodash=e.lodash,n.urlManagerUtils=e.urlManagerUtils,n.useIntl=e.useIntl,n.uuidv1=e.uuidv1},function(e){l.ToBuilderMessage=e.ToBuilderMessage,l.UrlConfigManager=e.UrlConfigManager,l.appStateHistoryActions=e.appStateHistoryActions,l.builderAppSync=e.builderAppSync,l.getAppConfigAction=e.getAppConfigAction,l.helpUtils=e.helpUtils},function(e){s.styled=e.styled,s.useTheme=e.useTheme,s.withTheme=e.withTheme},function(e){i.Alert=e.Alert,i.AlertPopup=e.AlertPopup,i.Button=e.Button,i.Checkbox=e.Checkbox,i.CollapsablePanel=e.CollapsablePanel,i.Collapse=e.Collapse,i.Label=e.Label,i.Modal=e.Modal,i.ModalBody=e.ModalBody,i.ModalFooter=e.ModalFooter,i.Popper=e.Popper,i.Radio=e.Radio,i.Switch=e.Switch,i.Tab=e.Tab,i.Tabs=e.Tabs,i.TextArea=e.TextArea,i.TextInput=e.TextInput,i.Tooltip=e.Tooltip,i.defaultMessages=e.defaultMessages},function(e){o.IconPicker=e.IconPicker},function(e){r.RadioGroup=e.RadioGroup,r.SettingRow=e.SettingRow,r.SettingSection=e.SettingSection}],execute:function(){e((()=>{var e={9524:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 1.5a.5.5 0 0 1 1 0v2.8a.5.5 0 0 1-1 0zm6.028.874a.5.5 0 0 1 .062.705l-1.414 1.685a.5.5 0 1 1-.766-.643l1.414-1.685a.5.5 0 0 1 .704-.062m-10.352.062a.5.5 0 1 0-.766.643l1.414 1.685a.5.5 0 0 0 .766-.643zM6.244 10.6H5.43zM.961 9.8h4.88c.211 0 .359.19.359.4q0 .207.045.4a1.8 1.8 0 0 0 3.51 0h.814a2.6 2.6 0 0 1-5.139 0H.8v3.6h14.4v-3.6H9.755q.045-.194.045-.4c0-.21.148-.4.358-.4h4.881l-2.267-3.4H3.228zm11.81-4.2a.8.8 0 0 1 .666.356l2.429 3.642a.8.8 0 0 1 .134.444V14.2a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1-.8-.8v-4.158a.8.8 0 0 1 .134-.444l2.429-3.642a.8.8 0 0 1 .665-.356z" clip-rule="evenodd"></path></svg>'},3303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},4702:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.39 3.425 5.553.588a2.006 2.006 0 0 0-2.837 0L.588 2.716a2.006 2.006 0 0 0 0 2.837L3.425 8.39a2.006 2.006 0 0 0 2.837 0l.71-.709 1.347 1.347-.71.71a2.006 2.006 0 0 0 0 2.837l2.838 2.837a2.006 2.006 0 0 0 2.837 0l2.128-2.128a2.006 2.006 0 0 0 0-2.837L12.575 7.61a2.006 2.006 0 0 0-2.837 0l-.71.709-1.347-1.347.71-.71a2.006 2.006 0 0 0 0-2.837M6.972 6.262l.709-.709a1.003 1.003 0 0 0 0-1.419L4.844 1.297a1.003 1.003 0 0 0-1.419 0L1.297 3.425a1.003 1.003 0 0 0 0 1.419L4.134 7.68a1.003 1.003 0 0 0 1.419 0l.71-.71-.894-.892a.501.501 0 0 1 .71-.71zm2.056 3.476.6.599a.502.502 0 0 0 .709-.71l-.6-.599.71-.709a1.003 1.003 0 0 1 1.419 0l2.837 2.837a1.003 1.003 0 0 1 0 1.419l-2.128 2.128a1.003 1.003 0 0 1-1.419 0L8.32 11.866a1.003 1.003 0 0 1 0-1.419z" clip-rule="evenodd"></path></svg>'},6300:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M15 7.5a.52.52 0 0 1-.516.527H2.976L6.473 11.6a.535.535 0 0 1 0 .746.51.51 0 0 1-.73 0L1 7.5l4.743-4.846a.51.51 0 0 1 .73 0 .535.535 0 0 1 0 .746L2.976 6.973h11.508c.285 0 .516.236.516.527"></path></svg>'},5075:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M1 7.5c0-.291.231-.527.516-.527h11.508L9.527 3.4a.535.535 0 0 1 0-.746.51.51 0 0 1 .73 0L15 7.5l-4.743 4.846a.51.51 0 0 1-.73 0 .535.535 0 0 1 0-.746l3.497-3.573H1.516A.52.52 0 0 1 1 7.5"></path></svg>'},655:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .54.54 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.54.54 0 0 1 0-.738" clip-rule="evenodd"></path></svg>'},2943:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4.653 13.854a.485.485 0 0 1 0-.708L10.24 8 4.653 2.854a.485.485 0 0 1 0-.708.54.54 0 0 1 .738 0l5.956 5.5a.485.485 0 0 1 0 .708l-5.956 5.5a.54.54 0 0 1-.738 0" clip-rule="evenodd"></path></svg>'},8547:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 0A3.5 3.5 0 0 1 11 3.5V6h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1V3.5A3.5 3.5 0 0 1 7.5 0M5 6h5V3.5a2.5 2.5 0 0 0-2.336-2.495L7.5 1a2.5 2.5 0 0 0-2.495 2.336L5 3.5zm6 1H3v8h9V7zm-3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},5508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},8996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},9037:e=>{"use strict";e.exports=a},9244:e=>{"use strict";e.exports=n},4108:e=>{"use strict";e.exports=l},1888:e=>{"use strict";e.exports=s},4321:e=>{"use strict";e.exports=i},5809:e=>{"use strict";e.exports=o},9298:e=>{"use strict";e.exports=r}},t={};function c(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,c),l.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var p={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(p),c.d(p,{__set_webpack_public_path__:()=>Se,default:()=>ye});var e=c(9244),t=c(4321);const a={experienceSettings:"Experience settings",templateSettings:"Template settings",favicon:"Favicon",timezone:"Time zone",deviceTimezone:"Device time zone",specificTimezone:"Specific time zone",dataTimezone:"Data time zone",dataTimezoneTimelineWarning:"Be aware that using data time zone affects all date fields and limits the functionality of the Timeline widget.",learnMoreForTimezoneSetting:"Learn more about time zone settings.",timezoneDesc:"Changing the time zone of the experience will affect how the date and time data are displayed. Options include:",deviceTimezoneDesc:"Displays date and time using the local device time zone.",specificTimezoneDesc:"Displays date and time using a designated time zone.",dataTimezoneDesc:"Displays date and time based on the time zone defined for a stand-alone layer or the web map, respectively, with no adjustments made.",manageUrlStatus:"Manage URL status",dataSelection:"Data selection",zoomToSelection:"Zoom to selected features",manageUrlStatusTips:"Select the URL parameters you want to include in the URL when interacting with the experience. The experience URL will synchronize with user interactions automatically.",privacy:"Privacy",googleAnalytics:"Google Analytics (GA4)",measurementId:"Measurement ID",invalidMeasurementMsg:"Formatting must match",consentRefreshSetting:"Consent refresh settings",refreshPeriodically:"Refresh consent periodically",thirdPartyExplain:"The cookie banner only controls first-party cookies and does not apply to third-party cookies from other domains.",days:"days",consentMode:"Consent mode",consentRequired:"Consent required",consentOptional:"Consent optional",renewUserConsents:"Renew consent",renewNow:"Renew now",renewModalTitle:"Are you sure you want to renew user consent?",renewModalDesc:"The cookie banner will reappear for users who have previously consented and ask them to give their consent again.",lastTimeRenewed:"Last time renewed",noAvailableWidgets:"No available widgets. Please add widgets that support URL parameters."};var n=c(9298),l=c(1888),s=c(4108),i=c(3303),o=c.n(i),r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const d=t=>{const a=window.SVG,{className:n}=t,l=r(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:o()},l)):e.React.createElement("svg",Object.assign({className:s},l))},u=e.React.memo((n=>{const l=e.hooks.useTranslation(t.defaultMessages,a),i=(e,t,a)=>s.UrlConfigManager.getInstance().isWidgetParamEnable(e,t,a),o=l("settings");return(0,e.jsx)(e.React.Fragment,{key:n.idx},n.urlParamsWidgetsInManifest&&n.widgetsInfoInGroup.widgetsInfo.map(((a,l)=>{var s,r,c;const p=a.id,u=a.label,m=null===(c=null===(r=null===(s=n.urlParamsWidgetsInManifest[p])||void 0===s?void 0:s.manifest)||void 0===r?void 0:r.urlParameters)||void 0===c?void 0:c.length,g=m&&1===m,f=((t,a)=>{var l,s;let o=!1;if(a){const e=null===(s=null===(l=n.urlParamsWidgetsInManifest[t])||void 0===l?void 0:l.manifest)||void 0===s?void 0:s.urlParameters[0].name;o=i(t,e,a)}else o=e.urlManagerUtils.isWidgetEnable(t);return o})(p,g);return(0,e.jsx)("div",{key:l,className:"detail-setting d-flex justify-content-between align-items-center my-2 "},(0,e.jsx)(t.Label,{className:"widget-label"},u),(0,e.jsx)("div",{className:"d-flex justify-content-end align-items-center"},!g&&(0,e.jsx)(t.Button,{size:"sm",icon:!0,type:"tertiary",className:"mr-2",onClick:e=>{n.handWidgetSettingClick(p,e,f)},title:o,"aria-label":o},(0,e.jsx)(d,{size:"m"})),(0,e.jsx)(t.Switch,{checked:f,onChange:e=>{n.handEnableChange(p,e,g)}})))})))}));class m extends e.React.PureComponent{constructor(t){super(t),this.handleChange=e=>{const t=(null==e?void 0:e.target.value)||"";this.setState({searchText:t},(()=>{const{onSearchTextChange:e}=this.props;e&&e(t)}))},this.handleSubmit=e=>{const{onSubmit:t}=this.props;t&&t(e)},this.onKeyUp=e=>{e&&e.target&&"Enter"===e.key&&this.handleSubmit(e.target.value)},this.handleClear=e=>{this.setState({searchText:""}),e.stopPropagation()},this.getStyle=()=>e.css`
      position: relative;
      .toc-search-input {
        .search-close-icon {
          padding: 0.125rem;
        }
      }
    `,this.state={searchText:t.searchText||""}}componentDidUpdate(e){if(this.props.searchText!==e.searchText&&this.props.searchText!==this.state.searchText){const{searchText:e}=this.props;this.setState({searchText:e})}}render(){const{placeholder:a,className:n,inputRef:l,onFocus:s,onBlur:i}=this.props,{searchText:o}=this.state;return(0,e.jsx)("div",{css:this.getStyle(),className:n},(0,e.jsx)(t.TextInput,{className:"toc-search-input",ref:l,"aria-label":a,placeholder:a,allowClear:!0,onChange:this.handleChange,onBlur:i,onFocus:s,value:o,onKeyDown:e=>{this.onKeyUp(e)}}))}}function g(i){const o=(0,l.useTheme)(),r=e.hooks.useTranslation(t.defaultMessages,a),c=e.ReactRedux.useSelector((e=>{var t,a;const n=[],l=null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.widgets;return Object.keys(null!=l?l:{}).forEach((e=>{n.push(e)})),n.join(",")}),e.ReactRedux.shallowEqual),p=e.ReactRedux.useSelector((e=>{var t,a;const n=null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.pageStructure;return s.UrlConfigManager.getInstance().getFlatPageInfos(n)}),e.ReactRedux.shallowEqual),d=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.browserSizeMode})),[u,g]=e.React.useState(""),f=e.React.useRef(null),{onSearch:v}=i,b=e.React.useRef([]),h=e.React.useRef([]),x=e.React.useRef([]);e.React.useEffect((()=>{const t=s.UrlConfigManager.getInstance().getWidgetsInPages(d,u),a=s.UrlConfigManager.getInstance().getWidgetsInHeaderFooter(d,u),n=s.UrlConfigManager.getInstance().getWidgetsInDialogs(d,u);(!e.lodash.isDeepEqual(t,b.current)||!e.lodash.isDeepEqual(a,h.current)||!e.lodash.isDeepEqual(n,x.current))&&i.active&&v(t,a,n),b.current=t,h.current=a,x.current=n}),[u,d,c,p,i.active,v]);const w=r("SearchLabel");return(0,e.jsx)(n.SettingSection,{className:"px-0 pb-0 url-params-search mb-3",css:(t=>e.css`
      &.url-params-search {
        border: 0;

        .outline-title {
          user-select: none;
          color: ${t.ref.palette.neutral[1e3]};
          font-weight: ${t.ref.typeface.fontWeightBold};
        }
      }
    `)(o)},(0,e.jsx)(m,{theme:o,placeholder:w,searchText:u,onSearchTextChange:e=>{g(e)},inputRef:e=>{f.current=e}}))}var f=c(2943),v=c.n(f),b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const h=t=>{const a=window.SVG,{className:n}=t,l=b(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:v()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var x=c(655),w=c.n(x),j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const y=t=>{const a=window.SVG,{className:n}=t,l=j(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:w()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var S=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};function R(n){const l=e.hooks.useTranslation(t.defaultMessages,a),{label:s,children:i,isDefaultOpen:o,className:r}=n,c=S(n,["label","children","isDefaultOpen","className"]),[p,d]=e.React.useState(null==o||o),u=l(p?"collapse":"expand");return(0,e.jsx)("div",{className:n.className},(0,e.jsx)(t.Label,null,(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"collapsable-item-icon",disableRipple:!0,title:u,"aria-label":u,"aria-expanded":p,onClick:e=>{setTimeout((()=>{d(!p)}),80)}},p?(0,e.jsx)(y,{size:"s"}):(0,e.jsx)(h,{size:"s"})),s),(0,e.jsx)(t.Collapse,Object.assign({isOpen:p},c),i))}const C=t=>e.css`
  &.url-setting {
    .back-btn-text {
      color: var(--ref-palette-neutral-1000);
      font-size: 16px;
      font-weight: 500;
    }

    .widgets-title {
      border-bottom: none;
    }
    .widgets-warper {
      padding-top: 0;
      overflow: auto;

      .nav-item .nav-link {
        padding: 0.25rem;
      }
    }

    /* First level collapsable */
    .collapsable-wrapper {
      .title {
        padding:0 !important;
        font-size: unset;
      }
    }

    /* Second level collapsable */
    .collapsable-item-section {
      margin-top: 4px;

      .collapsable-item-icon {
        padding: 0;
        margin-right: 2px;
      }

      .form-label {
        margin-top: 8px;
        margin-bottom: 0;
      }

      .collapse-header {
        padding-top: 6px;
      }
    }

    .form-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--ref-palette-neutral-1000);
      padding: 0 !important;
    }

    .jimu-widget-setting--section {
      /* section-title */
      .jimu-widget-setting--section-header{
        .setting-row-text-level-1 {
          color: var(--ref-palette-neutral-1000)!important;
          font-size: 14px !important;
          font-weight: 600 !important;
        }
      }
      .jimu-widget-setting--row {
        .outline-title {
          color: var(--ref-palette-neutral-1000)!important;
          font-size: 14px !important;
          font-weight: 600 !important;
        }
      }

      .jimu-widget-setting--row {
        .jimu-widget-setting--row-label, .checkbox-label {
          font-size: 13px !important;
          font-weight: 500 !important;
        }
      }
    }

    /* Tabs */
    .jimu-tabs {
      margin-top: 0;
    }
    .nav-item {
      &:last-of-type{
        margin-right: 0;
      }
      .nav-link{
        padding: 0.5rem 0.25rem;
      }
    }

    .detail-setting {
      min-height: 26px;
      margin-left: 20px;

      .widget-label {
        font-weight: unset;
      }
    }

    /* empty icon */
    .empty-placeholder{
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      .empty-placeholder-text, .empty-placeholder-icon{
        display: table;
        margin: 0 auto;
      }
      .empty-placeholder-text{
        color: var(--ref-palette-neutral-900);
        font-size: ${t.sys.typography.label1.fontSize};
        margin-top: ${t.sys.spacing[4]};
        text-align: center;
      }

      .empty-placeholder-icon{
        color: var(--sys-color-action-disabled-text);
      }
    }
  }
`;var N=c(6300),O=c.n(N),T=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const I=t=>{const a=window.SVG,{className:n}=t,l=T(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:O()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var k=c(5508),z=c.n(k),M=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const A=t=>{const a=window.SVG,{className:n}=t,l=M(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:z()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var P=c(9524),E=c.n(P),B=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const U=t=>{const a=window.SVG,{className:n}=t,l=B(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:E()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var D;function L(i){var o,r,c;const p=e.hooks.useTranslation(t.defaultMessages,a),d=(0,l.useTheme)(),m=s.UrlConfigManager.getInstance().getWidgetsUseUrlParamsInManifest();e.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.urlParams}));const f=e=>s.UrlConfigManager.getInstance().isGeneralUrlConfigEnable(e),v=(e,t,a)=>{var n,l;const i=t.target.checked;if(a){const t=null===(l=null===(n=m[e])||void 0===n?void 0:n.manifest)||void 0===l?void 0:l.urlParameters[0].name;s.UrlConfigManager.getInstance().updateWidgetParamEnable(e,t,i)}else s.UrlConfigManager.getInstance().updateWidgetEnable(e,i)},b=(e,t,a)=>s.UrlConfigManager.getInstance().isWidgetParamEnable(e,t,a),[h,x]=e.React.useState([]),[w,j]=e.React.useState([]),[y,S]=e.React.useState([]),N=(e,t,a)=>{x(e),j(t),S(a)},O=e=>null==w?void 0:w.filter((t=>t.mode===e)),T=e=>{const t=O(e).some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}));return t},k=()=>h,z=()=>{const e=k().some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}));return e},M=e=>null==y?void 0:y.filter((t=>t.dialogInfo.mode===e)),P=e=>{const t=M(e).some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}));return t},E=e.React.useRef(null),[B,L]=e.React.useState(null),F=(e,t,a)=>{E.current=t.target,L({widgetId:e,isEnable:a})},W=!!B,[H,G]=e.React.useState(D.Page),V=h.some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}))||w.some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}))||y.some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0})),q=()=>(0,e.jsx)("div",{className:"empty-placeholder w-100 p-4"},(0,e.jsx)("div",{className:"empty-placeholder-icon"},(0,e.jsx)(U,{size:48})),(0,e.jsx)("div",{className:"empty-placeholder-text"},p("noAvailableWidgets"))),$=p("data"),_=p("dataSelection"),X=p("zoomToSelection"),Z=p("widgets"),K=p("manageUrlStatusTips"),Y=p("variableHeader"),J=p("variableBody"),Q=p("variableFooter"),ee=p("fixedWindows"),te=p("anchoredWindows");return(0,e.jsx)("div",{className:"url-setting widget-builder-themes d-flex flex-column bg-light-300 w-100 h-100",css:C(d)},(0,e.jsx)("div",{className:"jimu-widget-setting--header d-flex align-items-center justify-content-between header-title"},(0,e.jsx)("div",{className:"text-truncate text-left d-flex align-items-center"},(0,e.jsx)(t.Button,{onClick:i.onBack,size:"sm",icon:!0,type:"tertiary",className:"mr-2","aria-label":p("back")},(0,e.jsx)(I,{size:"m",autoFlip:!0})),(0,e.jsx)("div",{className:"back-btn-text text-truncate",title:p("manageUrlStatus")},p("manageUrlStatus"))),(0,e.jsx)(t.Tooltip,{placement:"right",title:K},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0},(0,e.jsx)(A,null)))),(0,e.jsx)(n.SettingSection,{className:"p-0"}),(0,e.jsx)(n.SettingSection,{title:$,"aria-label":$,className:"item-name"},(0,e.jsx)(n.SettingRow,{tag:"label",label:_},(0,e.jsx)(t.Switch,{checked:f(e.UrlGeneralConfig.DataSelection),onChange:t=>{((e,t)=>{const a=t.target.checked;s.UrlConfigManager.getInstance().updateGeneralUrlConfigEnable(e,a)})(e.UrlGeneralConfig.DataSelection,t)}})),f(e.UrlGeneralConfig.DataSelection)&&(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,null,(0,e.jsx)(t.Checkbox,{className:"mr-2",checked:s.UrlConfigManager.getInstance().isZoomToSelectionEnable(),onChange:(e,t)=>{s.UrlConfigManager.getInstance().updateZoomToSelectionEnable(t)}}),(0,e.jsx)("span",{className:"checkbox-label"},X)))),(0,e.jsx)(n.SettingSection,{title:Z,"aria-label":Z,className:"widgets-title"}),(0,e.jsx)(n.SettingSection,{className:"widgets-warper"},(0,e.jsx)(t.Tabs,{type:"pills",className:"w-100 ",value:H,onChange:e=>{G(e)}},(0,e.jsx)(t.Tab,{id:"page",title:p("page"),className:"w-50 "},(0,e.jsx)(g,{active:H===D.Page,onSearch:N}),!V&&q(),V&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingSection,{className:"px-0 pt-1"},(0,e.jsx)(t.CollapsablePanel,{key:Y,label:Y,"aria-label":Y,className:"collapsable-wrapper px-0",defaultIsOpen:T("Header"),disabled:!T("Header")},T("Header")&&O("Header").map(((t,a)=>(0,e.jsx)(e.React.Fragment,{key:a},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:a,handWidgetSettingClick:F,handEnableChange:v})))))),(0,e.jsx)(n.SettingSection,{className:"px-0"},(0,e.jsx)(t.CollapsablePanel,{key:J,label:J,"aria-label":J,className:"collapsable-wrapper px-0",defaultIsOpen:z(),disabled:!z()},z()&&k().map((t=>{var a;const n=t.pageInfo.id,l=t.pageInfo.label;return(null===(a=t.widgetsInfo)||void 0===a?void 0:a.length)>0?(0,e.jsx)(R,{label:l,"aria-label":l,className:"collapsable-item-section",key:n},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:n,handWidgetSettingClick:F,handEnableChange:v})):null})))),(0,e.jsx)(n.SettingSection,{className:"px-0 "},(0,e.jsx)(t.CollapsablePanel,{key:Q,label:Q,"aria-label":Q,className:"collapsable-wrapper px-0",defaultIsOpen:T("Footer"),disabled:!T("Footer")},T("Footer")&&O("Footer").map(((t,a)=>(0,e.jsx)(e.React.Fragment,{key:a},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:a,handWidgetSettingClick:F,handEnableChange:v})))))))),(0,e.jsx)(t.Tab,{id:"dialog",title:p("dialog"),className:"w-50 "},(0,e.jsx)(g,{active:H===D.Dialog,onSearch:N}),!V&&q(),V&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingSection,{className:"px-0 pt-1"},(0,e.jsx)(t.CollapsablePanel,{key:ee,label:ee,"aria-label":ee,className:"collapsable-wrapper px-0",defaultIsOpen:P(e.DialogMode.Fixed),disabled:!P(e.DialogMode.Fixed)},P(e.DialogMode.Fixed)&&M(e.DialogMode.Fixed).map((t=>{var a;const n=t.dialogInfo.id,l=t.dialogInfo.label;return(null===(a=t.widgetsInfo)||void 0===a?void 0:a.length)>0?(0,e.jsx)(R,{label:l,"aria-label":l,className:"collapsable-item-section",key:n},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:n,handWidgetSettingClick:F,handEnableChange:v})):null})))),(0,e.jsx)(n.SettingSection,{className:"px-0"},(0,e.jsx)(t.CollapsablePanel,{key:te,label:te,"aria-label":te,className:"collapsable-wrapper px-0",defaultIsOpen:P(e.DialogMode.Anchored),disabled:!P(e.DialogMode.Anchored)},P(e.DialogMode.Anchored)&&M(e.DialogMode.Anchored).map((t=>{var a;const n=t.dialogInfo.id,l=t.dialogInfo.label;return(null===(a=t.widgetsInfo)||void 0===a?void 0:a.length)>0?(0,e.jsx)(R,{label:l,"aria-label":l,className:"collapsable-item-section",key:n},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:n,handWidgetSettingClick:F,handEnableChange:v})):null})))))))),W&&(0,e.jsx)(t.Popper,{open:W,toggle:e=>{E.current=null,L(null)},reference:E,placement:"bottom",arrowOptions:!0},null===(c=null===(r=null===(o=m[B.widgetId])||void 0===o?void 0:o.manifest)||void 0===r?void 0:r.urlParameters)||void 0===c?void 0:c.map((a=>(0,e.jsx)(n.SettingRow,{tag:"label",label:a.label,key:a.name,className:"m-4"},a.tooltip&&(0,e.jsx)(t.Tooltip,{placement:"right",title:a.tooltip},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0},(0,e.jsx)(A,null))),(0,e.jsx)(t.Switch,{checked:b(B.widgetId,a.name),onChange:e=>{((e,t)=>{const a=!b(e,t);s.UrlConfigManager.getInstance().updateWidgetParamEnable(e,t,a)})(B.widgetId,a.name)},className:"ml-2",disabled:!B.isEnable}))))))}function F(e,t){var a;let n=(0,s.getAppConfigAction)().appConfig;n.attributes||(n=n.set("attributes",{}));const l=null===(a=n.attributes)||void 0===a?void 0:a.set(e,t);(0,s.getAppConfigAction)().editAttributes(l).exec()}function W(e,t){var a,n;let l=(0,s.getAppConfigAction)().appConfig;l.analytics||(l=l.set("analytics",{}));let i=null;i="string"==typeof e?null===(a=l.analytics)||void 0===a?void 0:a.set(e,t):null===(n=l.analytics)||void 0===n?void 0:n.setIn(e,t),(0,s.getAppConfigAction)().updateAnalyticsConfig(i).exec()}function H(e,t){var a,n;let l=(0,s.getAppConfigAction)().appConfig;l.cookieBanner||(l=l.set("cookieBanner",{}));let i=null;i="string"==typeof e?null===(a=l.cookieBanner)||void 0===a?void 0:a.set(e,t):null===(n=l.cookieBanner)||void 0===n?void 0:n.setIn(e,t),(0,s.getAppConfigAction)().updateCookieBannerConfig(i).exec()}function G(t,a=!1){var n;s.builderAppSync.publishAppInfoChangeToApp(t);const l={appConfig:null===(n=(0,e.getAppStore)().getState().appStateInBuilder)||void 0===n?void 0:n.appConfig,appInfo:t};a?(0,e.getAppStore)().dispatch(s.appStateHistoryActions.InBuilderReplaceLastAppConfigInHistory(l)):(0,e.getAppStore)().dispatch(s.appStateHistoryActions.InBuilderPutAppConfigIntoHistory(l))}!function(e){e.Page="page",e.Dialog="dialog"}(D||(D={}));var V=c(9037);const q=e.css`
  padding-top: var(--sys-spacing-4);
  border-top: 1px solid var(--ref-palette-neutral-500);
`;function $(a){const{translate:l,timezone:i={type:e.TimezoneConfig.Device}}=a,[o,r]=e.React.useState(null),[c,p]=e.React.useState(i.type===e.TimezoneConfig.Specific?i.value:_());e.React.useEffect((()=>{var e;null===(e=null===s.helpUtils||void 0===s.helpUtils?void 0:s.helpUtils.getBuildAppsHelpLink("general-settings"))||void 0===e||e.then((e=>{e&&r(e)}))}),[]),e.React.useEffect((()=>{i.type===e.TimezoneConfig.Specific&&p(i.value)}),[i]);const d=t=>{const a=t.target.value,n={type:a};a===e.TimezoneConfig.Specific&&(n.value=c),F("timezone",n)};return(0,e.jsx)("div",{css:q,className:"timezone-setting mt-4",role:"group","aria-label":l("timezone")},(0,e.jsx)(n.SettingRow,{label:(0,e.jsx)("div",{className:"d-flex justify-content-between"},(0,e.jsx)("div",null,l("timezone")),(0,e.jsx)(t.Tooltip,{showArrow:!0,placement:"right",title:(0,e.jsx)("div",{css:e.css`
        width: 362px;
        margin: 0.75rem;
        font-size: 12px;
        line-height: 150%;
        font-style: normal;
        .name {
          margin-top: 1rem;
          font-weight: 600;
        }
        .desc {
          font-weight: 400;
        }
      `},(0,e.jsx)("div",{className:"desc"},l("timezoneDesc")),(0,e.jsx)("div",{className:"name"},l("deviceTimezone")),(0,e.jsx)("div",{className:"desc"},l("deviceTimezoneDesc")),(0,e.jsx)("div",{className:"name"},l("specificTimezone")),(0,e.jsx)("div",{className:"desc"},l("specificTimezoneDesc")),(0,e.jsx)("div",{className:"name"},l("dataTimezone")),(0,e.jsx)("div",{className:"desc"},l("dataTimezoneDesc")))},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0},(0,e.jsx)(A,null)))),flow:"wrap"}),(0,e.jsx)(n.SettingRow,{className:"mt-3"},(0,e.jsx)(t.Label,{className:"mr-4 d-flex align-items-center"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"timezone-type",value:e.TimezoneConfig.Device,checked:i.type===e.TimezoneConfig.Device,onChange:d}),l("deviceTimezone"))),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,{className:"mr-4 d-flex align-items-center"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"timezone-type",value:e.TimezoneConfig.Specific,checked:i.type===e.TimezoneConfig.Specific,onChange:d}),l("specificTimezone"))),i.type===e.TimezoneConfig.Specific&&(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(V.CalciteInputTimeZone,{scale:"s",className:"jimu-calcite-timezone w-100",value:c,mode:"name",overlayPositioning:"fixed",onCalciteInputTimeZoneChange:t=>{const a=t.target.value;F("timezone",{type:e.TimezoneConfig.Specific,value:a})}})),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,{className:"mr-4 d-flex align-items-center"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"timezone-type",value:e.TimezoneConfig.Data,checked:i.type===e.TimezoneConfig.Data,onChange:d}),l("dataTimezone"))),i.type===e.TimezoneConfig.Data&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingRow,{className:"w-100 d-flex justify-content-between"},(0,e.jsx)(t.Alert,{form:"basic",type:"warning",withIcon:!0},(0,e.jsx)("div",null,l("dataTimezoneTimelineWarning")+" ",(0,e.jsx)("a",{target:"_blank",href:o,rel:"noopener noreferrer"},l("learnMoreForTimezoneSetting")))))))}const _=()=>(new Intl.DateTimeFormat).resolvedOptions().timeZone;var X=c(4702),Z=c.n(X),K=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const Y=t=>{const a=window.SVG,{className:n}=t,l=K(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:Z()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var J=c(5075),Q=c.n(J),ee=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const te=t=>{const a=window.SVG,{className:n}=t,l=ee(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:Q()},l)):e.React.createElement("svg",Object.assign({className:s},l))};var ae=c(8996),ne=c.n(ae),le=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const se=t=>{const a=window.SVG,{className:n}=t,l=le(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:ne()},l)):e.React.createElement("svg",Object.assign({className:s},l))},ie=l.styled.h5`
  padding: 1rem;
`,oe=(0,l.styled)(t.ModalBody)`
  padding: 0 3rem 1rem 3rem!important;
`,re=(0,l.styled)(t.ModalFooter)`
  button {
    min-width: 75px!important;
  }
`,ce=(0,l.styled)(t.Modal)`
  .modal-content {
    border: 0px;
  }
`;const pe=(t,a)=>{let n,l;if(n=window.jimuConfig.isBuilder?(0,e.getAppStore)().getState().appStateInBuilder.appConfig.attributes.timezone:(0,e.getAppStore)().getState().appConfig.attributes.timezone,(null==n?void 0:n.type)===e.TimezoneConfig.Specific){const t=e.dataSourceUtils.getTimeZoneOffsetByName(n.value);l=a-e.dataSourceUtils.getLocalTimeOffset()+t}else l=a;return e.dateUtils.formatDateValueByEsriFormat(l,e.dateUtils.DATE_TIME_DEFAULT_ESRI_FORMAT,t)},de=(0,l.withTheme)((function(l){var i;const{onBack:o}=l,r=e.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.analytics})),c=e.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.cookieBanner})),p=e.ReactRedux.useSelector((e=>{var t,a,n;return null===(n=null===(a=null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.sectionNavInfos)||void 0===a?void 0:a["opts-section"])||void 0===n?void 0:n.currentViewId})),[d,u]=e.React.useState((null==r?void 0:r.enable)||!1),[m,g]=e.React.useState((null===(i=null==r?void 0:r.google)||void 0===i?void 0:i.measurementId)||""),[f,v]=e.React.useState((null==c?void 0:c.enable)||!1),[b,h]=e.React.useState((null==c?void 0:c.refreshPeriodically)||!1),[x,w]=e.React.useState((null==c?void 0:c.consentMode)||e.EConsentMode.Optional),[j,y]=e.React.useState((null==c?void 0:c.refreshPeriod)||180),[S,R]=e.React.useState(!1),C=e.hooks.useTranslation(t.defaultMessages,a),N=(0,e.useIntl)(),O=e.React.useCallback((e=>/^(G|UA|YT|MO)-[a-zA-Z0-9-]+$/.test(e)?{valid:!0}:{valid:!1,msg:C("invalidMeasurementMsg")+" G-XXXXXXXXXX"}),[C]),T=e.React.useCallback((()=>{R(!1)}),[]);e.React.useEffect((()=>{s.builderAppSync.publishChangeSelectionToApp(null)}),[]),e.React.useEffect((()=>{const t="appSetting"===p&&f;s.builderAppSync.publishOpenCookieBannerByPrivacyPanelToApp(t),(0,e.getAppStore)().dispatch(e.appActions.OpenCookieBannerSetting(t))}),[p,f]);const k=e.React.useCallback((()=>{s.builderAppSync.publishOpenCookieBannerByPrivacyPanelToApp(!1),(0,e.getAppStore)().dispatch(e.appActions.OpenCookieBannerSetting(!1)),o()}),[o]);return e.React.useEffect((()=>{window._builderPubsub.subscribe(`to_builder.${s.ToBuilderMessage.CloseBannerInLiveView}`,(e=>{k()}))}),[k]),(0,e.jsx)("div",{css:(z=l.theme,e.css`
    .header-title {
      padding: 1rem;
      font-size: 1rem;
      font-weight: 600;
      color: var(--ref-palette-neutral-1000);
      border-bottom: 1px solid rgb(106, 106, 106);
    }
    .selector-button {
      height: 2.5rem;
      line-height: 2.5rem;
      padding: 0;
      border: 1px dashed #828282;
      border-radius: 0.125rem;
      cursor: pointer;
      color: #00d8ed;
      font-size: 0.875rem;
      -webkit-text-decoration: none;
      text-decoration: none;
      background-color: transparent;
    }
    .setting-row-label{
      font-size: 0.8125rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: ${z.ref.palette.neutral[900]};
    }
  `),className:"h-100 w-100"},(0,e.jsx)("div",{className:"jimu-widget-setting--header d-flex align-items-center justify-content-between header-title"},(0,e.jsx)("div",{className:"text-truncate text-left"},(0,e.jsx)(t.Button,{onClick:k,size:"sm",icon:!0,type:"tertiary",className:"mr-2","aria-label":C("back")},(0,e.jsx)(I,{size:"m",autoFlip:!0})),C("privacy"))),(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0"},(0,e.jsx)(n.SettingRow,{role:"group",className:"mb-2",tag:"label",label:C("googleAnalytics"),"aria-label":C("googleAnalytics")},(0,e.jsx)(t.Switch,{checked:d,onChange:t=>{u(t.target.checked),W("enable",t.target.checked),H("uid",(0,e.uuidv1)())}}))),d&&(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0",title:C("measurementId"),role:"group"},(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.TextInput,{className:"w-100",defaultValue:m,checkValidityOnAccept:O,onAcceptValue:e=>{g(e),W(["google","measurementId"],e)},"aria-label":C("measurementId")}))),(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0"},(0,e.jsx)(n.SettingRow,{tag:"label",className:"setting-row-label d-flex justify-content-between"},(0,e.jsx)("div",null,(0,e.jsx)("span",null,C("cookieBanner")),(0,e.jsx)(t.Tooltip,{title:C("thirdPartyExplain"),placement:"bottom"},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0},(0,e.jsx)(A,null)))),(0,e.jsx)(t.Switch,{checked:f,onChange:t=>{v(t.target.checked),H("enable",t.target.checked),(0,e.getAppStore)().dispatch(e.appActions.OpenCookieBannerSetting(t.target.checked)),t.target.checked?H("uid",(0,e.uuidv1)()):(0,s.getAppConfigAction)().appConfig.cookieBanner&&(0,s.getAppConfigAction)().removeCookieBannerConfig().exec()}})),f&&(0,e.jsx)(e.React.Fragment,null,d&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingRow,{className:"mb-2",label:C("consentMode"),"aria-label":C("consentMode")}),(0,e.jsx)(n.RadioGroup,{className:"mb-2",value:x,options:[{value:e.EConsentMode.Required,content:C("consentRequired")},{value:e.EConsentMode.Optional,content:C("consentOptional")}],onChange:e=>{w(e),H("consentMode",e)}})),(0,e.jsx)(n.SettingRow,{className:"mb-2",label:C("consentRefreshSetting"),"aria-label":C("consentRefreshSetting")}),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,{className:"d-flex justify-content-between"},(0,e.jsx)(t.Checkbox,{checked:b,onChange:e=>{h(e.target.checked),H("refreshPeriodically",e.target.checked)}}),(0,e.jsx)("span",{className:"ml-2"},C("refreshPeriodically")))),b&&(0,e.jsx)(t.TextInput,{className:"w-100 mt-4 mb-4",value:j,suffix:(0,e.jsx)("span",null,C("days")),onChange:e=>{y(e.target.value)},onAcceptValue:e=>{const t=Math.abs(parseInt(e));y(isNaN(t)?180:t),H("refreshPeriod",t)}}),(0,e.jsx)(n.SettingRow,{label:C("renewUserConsents")}),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Button,{className:"w-100",size:"sm",type:"primary",onClick:()=>{R(!0)}},C("renewNow"))),(null==c?void 0:c.renewTime)&&(0,e.jsx)("span",null,`${C("lastTimeRenewed")}: ${pe(N,c.renewTime)}`),(0,e.jsx)(ce,{centered:!0,isOpen:S,toggle:T},(0,e.jsx)(ie,{className:"renew-modal-header"},(0,e.jsx)(se,{size:24,className:"mr-2",color:"var(--sys-color-warning-main)"}),(0,e.jsx)("span",null,C("renewModalTitle"))),(0,e.jsx)(oe,{className:"renew-modal-body"},(0,e.jsx)("span",null,C("renewModalDesc"))),(0,e.jsx)(re,null,(0,e.jsx)(t.Button,{type:"primary",size:"sm",onClick:()=>{H("renewTime",(new Date).getTime()),T()}},C("ok")),(0,e.jsx)(t.Button,{size:"sm",onClick:T},C("cancel")))))));var z}));var ue;function me(a){const{appItem:l,translate:s}=a,[i,o]=e.React.useState("");e.React.useEffect((()=>{const e=(null==l?void 0:l.snippet)||"";i!==e&&o(e)}),[null==l?void 0:l.snippet]);const r=e.hooks.useEventCallback((e=>{if((l.snippet||"")===e)return;G(l.set("snippet",e).set("clearEmptyFields",""===e).asMutable({deep:!0}))}));return(0,e.jsx)(n.SettingRow,{label:s("summaryField"),flow:"wrap"},(0,e.jsx)(t.TextArea,{placeholder:s("summaryPlaceholder"),value:i,onChange:e=>{o(e.target.value)},height:80,onAcceptValue:r}))}!function(e){e.Experience="Web Experience",e.Template="Web Experience Template"}(ue||(ue={}));const ge=e.css`
  .thumbnail-button {
    position: relative;
    cursor: pointer;
    .thumbnail-input {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
      font-size: 0;
    }
  }
  .thumbnail-image {
    aspect-ratio: 200 / 133;
    background-size: 100% 100%;
    background-position: center center;
    background-repeat: no-repeat;
  }
`;function fe(a){const{appItem:l,stateReady:s,folderUrl:i,portalUrl:o,translate:r}=a,[c,p]=e.React.useState(!1),[d,u]=e.React.useState(null),m=e.hooks.useEventCallback((()=>{p(!c)})),g=e.hooks.useEventCallback((e=>{var t;const a=null===(t=e.target)||void 0===t?void 0:t.files;if(!a||!a[0])return;if(a[0].size>10485760)return u(r("fileSizeTips",{maxSize:"10M"})),void p(!0);if(!a[0].type.startsWith("image/"))return u(r("imageTypeError")),void p(!0);const n=a[0].type,s=n.split(".")[n.split(".").length-1],i=new File([a[0]],`thumbnail${(new Date).getTime()}${s}`,{type:"image/png"}),o=window.URL.createObjectURL(i);G(l.set("thumbnailurl",o).asMutable({deep:!0})),e.target.value=null})),f=e.React.useMemo((()=>i+"./dist/runtime/assets/defaultthumb.png"),[i]);e.React.useEffect((()=>{var t;if((null===(t=(0,e.getAppStore)().getState().appRuntimeInfo)||void 0===t?void 0:t.saveThumbnailUrl)&&l&&!(null==l?void 0:l.thumbnailurl)&&!(null==l?void 0:l.thumbnail)){G(l.set("thumbnailurl",f).asMutable({deep:!0}),!0)}}),[null==l?void 0:l.thumbnailurl,null==l?void 0:l.thumbnail,f]),e.React.useEffect((()=>{const t=null==l?void 0:l.thumbnail;if(!t||!s)return;const a=null==l?void 0:l.id,n=e.SessionManager.getInstance().getSessionByUrl(o),i=n&&(null==n?void 0:n.token)?"?token="+n.token:"";let r="";r=window.jimuConfig.isDevEdition?`${window.location.origin}${window.jimuConfig.mountPath}apps/${a}/${t}`:`${o}/sharing/rest/content/items/${a}/info/${t}${i}`,fetch(r).then((e=>e.blob())).then((a=>{const n=t.split(".")[t.split(".").length-1],s=new File([a],`thumbnail${(new Date).getTime()}${n}`,{type:`image/${n}`}),i=window.URL.createObjectURL(s);G(l.set("thumbnailurl",i).asMutable({deep:!0}),!0),(0,e.getAppStore)().dispatch(e.appActions.saveThumbnailUrl(i))}))}),[null==l?void 0:l.id,null==l?void 0:l.thumbnail,o,s]);const v=e.React.useMemo((()=>{let e=f;return(null==l?void 0:l.thumbnailurl)&&(e=l.thumbnailurl),e}),[f,null==l?void 0:l.thumbnailurl]),b=e.React.useMemo((()=>({backgroundImage:"url("+v+")"})),[v]);return(0,e.jsx)("div",{role:"group",className:"thumbnail-setting mt-4 mb-4",css:ge,"aria-label":r("thumbnail")},(0,e.jsx)(n.SettingRow,{label:r("thumbnail")},(0,e.jsx)(t.Button,{size:"sm",title:r("browse"),className:"thumbnail-button"},r("browse"),(0,e.jsx)("input",{type:"file",accept:"image/*",className:"thumbnail-input",onChange:g})),(0,e.jsx)(t.AlertPopup,{isOpen:c,hideCancel:!0,toggle:m},(0,e.jsx)("div",{className:"align-middle pt-2"},(0,e.jsx)(se,{className:"mr-2 align-middle",size:24,color:"var(--sys-color-warning-main)"}),(0,e.jsx)("span",{className:"align-middle"},d)))),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)("div",{className:"thumbnail-image w-100",style:b})))}var ve=c(5809);function be(t){const{favicon:a,translate:l}=t,[s,i]=e.React.useState((null==a?void 0:a.asMutable({deep:!0}))||null),o=e.React.useMemo((()=>({color:!0})),[]);e.React.useEffect((()=>{const e=(null==a?void 0:a.asMutable({deep:!0}))||null;s!==e&&i(e)}),[a]);const r=e.hooks.useEventCallback((e=>{F("favicon",null==e?void 0:e.asMutable({deep:!0}))}));return(0,e.jsx)(n.SettingRow,{role:"group",label:l("favicon"),"aria-label":l("favicon")},(0,e.jsx)(ve.IconPicker,{previewOptions:o,configurableOption:"color",setButtonUseColor:!1,className:"flex-none",icon:s,onChange:r}))}var he=c(8547),xe=c.n(he),we=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const je=t=>{const a=window.SVG,{className:n}=t,l=we(t,["className"]),s=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:s,src:xe()},l)):e.React.createElement("svg",Object.assign({className:s},l))};function ye(l){const{portalUrl:s,context:i}=l,o=i.folderUrl,[r,c]=e.React.useState(0),p=e.hooks.useEventCallback((()=>{c(0)})),d=e.css`
    .title {
      padding: 18px 16px 2px 16px !important;
      font-size: 1rem;
      font-weight: 500;
      color: var(--ref-palette-neutral-1000);
    }
  `,u=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appInfo})),m=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig})),g=e.ReactRedux.useSelector((e=>null==m?void 0:m.attributes)),f=window.isExpressBuilder,v=e.hooks.useTranslation(t.defaultMessages,a),b=(null==u?void 0:u.type)===ue.Template?"templateSettings":"experienceSettings";return m&&u&&(0,e.jsx)("div",{css:d,className:"jimu-widget widget-app-setting setting-pane bg-default"},(0,e.jsx)("div",{className:(0,e.classNames)("w-100","h-100","overflow-auto",{"d-none":0!==r})},(0,e.jsx)("div",{role:"heading",className:"d-flex justify-content-between align-items-center mb-0 title"},(0,e.jsx)("div",{className:"text-truncate","aria-label":v(b)},v(b))),(0,e.jsx)(n.SettingSection,null,(0,e.jsx)(be,{favicon:null==g?void 0:g.favicon,translate:v}),(0,e.jsx)(fe,{appItem:u,stateReady:!!g,portalUrl:s,folderUrl:o,translate:v}),(0,e.jsx)(me,{appItem:u,translate:v}),!f&&m&&(0,e.jsx)($,{timezone:null==g?void 0:g.timezone,translate:v})),(0,e.jsx)(n.SettingSection,null,(0,e.jsx)(n.SettingRow,null,(0,e.jsx)("div",{className:"d-flex justify-content-between align-items-center w-100"},(0,e.jsx)("div",null,(0,e.jsx)(Y,{className:"mr-2"}),v("manageUrlStatus")),(0,e.jsx)(t.Button,{type:"tertiary",size:"sm",icon:!0,onClick:()=>{c(1)}},(0,e.jsx)(te,{autoFlip:!0})))),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)("div",{className:"d-flex justify-content-between align-items-center w-100"},(0,e.jsx)("div",null,(0,e.jsx)(je,{className:"mr-2"}),v("privacy")),(0,e.jsx)(t.Button,{type:"tertiary",size:"sm",icon:!0,onClick:()=>{c(2)}},(0,e.jsx)(te,{autoFlip:!0})))))),1===r&&(0,e.jsx)(L,{onBack:p}),2===r&&(0,e.jsx)(de,{onBack:p}))}function Se(e){c.p=e}})(),p})())}}}));