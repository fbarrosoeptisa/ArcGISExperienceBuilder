"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dist_stenci-b4f715"],{7976:(e,i,t)=>{t.r(i),t.d(i,{arcgis_infographic_modal:()=>n});var s=t(8796),o=t(6227);const n=class{get el(){return(0,s.g)(this)}baseConfig;_instanceId;_idPrefix="arcgis-infographic-modal-";constructor(e){(0,s.r)(this,e),this.modalId=void 0,this.config=void 0,this.searchResultObj=void 0,this.isOpen=!1,this.selectedReport=void 0,this.infographicOptions=void 0,this.portalUrl=void 0,this.portalOnlineGEProxy=void 0,this.selectedHierarchy=void 0,this.stSelectedHierarchy=void 0,this.baseConfig=new o.a("modal",this,this.onUpdateUI),this._instanceId=o.E.generateId(this._idPrefix).id}onHierarchyChanged(){this.stSelectedHierarchy=this.selectedHierarchy,this.baseConfig&&this.baseConfig.updateConfig({selectedHierarchy:this.stSelectedHierarchy})}onConfigChange(e,i){if(o.a.LogConfig("MODAL config change",e,i),e&&"string"==typeof e&&o.A.hasText(e)){const i=JSON.parse(e);o.a.LogConfig("BAC Modal config changing... ",i,i.username,i.token),this.baseConfig.updateConfig(i)}}onInvalidHierarchy(){this.el.style.setProperty("background-color","#f4f4f4"),this.el.style.setProperty("position","absolute"),this.el.style.setProperty("top","0"),this.el.style.setProperty("left","0"),this.el.style.setProperty("width","100%"),this.el.style.setProperty("height","100%")}onUpdateUI(){}setLocaleStrings(){}async componentWillLoad(){if(o.a.LogConfig("BAC Modal willLoad",this.config),this.config){let e="object"==typeof this.config?JSON.stringify(this.config):this.config;this.onConfigChange(e,""),this.config.selectedHierarchy&&!this.selectedHierarchy&&(this.selectedHierarchy=this.config.selectedHierarchy)}this.selectedHierarchy&&this.onHierarchyChanged()}componentDidLoad(){const e=this;requestAnimationFrame((()=>{e.baseConfig&&e.baseConfig.onComponentHasRendered()}))}componentDidUpdate(){this.baseConfig&&this.baseConfig.onComponentHasRendered()}render(){if(!this.searchResultObj)return;const{env:e,username:i,token:t,geoenrichmentUrl:n,sourceCountry:r,langCode:a}=this.baseConfig.config,{name:h,attributes:c,geometry:l,geography:g,symbol:d}=this.searchResultObj;return o.a.Log("BAC Modal render [config, options, selectedHierarchy]",this.baseConfig.config,this.infographicOptions,this.selectedHierarchy),(0,s.h)("arcgis-infographic",{id:this.modalId,env:e,username:i,token:t,geoenrichmentUrl:n,portalUrl:this.portalUrl,portalOnlineGEProxy:this.portalOnlineGEProxy,locationName:h,locationAttributes:JSON.stringify(c),sourceCountry:r,selectedHierarchy:this.selectedHierarchy,options:JSON.stringify(this.infographicOptions),langCode:a,reportId:this.selectedReport,reportLocation:`${this.searchResultObj.lon},${this.searchResultObj.lat}`,reportgeometry:JSON.stringify(l),reportgeography:JSON.stringify(g),onInvalidHierarchy:()=>this.onInvalidHierarchy(),reportsymbol:JSON.stringify(d)})}static get watchers(){return{selectedHierarchy:["onHierarchyChanged"],config:["onConfigChange"]}}};n.style=":host{display:block}.arcgisInfographicModalDeprecated{background-color:#f4f4f4;position:absolute;top:0;left:0;width:100%;height:100%}"}}]);