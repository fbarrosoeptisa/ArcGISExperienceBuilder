/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287"],{43856:(e,r,s)=>{s.r(r),s.d(r,{arcgis_smart_mapping:()=>o});var i=s(19564),a=s(66507),t=(s(12350),s(98034)),n=s(52437),l=s(59551),p=s(89261);s(91102),s(73807),s(99004),s(18991),s(9421);const o=class{constructor(e){(0,i.r)(this,e),this.smartMappingCompleteClose=(0,i.c)(this,"smartMappingCompleteClose",7),this.arcgisSmartMappingClose=(0,i.c)(this,"arcgisSmartMappingClose",7),this.arcgisSmartMappingBeforeBack=(0,i.c)(this,"arcgisSmartMappingBeforeBack",7),this.arcgisSmartMappingError=(0,i.c)(this,"arcgisSmartMappingError",7),this.arcgisSmartMappingClusterRequiresUpdate=(0,i.c)(this,"arcgisSmartMappingClusterRequiresUpdate",7),this.arcgisSmartMappingLoaded=(0,i.c)(this,"arcgisSmartMappingLoaded",7),this.closedViaEvent=!1,this.allFlowItemComponents="arcgis-smart-mapping,\n      arcgis-smart-mapping-panels-gallery,\n      arcgis-smart-mapping-panels-assist,\n      arcgis-smart-mapping-panels-simple,\n      arcgis-smart-mapping-panels-heatmap,\n      arcgis-smart-mapping-panels-predominance,\n      arcgis-smart-mapping-panels-predominance-size,\n      arcgis-smart-mapping-panels-relationship,\n      arcgis-smart-mapping-panels-relationship-size,\n      arcgis-smart-mapping-panels-size,\n      arcgis-smart-mapping-panels-chart,\n      arcgis-smart-mapping-panels-chart-size,\n      arcgis-smart-mapping-panels-color,\n      arcgis-smart-mapping-panels-color-size,\n      arcgis-smart-mapping-panels-color-size-univariate,\n      arcgis-smart-mapping-panels-compare,\n      arcgis-smart-mapping-panels-dot-density,\n      arcgis-smart-mapping-panels-type,\n      arcgis-smart-mapping-panels-type-size,\n      arcgis-smart-mapping-panels-raster-gallery,\n      arcgis-smart-mapping-panels-raster-flow,\n      arcgis-smart-mapping-panels-raster-vector-field,\n      arcgis-smart-mapping-panels-raster-stretch,\n      arcgis-smart-mapping-panels-raster-rgb,\n      arcgis-smart-mapping-panels-raster-shaded-relief,\n      arcgis-smart-mapping-panels-raster-class-breaks,\n      arcgis-smart-mapping-panels-raster-colormap,\n      arcgis-smart-mapping-panels-raster-unique-value",this.portal=void 0,this.config=void 0,this.mapView=void 0,this.layer=void 0,this.useFeatureReduction=!1,this.skipGallery=!1,this.stylePart=void 0,this.hideLayerTitle=!1,this.hideSvgUploadSymbols=!1,this.hideAddStyles=!1,this.selected=!1}arcgisSmartMappingCloseHandler(){this.closedViaEvent=!0}smartMappingCompleteCloseHandler(e){this.arcgisSmartMappingClose.emit(e.detail)}async setFocus(){this.flowNode.setFocus()}async componentWillLoad(){var e,r,s;console.warn("%capp-components","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",'[arcgis-smart-mapping] component in @arcgis/app-components is deprecated and will be removed in a future version. Use "arcgis-smart-mapping" from @arcgis/map-config-components instead.');const{mapView:i,layer:a}=this;if(!a||!i)return;if(n.s.layer=a,n.s.hideSvgUploadSymbols=null!==(e=this.hideSvgUploadSymbols)&&void 0!==e&&e,n.s.hideAddStyles=null!==(r=this.hideAddStyles)&&void 0!==r&&r,await async function(){if((0,n.i)()){const[e,r,s,i,a,l,p,o,m,g,c,d,h,S,u,M,C,y,b,z,E,P,f,A,R,v,w,U,F]=await(0,t.l)(["esri/layers/support/Field","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/smartMapping/raster/renderers/flow","esri/smartMapping/raster/renderers/vectorField","esri/smartMapping/raster/renderers/stretch","esri/smartMapping/raster/renderers/rgb","esri/smartMapping/raster/renderers/shadedRelief","esri/smartMapping/raster/renderers/classBreaks","esri/smartMapping/raster/renderers/colormap","esri/smartMapping/raster/renderers/uniqueValue","esri/smartMapping/raster/support/colorRamps","esri/smartMapping/raster/support/utils","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/color","esri/views/support/colorUtils","esri/smartMapping/symbology/flow","esri/rest/support/MultipartColorRamp","esri/rest/support/AlgorithmicColorRamp","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/Slider","esri/core/lang","esri/layers/support/fieldUtils","esri/symbols/support/previewSymbol2D","esri/smartMapping/raster/support/utils","esri/symbols/support/symbolUtils"]);n.s.modules={Field:e,SimpleMarkerSymbol:r,SimpleLineSymbol:s,SimpleFillSymbol:i,RasterFlowCreator:a,RasterVectorFieldCreator:l,RasterStretchCreator:p,RasterRGBCreator:o,RasterShadedReliefCreator:m,RasterClassBreaksCreator:g,RasterColormapCreator:c,RasterUniqueValueCreator:d,rasterColorRampUtils:h,RasterRendererUtils:S,esriColor:u,typeSchemes:M,colorSchemes:C,colorUtils:y,flowSchemes:b,MultipartColorRamp:z,AlgorithmicColorRamp:E,ColorSlider:P,ClassedColorSlider:f,Slider:A,esriLang:R,fieldUtils:v,previewSymbol2D:w,smartMappingRasterUtils:U,symbolUtils:F}}else{const[e,r,s,i,a,l,p,o,m,g,c,d,h,S,u,M,C,y,b,z,E,P,f,A,R,v,w,U,F,V,k,L,O,B,q,I,T,G,x,_,D,H,N,J,j,Q,W,K,X,Y,Z,$,ee,re,se,ie,ae,te,ne,le,pe,oe,me,ge,ce,de]=await(0,t.l)(["esri/renderers/support/AuthoringInfo","esri/renderers/SimpleRenderer","esri/renderers/support/AttributeColorInfo","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic","esri/geometry/SpatialReference","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/rest/support/Query","esri/rest/support/FeatureSet","esri/layers/support/Field","esri/intl","esri/smartMapping/renderers/opacity","esri/smartMapping/renderers/pieChart","esri/smartMapping/renderers/color","esri/smartMapping/renderers/univariateColorSize","esri/smartMapping/renderers/dotDensity","esri/smartMapping/renderers/heatmap","esri/smartMapping/renderers/location","esri/smartMapping/renderers/predominance","esri/smartMapping/renderers/relationship","esri/smartMapping/renderers/size","esri/smartMapping/renderers/type","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/heatmap","esri/smartMapping/symbology/relationship","esri/smartMapping/symbology/predominance","esri/smartMapping/symbology/pieChart","esri/smartMapping/symbology/color","esri/smartMapping/symbology/dotDensity","esri/views/support/colorUtils","esri/smartMapping/statistics/heatmapStatistics","esri/smartMapping/statistics/summaryStatistics","esri/smartMapping/statistics/histogram","esri/smartMapping/statistics/predominantCategories","esri/renderers/visualVariables/support/SizeStop","esri/renderers/visualVariables/RotationVariable","esri/renderers/visualVariables/SizeVariable","esri/renderers/support/HeatmapColorStop","esri/renderers/support/UniqueValue","esri/renderers/support/UniqueValueClass","esri/renderers/support/UniqueValueGroup","esri/widgets/smartMapping/OpacitySlider","esri/widgets/smartMapping/HeatmapSlider","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/smartMapping/SizeSlider","esri/widgets/smartMapping/ClassedSizeSlider","esri/widgets/smartMapping/ColorSizeSlider","esri/widgets/smartMapping/BinaryColorSizeSlider","esri/widgets/Slider","esri/core/lang","esri/core/urlUtils","esri/request","esri/layers/support/fieldUtils","esri/widgets/smartMapping/support/utils","esri/symbols/support/cimSymbolUtils","esri/symbols/support/previewSymbol2D","esri/core/reactiveUtils","esri/renderers/support/jsonUtils","esri/renderers/support/utils","esri/symbols/support/symbolUtils"]);n.s.modules={AuthoringInfo:e,SimpleRenderer:r,AttributeColorInfo:s,Point:i,Polyline:a,Polygon:l,Graphic:p,SpatialReference:o,SimpleMarkerSymbol:m,SimpleLineSymbol:g,SimpleFillSymbol:c,Query:d,FeatureSet:h,Field:S,intl:u,OpacityVariableCreator:M,PieChartCreator:C,ColorCreator:y,UnivariateColorSizeCreator:b,DotDensityCreator:z,HeatmapCreator:E,LocationCreator:P,PredominanceCreator:f,RelationshipCreator:A,SizeCreator:R,TypeCreator:v,esriColor:w,typeSchemes:U,heatmapSchemes:F,relationshipSchemes:V,predominanceSchemes:k,pieChartSchemes:L,colorSchemes:O,dotDensitySchemes:B,colorUtils:q,heatmapStatistics:I,summaryStatistics:T,histogram:G,predominantCategories:x,SizeStop:_,RotationVariable:D,SizeVariable:H,HeatmapColorStop:N,UniqueValue:J,UniqueValueClass:j,UniqueValueGroup:Q,OpacitySlider:W,HeatmapSlider:K,ColorSlider:X,ClassedColorSlider:Y,SizeSlider:Z,ClassedSizeSlider:$,ColorSizeSlider:ee,BinaryColorSizeSlider:re,Slider:se,esriLang:ie,urlUtils:ae,esriRequest:te,fieldUtils:ne,smartMappingUtils:le,cimSymbolUtils:pe,previewSymbol2D:oe,reactiveUtils:me,rendererJsonUtils:ge,rendererSupportUtils:ce,symbolUtils:de}}}(),"esri.layers.support.Sublayer"===a.declaredClass){let e=!1;const r=null===(s=a.layer.sourceJSON)||void 0===s?void 0:s.cimVersion;if(r){const s=r.split("."),i=parseFloat(1===s.length?r:s[0]+"."+s[1]);e=a.layer.version>=10.51&&i>=1.4}n.s.mapImageSublayer=a,delete n.s.layer,await n.s.modules.reactiveUtils.whenOnce((()=>!i.updating)).then((async()=>{await n.s.mapImageSublayer.createFeatureLayer().then((async r=>{this.layer=r,await r.load().then((async()=>{await this.loadStore(),n.s.supportsArcade=e,await this.processLayer()}))}))}))}else"knowledge-graph-sublayer"===a.type&&(n.s.supportsArcade=!1),n.s.mapImageSublayer=null,await this.loadStore(),await this.processLayer();const l=(0,n.f)(this.hostElement,"calcite-flow");l&&(n.s.containsFlow=!1,this.flowNode=l)}async componentDidLoad(){if(!(null===n.s||void 0===n.s?void 0:n.s.containsFlow)&&this.selected){const e=Array.from(this.hostElement.childNodes);e[e.length-1].selected=!0}this.arcgisSmartMappingLoaded.emit()}disconnectedCallback(){this.closedViaEvent||this.arcgisSmartMappingClose.emit("save")}async loadStore(){const[e,r,s]=await(0,a.g)(this.hostElement);(0,n.c)(n.s);const{portal:i,config:t,mapView:l,layer:o,hideLayerTitle:m,useFeatureReduction:g,hideSvgUploadSymbols:c,hideAddStyles:d}=this;n.s.portal=i,n.s.config=t,n.s.mapView=l,n.s.layer=o,n.s.hideLayerTitle=m,n.s.strings=e,n.s.locale=r,n.s.fullLocale=s,n.s.isRTL="rtl"===(0,p.g)(this.hostElement),n.s.useFeatureReduction=g,n.s.hideSvgUploadSymbols=c,n.s.hideAddStyles=d}render(){const{containsFlow:e,isRTL:r}=n.s;return(0,i.h)(i.H,{key:"761d770ce55fbedb346a771afa4af4b5f1191f2d",class:"calcite-match-height"},e?(0,i.h)("calcite-flow",{class:{flow:!0,[p.C.rtl]:r},ref:e=>this.flowNode=e,customItemSelectors:this.allFlowItemComponents},this.renderContent()):this.renderContent())}renderContent(){const{skipGallery:e}=this,{layer:r,containsFlow:s}=n.s;return e?this.renderSkipGallery():"geo-rss"===r.type?(0,i.h)("arcgis-smart-mapping-panels-simple",{selected:this.selected,onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleBackClick:()=>this.arcgisSmartMappingClose.emit("save")}):(0,n.i)()?(0,i.h)("arcgis-smart-mapping-panels-raster-gallery",{selected:this.selected,onArcgisSmartMappingPanelsRasterGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-gallery",{showBackButton:!s,beforeBack:async()=>{s||this.arcgisSmartMappingBeforeBack.emit("save")},selected:this.selected,onArcgisSmartMappingPanelsGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e),onArcgisSmartMappingPanelsGalleryClusterRequiresUpdate:()=>this.arcgisSmartMappingClusterRequiresUpdate.emit()})}renderSkipGallery(){const{originalRendererJSON:e,originalFeatureReduction:r,stylePart:s}=this;switch((0,n.i)()?(0,n.g)():(0,n.a)()){case"simple":return(0,i.h)("arcgis-smart-mapping-panels-simple",{selected:this.selected,onArcgisSmartMappingPanelsSimpleClose:({detail:s})=>{"cancel"===s&&e&&(0,n.m)(e,r),this.arcgisSmartMappingClose.emit(s)},onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"heatmap":return(0,i.h)("arcgis-smart-mapping-panels-heatmap",{selected:this.selected,onArcgisSmartMappingPanelsHeatmapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsHeatmapError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color":case"color-age":return(0,i.h)("arcgis-smart-mapping-panels-color",{selected:this.selected,onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"size":case"size-age":return(0,i.h)("arcgis-smart-mapping-panels-size",{selected:this.selected,onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color-size":case"color-age-size":case"color-size-age":const a=(0,n.b)(),t=(0,n.d)(a,"color"),l=(0,n.d)(a,"size");return t.field===l.field&&t.valueExpression===l.valueExpression&&t.valueExpressionTitle===l.valueExpressionTitle?(0,i.h)("arcgis-smart-mapping-panels-color-size-univariate",{selected:this.selected,onArcgisSmartMappingPanelsColorSizeUnivariateClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeUnivariateError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"color"===s?(0,i.h)("arcgis-smart-mapping-panels-color",{selected:this.selected,onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===s?(0,i.h)("arcgis-smart-mapping-panels-size",{selected:this.selected,onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-color-size",{selected:this.selected,onArcgisSmartMappingPanelsColorSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"compare":return(0,i.h)("arcgis-smart-mapping-panels-compare",{selected:this.selected,onArcgisSmartMappingPanelsCompareClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsCompareError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"dot-density":return(0,i.h)("arcgis-smart-mapping-panels-dot-density",{selected:this.selected,onArcgisSmartMappingPanelsDotDensityClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"relationship":return(0,i.h)("arcgis-smart-mapping-panels-relationship",{selected:this.selected,onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"relationship-size":return"color"===s?(0,i.h)("arcgis-smart-mapping-panels-relationship",{selected:this.selected,onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===s?(0,i.h)("arcgis-smart-mapping-panels-size",{selected:this.selected,onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-relationship-size",{selected:this.selected,onArcgisSmartMappingPanelsRelationshipSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance":return(0,i.h)("arcgis-smart-mapping-panels-predominance",{selected:this.selected,onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance-size":return"color"===s?(0,i.h)("arcgis-smart-mapping-panels-predominance",{selected:this.selected,onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===s?(0,i.h)("arcgis-smart-mapping-panels-size",{selected:this.selected,onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-predominance-size",{selected:this.selected,onArcgisSmartMappingPanelsPredominanceSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart":return(0,i.h)("arcgis-smart-mapping-panels-chart",{selected:this.selected,onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart-size":return"color"===s?(0,i.h)("arcgis-smart-mapping-panels-chart",{selected:this.selected,onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===s?(0,i.h)("arcgis-smart-mapping-panels-size",{selected:this.selected,onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-chart-size",{selected:this.selected,onArcgisSmartMappingPanelsChartSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type":return(0,i.h)("arcgis-smart-mapping-panels-type",{selected:this.selected,onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type-size":return"color"===s?(0,i.h)("arcgis-smart-mapping-panels-type",{selected:this.selected,onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===s?(0,i.h)("arcgis-smart-mapping-panels-size",{selected:this.selected,onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-type-size",{selected:this.selected,onArcgisSmartMappingPanelsTypeSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-flow":return(0,i.h)("arcgis-smart-mapping-panels-raster-flow",{selected:this.selected,onArcgisSmartMappingPanelsRasterFlowClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterFlowError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-vector-field":return(0,i.h)("arcgis-smart-mapping-panels-raster-vector-field",{selected:this.selected,onArcgisSmartMappingPanelsRasterVectorFieldClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterVectorFieldError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-stretch":return(0,i.h)("arcgis-smart-mapping-panels-raster-stretch",{selected:this.selected,onArcgisSmartMappingPanelsRasterStretchClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterStretchError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-rgb":return(0,i.h)("arcgis-smart-mapping-panels-raster-rgb",{selected:this.selected,onArcgisSmartMappingPanelsRasterRgbClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterRgbError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-shaded-relief":return(0,i.h)("arcgis-smart-mapping-panels-raster-shaded-relief",{selected:this.selected,onArcgisSmartMappingPanelsRasterShadedReliefClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterShadedReliefError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-class-breaks":return(0,i.h)("arcgis-smart-mapping-panels-raster-class-breaks",{selected:this.selected,onArcgisSmartMappingPanelsRasterClassBreaksClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterClassBreaksError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-colormap":return(0,i.h)("arcgis-smart-mapping-panels-raster-colormap",{selected:this.selected,onArcgisSmartMappingPanelsRasterColormapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"raster-unique-value":return(0,i.h)("arcgis-smart-mapping-panels-raster-unique-value",{selected:this.selected,onArcgisSmartMappingPanelsRasterUniqueValueClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterUniqueValueError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});default:return(0,i.h)("arcgis-smart-mapping-panels-simple",{selected:this.selected,onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)})}}async processLayer(){const{layer:e,strings:r,modules:s}=n.s;let i=(0,n.b)();e&&(0,n.i)()&&(n.s.rasterInfo=await(0,n.e)(e)),!i&&(0,n.i)()&&(i=await(0,n.h)());const a=(0,n.i)()?(0,n.g)():(0,n.a)();if(n.s.oneFeatureResponseStatus=n.j.MISSING,"geo-rss"===e.type)return Promise.resolve();"color"!==a||i.authoringInfo||(0,n.d)(i,"color")?"size"!==a||i.authoringInfo||(0,n.d)(i,"size")||(i.authoringInfo={classificationMethod:"manual",type:"class-breaks-size"}):i.authoringInfo={classificationMethod:"manual",type:"class-breaks-color"},await(0,n.k)().then((async()=>{if("unknown"===a)console.log("unsupported renderer",i),this.switchToSimpleRenderer(i);else{const e=await s.fieldUtils.getRendererFields(i),a=null==e?void 0:e.some((e=>{var r;return!(null===(r=n.s.layerFields)||void 0===r?void 0:r.some((r=>r.name.toLowerCase()===e.toLowerCase())))}));!(0,n.i)()&&a?this.switchToSimpleRenderer(i):(n.s.selectedFields=(0,n.l)(),n.s.selectedFields.forEach((e=>{e.expression&&!e.expressionTitle&&(e.expressionTitle=r.expression)})))}return Promise.resolve()}))}switchToSimpleRenderer(e){const{layer:r,modules:s}=n.s;this.originalRendererJSON=e.toJSON(),this.originalFeatureReduction="featureReduction"in r&&r.featureReduction?s.esriLang.clone(r.featureReduction):void 0,(0,l.c)().then((e=>{(0,n.u)(e.renderer),n.s.selectedFields=[]})).catch((e=>console.log(e)))}static get assetsDirs(){return["assets"]}get hostElement(){return(0,i.d)(this)}};o.style=".sc-arcgis-smart-mapping-h{height:100%;width:100%}.flow.sc-arcgis-smart-mapping{height:100%}"},59551:(e,r,s)=>{s.d(r,{a:()=>n,b:()=>p,c:()=>t,d:()=>l});var i=s(9421),a=s(52437);s(98034);function t(e){var r;const{layer:s,useFeatureReduction:t,mapImageSublayer:n,mapView:l,modules:p}=a.s,o=s;e=e||{};const m=(0,a.o)((0,a.b)());return p.LocationCreator.createRenderer({layer:o,view:l,outlineOptimizationEnabled:!n&&(!(0,i.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!n&&(!(0,i.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),forBinning:"binning"===(null===(r=o.featureReduction)||void 0===r?void 0:r.type)&&t}).then((e=>((0,a.n)(m,e.renderer),Promise.resolve(e))),(e=>Promise.reject(e)))}function n(e){var r;const{layer:s,useFeatureReduction:t,mapImageSublayer:n,mapView:l,modules:p}=a.s,o=s;e=e||{};const m=(0,a.b)(),g=(0,a.a)(),c=(0,a.o)(m),d=m.symbol?m.symbol:(0,a.p)(g),h={layer:o,view:l,outlineOptimizationEnabled:!n&&((0,i.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!c.sizeOutlineVisVar),sizeOptimizationEnabled:!n&&((0,i.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!c.sizeAutoVisVar),forBinning:"binning"===(null===(r=o.featureReduction)||void 0===r?void 0:r.type)&&t};return p.LocationCreator.createRenderer(h).then((e=>((0,a.n)(c,e.renderer),d&&(e.renderer.symbol=d),Promise.resolve(e))),(e=>Promise.reject(e)))}function l(){var e;const{layer:r,useFeatureReduction:s,mapView:i,modules:t}=a.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:i,outlineOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&s}).then((e=>{const r=(0,a.d)(e.renderer,"size","outline");return Promise.resolve(r)}))}function p(){var e;const{layer:r,useFeatureReduction:s,mapView:i,modules:t}=a.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:i,outlineOptimizationEnabled:!1,sizeOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&s}).then((e=>{const r=(0,a.d)(e.renderer,"size","auto");return Promise.resolve(r)}))}}}]);