/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-user-av-0d1c29.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-user-av-0d1c29"],{7525:(e,a,t)=>{t.r(a),t.d(a,{arcgis_user_avatar:()=>o});var r=t(19564),s=t(66507),i=t(84873),n=t(67582);t(91102),t(73807),t(89261),t(98034),t(99004),t(44508),t(4948),t(18991),t(57159),t(65174),t(22112);const o=class{constructor(e){(0,r.r)(this,e),this.user=void 0,this.portal=void 0,this.scale="m",this.showName=void 0,this.showAvatar=!0,this.heading=void 0,this.description=void 0,this.underline=void 0,this.username=void 0,this.wrap=void 0,this.checkOnline=void 0}async componentWillLoad(){const{el:e,portal:a,username:t,checkOnline:r}=this;this.lang=await(0,s.a)(e),t?this.user=await(0,n.f)(t,a,r):this.thumbnailUrl=(0,n.d)(this.user,a,this.checkOnline)}updateThumbnail(){this.thumbnailUrl=(0,n.d)(this.user,this.portal,this.checkOnline)}renderSkeleton(){return(0,r.h)("div",{class:"skeleton"},this.showAvatar&&(0,r.h)("div",{class:"skeleton-avatar"}),this.showName&&(0,r.h)("div",{class:"skeleton-name"}))}renderUser(){const{user:e,lang:a,thumbnailUrl:t,showAvatar:s,showName:o,description:l,scale:c,underline:u,heading:d}=this,{fullName:h,username:m}=e,p=(0,i.g)(e),v=!!l,g=((null==h?void 0:h.split(" "))||[]).slice(0,2).join(" "),w=this.wrap?"text--clamp":"text--ellipsis";return[s&&(0,r.h)("calcite-avatar",Object.assign({class:"avatar",scale:"xs"===c?"s":c,fullName:g,username:m,userId:p,thumbnail:t},o||v?{inert:!0}:{})),(o||v)&&(0,r.h)("span",{class:{text:!0,"text--underline":u,"text--no-avatar":!s}},o&&(0,r.h)("span",{class:{title:!0,"has-description":v,[w]:!0}},d||(0,n.g)(e,a)),v&&(0,r.h)("span",{class:{description:!0,[w]:!0}},l))]}render(){return(0,r.h)(r.H,{key:"e54e8d89ca1a6fdaac2a25389b5bdb7027877829"},this.user&&this.lang?this.renderUser():this.renderSkeleton())}get el(){return(0,r.d)(this)}static get watchers(){return{user:["updateThumbnail"]}}};o.style=":host{max-width:100%}.skeleton{display:flex}@keyframes pulse{50%{opacity:.5}}.skeleton{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;align-items:center}.skeleton-avatar{border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.skeleton-name{border-radius:var(--calcite-border-radius);background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-skeleton-width);border-radius:var(--arcgis-user-avatar-spacing);height:var(--arcgis-user-avatar-spacing);margin-inline-start:var(--arcgis-user-avatar-spacing)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.avatar{display:block;flex-shrink:0;flex-grow:0;border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.text{display:flex;min-width:0px;flex-direction:column;justify-content:center;color:var(--calcite-color-text-2);text-align:start;margin-inline-start:var(--arcgis-user-avatar-spacing);line-height:calc(var(--arcgis-user-avatar-size) / 2)}.text--no-avatar{margin-inline-start:0px}.-text-underline .title{text-decoration-line:underline}.text--clamp{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.text--ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-description{font-weight:500}.description{font-weight:400;color:var(--calcite-color-text-2)}:host{display:flex;min-width:0px;align-items:center}:host([scale=xs]){font-size:0.75rem;--arcgis-user-avatar-size:18px;--arcgis-user-avatar-spacing:0.25rem}:host([scale=xs]) .description{font-size:0.625rem;margin-top:-0.125rem}:host([scale=xs]) .text{line-height:1.35}:host([scale=s]){font-size:0.75rem;--arcgis-user-avatar-size:1.5rem;--arcgis-user-avatar-spacing:0.5rem;--arcgis-user-avatar-skeleton-width:4rem}:host([scale=s]) .description{font-size:0.625rem}:host([scale=m]){font-size:0.875rem;--arcgis-user-avatar-size:2rem;--arcgis-user-avatar-spacing:0.75rem;--arcgis-user-avatar-skeleton-width:5rem}:host([scale=m]) .description{font-size:0.75rem}:host([scale=l]){font-size:1rem;--arcgis-user-avatar-size:2.5rem;--arcgis-user-avatar-spacing:1rem;--arcgis-user-avatar-skeleton-width:6rem}:host([scale=l]) .description{font-size:0.875rem}"},96295:(e,a,t)=>{t.d(a,{H:()=>r,R:()=>s});const r='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',s="Indoors Map Configuration,Code Attachment"},67582:(e,a,t)=>{t.d(a,{a:()=>u,b:()=>d,c:()=>h,d:()=>m,f:()=>c,g:()=>p});var r=t(44508),s=t(96295),i=t(57159),n=t(91102),o=t(65174),l=t(22112);async function c(e,a,t){const s=`${t?"https://www.arcgis.com/sharing/rest/":(0,r.g)(a)}community/users/${e}`,n=(null==s?void 0:s.includes("www.arcgis.com"))&&a.isPortal?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)((async()=>{try{return await(0,i.r)(s,{},n)}catch(a){return{username:e}}}),"user",s)}async function u(e,a,t,r){var s,i;if("public_authoritative"===(null==e?void 0:e.contentStatus)||"public_authoritative"===(null===(s=e.sourceJSON)||void 0===s?void 0:s.contentStatus)){const s=await(0,l.f)(e,t,a,r);if(!s)return c(e.owner,a,r);const{description:o,name:u,thumbnail:d,url:h}=s;return{description:o?(0,n.s)(o):"",fullName:u,username:e.owner,thumbnail:d,id:e.orgId||(null===(i=e.portal)||void 0===i?void 0:i.id),url:h}}return c(e.owner,a,r)}async function d(e,a,t){const s=t?"https://www.arcgis.com/sharing/rest/":(0,r.g)(a),n=t?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)((async()=>(0,i.r)(`${s}community/groups`,{q:`(owner:"${e}")`,num:100},n)),"userGroups",e)}async function h(e,a,t){const n=t?"https://www.arcgis.com/sharing/rest/":(0,r.g)(a),o=t?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)((async()=>(await(0,i.r)(`${n}search`,{q:`(owner:"${e}") ${s.H}`,num:1},o)).total),"userItemsTotal",e)}function m(e,a,t=!1){if(null==e?void 0:e.thumbnailUrl)return e.thumbnailUrl;if(!(null==e?void 0:e.thumbnail))return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const s=(0,o.g)(a);return`${t?"https://www.arcgis.com/sharing/rest/":(0,r.g)(a)}community/users/${e.username}/info/${e.thumbnail}${s&&!t?`?token=${s}`:""}`}function p(e,a){const{fullName:t,firstName:r,lastName:s,username:i}=e;return t||(r&&s?"ja"===a?`${s} ${r}`:`${r} ${s}`:i)}},22112:(e,a,t)=>{t.d(a,{f:()=>i});var r=t(57159),s=t(91102);async function i(e,a,t,i){var n,o,l,c,u;const d=null!==(u=null!==(l=null!==(n=e.orgId)&&void 0!==n?n:null===(o=e.sourceJSON)||void 0===o?void 0:o.orgId)&&void 0!==l?l:null===(c=e.portal)||void 0===c?void 0:c.id)&&void 0!==u?u:null==t?void 0:t.id;return(0,r.f)((()=>async function(e,a,t,i,n){var o,l;const c=(null===(o=e.portal)||void 0===o?void 0:o.portalHostname)||(null==i?void 0:i.portalHostname)||(null===(l=null==i?void 0:i.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),u=n?`https://www.arcgis.com/sharing/rest/portals/${a}`:`https://${c}/sharing/rest/portals/${a}`;if(!c&&!n)return null;const d=n?{disableIdentityLookup:!0,addTokenManually:!1}:{},h=await(0,r.r)(u,{},d),{urlKey:m,thumbnail:p,customBaseUrl:v}=h,g=`https://${m}.${v}/`,w=p?`${g}sharing/rest/portals/self/resources/${p}`:null;let f,b;try{const e=await(0,r.r)(`${u}/resources/localizedOrgProperties`,{start:1,num:100},d);if(e){const a=e[t]||e.default;f=a.name,b=a.description||e.description}}catch(e){}return{name:f||h.name,description:(0,s.a)(b||h.description),url:`${g}home/`,thumbnail:w}}(e,d,a,t,i)),"verified",d)}}}]);