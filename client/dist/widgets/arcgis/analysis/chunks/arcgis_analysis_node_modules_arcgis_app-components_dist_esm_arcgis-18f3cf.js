/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-18f3cf.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-18f3cf"],{99004:(e,t,r)=>{r.d(t,{c:()=>n,g:()=>a});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},61191:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>s,c:()=>o,d:()=>n});const n=(0,r(18991).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),a=n.state,o=n.state,s=n.state},23388:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_preference:()=>i});var n=r(19564),a=r(61191),o=r(33861),s=r(98821),c=r(84775);r(18991),r(4948),r(44508),r(86868),r(32084),r(91102),r(73807),r(90079),r(32198),r(65174),r(57159),r(98034),r(99004);const i=class{constructor(e){(0,n.r)(this,e),this.newItemUpdatePage=(0,n.c)(this,"newItemUpdatePage",7),this.featureLayerInfos=[],this.showCaptureGPS=!0,this.layerPreference={captureGPS:!1,enableZDefaults:!1,enableMDefaults:!1}}handleNext(){const{featureLayerInfos:e,layerPreference:t}=this,r=(0,s.m)(e,t);a.a.serviceInfo=Object.assign(Object.assign({},a.a.serviceInfo),{enableZDefaults:t.enableZDefaults,enableMDefaults:t.enableMDefaults,layers:r.filter((e=>"Feature Layer"===e.type)),tables:r.filter((e=>"Table"===e.type))}),this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,t;const{i18n:r}=o.u;this.i18n=r.featureLayerFromScratch;const{serviceInfo:n}=a.a,c=n;this.featureLayerInfos=[...c.layers,...c.tables].sort(((e,t)=>e.id-t.id)),this.layerPreference={captureGPS:this.featureLayerInfos.some(s.l),enableZDefaults:null!==(e=c.enableZDefaults)&&void 0!==e?e:this.featureLayerInfos.some(s.d),enableMDefaults:null!==(t=c.enableMDefaults)&&void 0!==t?t:this.featureLayerInfos.some(s.e)},this.showCaptureGPS=this.featureLayerInfos.some((e=>"Feature Layer"===e.type&&["esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"].includes(e.geometryType)))}render(){const{i18n:e,layerPreference:t,showCaptureGPS:r}=this;return(0,n.h)(n.H,{key:"3398657fde15197f07e7fa9a6e49896bf6f8f32d"},(0,n.h)("arcgis-new-item-layer-preference",{key:"cf9c024639fcd36a66ba3e0be2564ce9ea6bee4d",i18n:e,defaultPreference:t,showCaptureGPS:r,onLayerPreferenceChange:e=>{const{layerPreference:t}=this,r=e.detail;!t.captureGPS&&r.captureGPS&&(0,c.e)("captureGPS"),!t.enableZDefaults&&r.enableZDefaults&&(0,c.e)("enableZDefaults"),!t.enableMDefaults&&r.enableMDefaults&&(0,c.e)("enableMDefaults"),this.layerPreference=r}}))}}},91102:(e,t,r)=>{r.d(t,{a:()=>i,c:()=>a,d:()=>l,g:()=>o,i:()=>s,s:()=>c});var n=r(73807);function a(e,t){return function e(r){return r?r.closest(t)||e(function(e){return e.getRootNode()}(r).host||null):null}(e)}function o(e){const t=a(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function s(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function c(e){return(new n.S).sanitize(e)}function i(e){const t=c(e),r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}function l(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},84775:(e,t,r)=>{r.d(t,{a:()=>y,b:()=>f,c:()=>h,d:()=>p,e:()=>u,f:()=>m,i:()=>d});var n=r(4948),a=r(61191),o=r(57159),s=r(44508);const c="create feature layer",i="my content",l=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},u=e=>{const t=n.c.telemetry;null==t||t.stepWorkflow(c,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:c,attribute:l(a.a.addFeatureLayerType),pageName:i})},d=e=>{const t=n.c.telemetry;null==t||t.stepWorkflow(c,`expand ${e} details`,{category:c,attribute:l(a.a.addFeatureLayerType),pageName:i})},f=()=>{const e=n.c.telemetry;null==e||e.stepWorkflow(c,"filter",{category:c,attribute:l(a.a.addFeatureLayerType),pageName:i})},p=e=>{const t=l(e),r=n.c.telemetry;null==r||r.stepWorkflow(c,"from option",{category:c,attribute:t,pageName:i})},y=()=>{const{addFeatureLayerType:e,serviceInfo:t}=a.a,r=t,o=n.c.telemetry;null==o||o.endWorkflow(c,{category:c,attribute:l(e),pageName:i,count:r.layers.length,number:r.tables.length})},m=e=>{var t;null===(t=n.c.telemetry)||void 0===t||t.logError({category:c,error:e})};async function h(){const e=(0,s.g)().replace("portal/sharing/rest/","server/admin/services/types/customdataproviders/checkcdf");try{return await(0,o.r)(e,"post")}catch(e){return e}}},86868:(e,t,r)=>{r.d(t,{a:()=>o,g:()=>i,i:()=>s});var n=r(18991),a=r(32084);const o=(0,n.c)({title:"",snippet:"",tags:[],categories:[]}),s=o.state,c=new Map;function i(e){return(0,a.g)({el:e,tag:"arcgis-item-properties",cache:c})}},98034:(e,t,r)=>{r.d(t,{e:()=>o,l:()=>s});var n,a=r(99004),o={exports:{}};n=o.exports,a.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function a(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=r);var t=o(e),s=a(e);if(s!==n&&3===s.major){var c=s.minor<=10?"js/":"";return"".concat(t).concat(c,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function c(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function i(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function l(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function u(e){return!e||a(e)?s(e):e}function d(e,t){var r=u(e),n=l(r);return n||i(n=c(r),t),n}var f={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function y(e,t,r){var n;r&&(n=m(e,r));var a=function(){t(e),e.removeEventListener("load",a,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",a,!1)}function m(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function h(e){void 0===e&&(e={}),f=e}function v(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var r={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var n=r.version,a=r.url||o(n);return new t.Promise((function(e,t){var o=v();if(o){var s=o.getAttribute("src");s!==a?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):g()?e(o):y(o,e,t)}else if(g())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=r.css;c&&d(!0===c?n:c,r.insertCssBefore),y(o=p(a),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function w(e){return new t.Promise((function(t,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}function P(e,t){if(void 0===t&&(t={}),g())return w(e);var r=v(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),b(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=P,e.getScript=v,e.isLoaded=g,e.loadScript=b,e.setDefaultOptions=h,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(n);const s=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},32084:(e,t,r)=>{r.d(t,{g:()=>a});var n=r(91102);function a(e){const{el:t,tag:r,cache:a}=e,o=(0,n.c)(t,r),s=a.get(o);return s||(o?(a.set(o,o.store),o.store):null)}},33861:(e,t,r)=>{r.d(t,{a:()=>n,u:()=>a});const n=(0,r(18991).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),a=n.state}}]);