/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c78b38.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c78b38"],{10873:(e,t,i)=>{i.r(t),i.d(t,{arcgis_workflow:()=>r});var o=i(19564),a=i(26408),s=i(66507),n=i(56288);i(91102),i(73807),i(89261),i(98034),i(99004),i(18991);const r=class{constructor(e){(0,o.r)(this,e),this.arcgisWorkflowUpdatePage=(0,o.c)(this,"arcgisWorkflowUpdatePage",7),this.arcgisWorkflowCancel=(0,o.c)(this,"arcgisWorkflowCancel",7),this.arcgisWorkflowComplete=(0,o.c)(this,"arcgisWorkflowComplete",7),this.showBackButton=!1,this.workflowCompleted=!1,this.toggleFooterVisibility=e=>{var t;const i=(null===(t=this.dialogRef)||void 0===t?void 0:t.shadowRoot.querySelector("calcite-panel")).shadowRoot;if(i){const t=i.querySelector(".footer"),o=i.querySelector(".content-wrapper");t&&o&&(t.style.display=e?"flex":"none")}},this.closeDialog=()=>{!this.workflowCompleted&&this.handleCancel(),this.workflowCompleted=!1,this.pageHistory=[this.firstPage],this.isActive=!1},this.handleCancel=async()=>{this.arcgisWorkflowCancel.emit()},this.firstPage=void 0,this.isActive=!0,this.headerText="",this.primaryButtonText=void 0,this.loadingText=void 0,this.pageHistory=[],this.navEnabled=!0,this.cancelAndCloseButtonsEnabled=!0,this.transition=void 0,this.isLoading=!1,this.padded=!0,this.error=null}handleRedirect(){this.isActive=!1}handleWorkflowComplete(){this.workflowCompleted=!0,this.isActive=!1}toggleNavigationEnabled(e){this.navEnabled=e.detail}toggleCloseButtonEnabled(e){this.cancelAndCloseButtonsEnabled=e.detail}changePrimaryButtonText(e){this.primaryButtonText=e.detail}configureDialog(e){const{padded:t,footerVisible:i}=e.detail;this.padded=t,this.toggleFooterVisibility(i)}async goToNextPage(e){this.pageHistory=[...this.pageHistory,e.detail],await this.transitionPage("forward")}async goToPreviousPage(){await this.transitionPage("back")}reportError({detail:e}){this.error=e}triggerPageTransition(e){var t;const i=new CustomEvent(e,{cancelable:!0});(null===(t=this.currentPageEl)||void 0===t?void 0:t.dispatchEvent(i))&&"arcgisWorkflowPagePrevious"===e&&this.goToPreviousPage()}async transitionPage(e){var t,i;null!==(t=this.primaryButtonText)&&void 0!==t||(this.primaryButtonText=this.i18n.next),this.transition=e,await(0,a.t)(200),this.transition=null,"back"===e&&(this.pageHistory=this.pageHistory.slice(0,-1));const o=new CustomEvent("arcgisTransitionComplete");null===(i=this.currentPageEl)||void 0===i||i.dispatchEvent(o),await(0,a.t)(200),this.focusFirstElement()}updateActive(e){e&&this.firstPage&&(this.pageHistory=[this.firstPage])}updateFirstPage(e){this.pageHistory=[e]}focusFirstElement(){var e,t;const i=this.currentPageEl;i&&!i.managedFocus&&(null===(t=null===(e=this.dialogRef)||void 0===e?void 0:e.setFocus)||void 0===t||t.call(e))}displayPage(){const{transition:e,pageHistory:t,padded:i}=this,a="forward"===e,s="back"===e,n=s?t[t.length-2]:t[t.length-1];if(!this.isActive||!n)return;const r=`${n.element}`,l=this.currentScreen;return l&&t.length>1&&e?[(0,o.h)(l,{class:{stage:!0,"stage-anim":!0,"stage-anim--left":a,"stage-anim--right":s,padded:i}}),(0,o.h)(r,{class:{stage:!0,"stage-anim":!0,"stage-anim--left":s,"stage-anim--right":a,padded:i},ref:e=>{this.currentPageEl=e}})]:(this.currentScreen=r,(0,o.h)(r,Object.assign({},n.props,{class:{stage:!0,padded:i},ref:e=>{this.currentPageEl=e}})))}disconnectedCallback(){this.closeDialog()}async componentWillLoad(){var e;const{firstPage:t}=this,i=await(0,s.g)(this.el);n.w.i18n=i[0],n.w.lang=i[1],this.i18n=i[0],null!==(e=this.primaryButtonText)&&void 0!==e||(this.primaryButtonText=this.i18n.next),this.loadingText=this.i18n.loading,t&&(this.pageHistory=[this.firstPage])}componentWillRender(){this.showBackButton=this.pageHistory.length>1}componentDidRender(){var e;const t=null===(e=this.dialogRef)||void 0===e?void 0:e.shadowRoot;if(t){const e=t.querySelector(".header");e&&(e.style.zIndex="3")}}componentDidLoad(){var e,t,i;null===(t=null===(e=this.dialogRef)||void 0===e?void 0:e.setFocus)||void 0===t||t.call(e);const o=null===(i=this.dialogRef)||void 0===i?void 0:i.shadowRoot.querySelector(".content");o&&(o.style.overflow="hidden")}render(){const{i18n:e,isLoading:t,loadingText:i,isActive:a,error:s}=this;return(0,o.h)(o.H,{key:"59bf7839a02330cf9b3caaa82fc73fbf68a2612b"},(0,o.h)("calcite-dialog",{key:"6d310877abb35c7061744d5ad8df828c4d20f6cf",modal:!0,outsideCloseDisabled:!0,escapeDisabled:!0,heading:this.headerText,open:a,onCalciteDialogClose:this.closeDialog,closeDisabled:!this.cancelAndCloseButtonsEnabled,ref:e=>this.dialogRef=e},(0,o.h)("div",{key:"b4ae3de0eb57020b44dfefe624b44474bb2378db",slot:"header-content",class:"header"},(0,o.h)("h3",{key:"bf934f68790de65dc00e88de8112c3a269a89d16",id:"dialog-title",class:"header__title"},this.headerText)),(0,o.h)("div",{key:"7f6d27b761ef8bb96a034ce1fb817a865d57fc2e",class:"content"},t?(0,o.h)("div",{class:"stage"},(0,o.h)("arcgis-workflow-loader",{active:t,text:i})):this.displayPage()),(0,o.h)("div",{key:"3a085e4c2ebbb10a4c08e922a69cdca4d564ba4f",slot:"footer-start"},this.showBackButton&&(0,o.h)("calcite-button",{key:"545d9d70c1180a9dfa126f0f5023ce06c628f3a8",appearance:"outline-fill",kind:"neutral","data-id":"backButton",onClick:()=>{this.triggerPageTransition("arcgisWorkflowPagePrevious")},disabled:!this.navEnabled},e.back)),(0,o.h)("calcite-button",{key:"c5bd8f533bb5ba8fe55f4c4404401f541261a643",slot:"footer-end",appearance:"outline-fill","data-id":"cancelButton",onClick:()=>{this.isActive=!1},disabled:!this.cancelAndCloseButtonsEnabled},e.cancel),(0,o.h)("calcite-button",{key:"7d4316a7ed0e0850c651c426f86df979e6327d56",id:"primary-button",slot:"footer-end",appearance:"solid","data-id":"nextButton",onClick:()=>{this.triggerPageTransition("arcgisWorkflowPageNext")},disabled:!this.navEnabled},this.primaryButtonText)),(0,o.h)("arcgis-new-item-alert",{key:"c046f45cb3f33085f2559cf430fd6bb438858a74",heading:null==s?void 0:s.title,description:null==s?void 0:s.description,active:!!s,link:null==s?void 0:s.link,onAlertDismiss:()=>this.error=null}))}get el(){return(0,o.d)(this)}static get watchers(){return{isActive:["updateActive"],firstPage:["updateFirstPage"]}}};r.style="calcite-dialog{--calcite-dialog-content-space:0;--calcite-dialog-background-color:var(--calcite-color-background);--calcite-dialog-size-x:1080px;--calcite-dialog-size-y:min(922px, 75vh)}:host{border:10px solid black;overflow-x:hidden}.content{height:100%;overflow-y:auto;overflow-x:hidden}.padded{padding:1rem}.stage{box-sizing:border-box;display:block;opacity:1;transition:all 200ms ease-in-out}.stage--fullscreen{overflow:auto;padding-bottom:0}.stage-anim{position:absolute;transform:translate3d(0, 0, 0)}.stage-anim--left{opacity:0;transform:translate3d(-24px, 0, 0)}.stage-anim--right{opacity:0;transform:translate3d(24px, 0, 0)}.header{display:flex;align-items:center;position:relative}.header>.icon{border-style:none;margin-left:0.5rem;margin-right:0.5rem;padding:0px;display:flex;background-color:transparent}@media screen and (max-width: 480px){.stage{padding-bottom:6rem}}.header__title{font-size:1.125rem;margin:0px;padding:0px;font-weight:500}@media screen and (max-width: 1080px){.content{height:100%}}.onboarding{--arcgis-information-min-width:0}.onboarding__scroll{overflow:auto;max-height:min(700px, 60vh)}.onboarding__section{padding-bottom:1rem;padding-top:0.5rem;width:255px}.onboarding__title{margin:0px;padding-top:0px;font-size:0.875rem;color:var(--calcite-color-text-1);font-weight:600}.onboarding__description{margin-top:0.5rem;margin-bottom:0.75rem;font-size:0.75rem;color:var(--calcite-color-text-1)}.dialog--grey{--calcite-dialog-content-space:0;--calcite-dialog-background-color:var(--calcite-color-background)}"},26408:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>g,c:()=>a,d:()=>o,e:()=>n,f:()=>s,g:()=>d,h:()=>u,i:()=>f,m:()=>r,t:()=>l,u:()=>h});const o=(e,t)=>{let i,o="idle";const a=(...a)=>new Promise((s=>{switch(o){case"flushed":o="idle",i?(clearTimeout(i),s(e(...a))):s(null);break;case"invoked":clearTimeout(i),o="idle",s(e(...a));break;case"cancelled":clearTimeout(i),o="idle",s(null);break;default:i&&clearTimeout(i),o="pending",i=setTimeout((()=>(o="idle",s(e(...a)))),t)}}));return a.flush=function(...e){return o="flushed",a(...e)},a.invoke=function(...e){return o="invoked",a(...e)},a.cancel=function(...e){return o="cancelled",a(...e)},a.getStatus=function(){return o},a},a=(e,t)=>{let i;return(...o)=>new Promise((a=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,a(e(...o))}),t))}))};function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(e){return null!=e}async function r(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const c=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:o}=t(e);return[i,o]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function h(e,t){const i=[],o={};return e.forEach((e=>{const a=t(e);null==o[a]&&(o[a]=e,i.push(e))})),i}function g(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let o=typeof e;return o in t?!t[o].hasOwnProperty(e)&&(t[o][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,o)=>e.slice(t*o,t+t*o))),f=(e,t)=>e.includes(t)},18991:(e,t,i)=>{i.d(t,{c:()=>l});var o=i(19564);const a=e=>!("isConnected"in e)||e.isConnected,s=((e,t)=>{let i;return(...o)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,e(...o)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(a))}),2e3),n=e=>"function"==typeof e?e():e,r=(e,t)=>{const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)},l=(e,t)=>{const i=((e,t=(e,t)=>e!==t)=>{const i=n(e);let o=new Map(Object.entries(null!=i?i:{}));const a={dispose:[],get:[],set:[],reset:[]},s=()=>{var t;o=new Map(Object.entries(null!==(t=n(e))&&void 0!==t?t:{})),a.reset.forEach((e=>e()))},l=e=>(a.get.forEach((t=>t(e))),o.get(e)),c=(e,i)=>{const s=o.get(e);t(i,s,e)&&(o.set(e,i),a.set.forEach((t=>t(e,i,s))))},d="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>l(t),ownKeys:e=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>o.has(t),set:(e,t,i)=>(c(t,i),!0)}),h=(e,t)=>(a[e].push(t),()=>{r(a[e],t)});return{state:d,get:l,set:c,on:h,onChange:(t,i)=>{const o=h("set",((e,o)=>{e===t&&i(o)})),a=h("reset",(()=>i(n(e)[t])));return()=>{o(),a()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(h("set",t.set)),t.get&&e.push(h("get",t.get)),t.reset&&e.push(h("reset",t.reset)),t.dispose&&e.push(h("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{a.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=o.get(e);a.set.forEach((i=>i(e,t,t)))}}})(e,t);return i.use((()=>{if("function"!=typeof o.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const i=(0,o.g)();i&&((e,t,i)=>{const o=e.get(t);o?o.includes(i)||o.push(i):e.set(t,[i])})(e,t,i)},set:t=>{const i=e.get(t);i&&e.set(t,i.filter(o.f)),s(e)},reset:()=>{e.forEach((e=>e.forEach(o.f))),s(e)}}})()),i}},56288:(e,t,i)=>{i.d(t,{w:()=>o});const o=(0,i(18991).c)({portal:null,user:null,i18n:null,scale:"m",api:4,nextText:null,uploadProgress:0}).state}}]);