/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-adecc8.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-adecc8"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>s});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},61191:(e,t,r)=>{r.d(t,{a:()=>s,b:()=>n,c:()=>i,d:()=>a});const a=(0,r(18991).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),s=a.state,i=a.state,n=a.state},19574:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_from_custom_data_provider:()=>o});var a=r(19564),s=r(61191),i=r(33861),n=r(91582);r(18991),r(44508),r(4948),r(57159),r(98034),r(99004),r(65174);const o=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.handleSelectChange=e=>{this.selectedCustomProvider=e;const t=this.customDataProviders[e][0].properties;this.hideHosts=!t.hosts,this.hideId=t.disableIdParam},this.host=void 0,this.id=void 0,this.noHost=!1,this.noId=!1,this.customDataProviders=void 0,this.hideHosts=!1,this.hideId=!1,this.selectedCustomProvider=void 0}async componentWillLoad(){this.i18n=i.u.i18n.featureLayerFromCustomDataProvider;let e=await(0,n.g)();const t=e[Object.keys(e)[0]][0];this.selectedCustomProvider=t.fileName;const r=e[Object.keys(e)[0]][0].properties;r.hosts||(this.hideHosts=!0),r.disableIdParam&&(this.hideId=!0),this.customDataProviders=e}async handleNext(){if(this.validateInputFields())return;const e=this.customDataProviders[this.selectedCustomProvider][0],t=e.properties;t.hosts||(this.host=""),t.disableIdParam&&(this.id=""),s.a.serviceInfo={jsonProperties:{customDataProviderInfo:{dataProviderName:e.name,dataProviderHost:this.host,dataProviderId:this.id}},provider:"CUSTOMDATA"},this.newItemUpdatePage.emit("itemProperties")}handleHostInputChange(e){this.host=e.target.value}handleIdInputChange(e){this.id=e.target.value}validateInputFields(){let e=!1;const t=this.customDataProviders[this.selectedCustomProvider][0].properties;return!this.host&&t.hosts&&(this.noHost=!0,e=!0),this.id||t.disableIdParam||(this.noId=!0,e=!0),e}renderSelectOptions(){return Object.entries(this.customDataProviders).map((([e,t],r)=>(0,a.h)("calcite-option",{value:e,key:r},t[0].name)))}render(){const{i18n:e}=this;return(0,a.h)(a.H,{key:"3dc64f9b873a7a72bb48e2ed8b21c6725b6bd90f"},(0,a.h)("calcite-label",{key:"774e175bbd4a1c89a19d7a218f2ef6336906edb5",class:"label"},(0,a.h)("arcgis-new-item-description",{key:"2f758f13db4db16d565ab92b423d4fc3657f00bf",header:e.header}),(0,a.h)("calcite-select",{key:"dff8463cf2c28cb49dc7e87bc79ecdded477e784",label:e.header,onCalciteSelectChange:e=>this.handleSelectChange(e.currentTarget.value)},this.renderSelectOptions()),(0,a.h)("div",{key:"25d3e6795947a22845c1a2b3926fb9a6fd0a4c2d",hidden:this.hideHosts},(0,a.h)("calcite-label",{key:"605a0f3dfd070a70ab14dffd8165562ae8f243a0",class:"label"},e.hosts),(0,a.h)("calcite-input",{key:"676cd849c58707705ae01fb2417b3942edc5c853",onCalciteInputInput:e=>this.handleHostInputChange(e),scale:"l",status:this.noHost?"invalid":"idle",hidden:this.hideHosts}),(0,a.h)("calcite-input-message",{key:"d3882c592a69bf563ecbf67bab1ae4a306cd0b10",icon:!0,status:"invalid",hidden:!this.noHost},e.missingHost)),(0,a.h)("div",{key:"c0b83306f0e61aa6644f8201dab1a936c9ee38e0",hidden:this.hideId},(0,a.h)("calcite-label",{key:"cd31dd2fb42fe47d35e26fd0061cce4d38ac53ed",class:"label"},e.idTitle),(0,a.h)("calcite-input",{key:"376511792e9a74bec1b6121464ab9bb24ed9f632",onCalciteInputInput:e=>this.handleIdInputChange(e),scale:"l",status:this.noId?"invalid":"idle"}),(0,a.h)("calcite-input-message",{key:"59ba78bf36b25b9b4308d5b5a4bcd939c1c73e42",icon:!0,status:"invalid",hidden:!this.noId},e.missingId))))}get el(){return(0,a.d)(this)}};o.style=".label{margin-top:1.5rem}.hide{display:none}"},91582:(e,t,r)=>{r.d(t,{g:()=>i});var a=r(44508),s=r(57159);async function i(){const e=(0,a.g)().replace("portal/sharing/rest/","server/admin/services/types/customdataproviders");try{return await(0,s.r)(e,"post")}catch(e){console.warn(e)}}},98034:(e,t,r)=>{r.d(t,{e:()=>i,l:()=>n});var a,s=r(99004),i={exports:{}};a=i.exports,s.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function s(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=r);var t=i(e),n=s(e);if(n!==a&&3===n.major){var o=n.minor<=10?"js/":"";return"".concat(t).concat(o,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function o(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function d(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||s(e)?n(e):e}function u(e,t){var r=l(e),a=c(r);return a||d(a=o(r),t),a}var h={};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function v(e,t,r){var a;r&&(a=p(e,r));var s=function(){t(e),e.removeEventListener("load",s,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",s,!1)}function p(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function m(e){void 0===e&&(e={}),h=e}function b(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function g(e){void 0===e&&(e={});var r={};[h,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,s=r.url||i(a);return new t.Promise((function(e,t){var i=b();if(i){var n=i.getAttribute("src");n!==s?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):y()?e(i):v(i,e,t)}else if(y())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=r.css;o&&u(!0===o?a:o,r.insertCssBefore),v(i=f(s),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function w(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function I(e,t){if(void 0===t&&(t={}),y())return w(e);var r=b(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),g(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=I,e.getScript=b,e.isLoaded=y,e.loadScript=g,e.setDefaultOptions=m,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(a);const n=async(e,t)=>(await i.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},33861:(e,t,r)=>{r.d(t,{a:()=>a,u:()=>s});const a=(0,r(18991).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),s=a.state}}]);