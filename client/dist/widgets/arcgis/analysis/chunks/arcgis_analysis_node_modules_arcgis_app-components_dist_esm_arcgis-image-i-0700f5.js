/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-0700f5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-0700f5"],{48094:(e,t,a)=>{a.r(t),a.d(t,{arcgis_image_item_inspect_popover:()=>s});var r=a(19564),i=a(66507),n=a(89261);a(91102),a(73807),a(98034),a(99004);const s=class{constructor(e){(0,r.r)(this,e),this.arcgisImageItemInspectPopoverClosed=(0,r.c)(this,"arcgisImageItemInspectPopoverClosed",7),this.arcgisZoomToInspectingImageItem=(0,r.c)(this,"arcgisZoomToInspectingImageItem",7),this.arcgisAddInspectingImageItemToLayer=(0,r.c)(this,"arcgisAddInspectingImageItemToLayer",7),this.arcgisImageItemToInspectChanged=(0,r.c)(this,"arcgisImageItemToInspectChanged",7),this.layer=void 0,this.view=void 0,this.jsapiUrl=void 0,this.referenceElement=void 0,this.open=void 0,this.imageItemInfo=void 0,this.imageItemFeatureGraphic=void 0}async componentWillLoad(){[this.strings]=await(0,i.g)(this.hostElement,"arcgis-image-collection-explorer")}render(){const{strings:e,open:t,imageItemInfo:a,referenceElement:i}=this,s=(0,n.g)(this.hostElement),o="rtl"===s;return(0,r.h)(r.H,{key:"673d125c81c1574901ff24064313952a2a6d8be0",class:"js-app-flyout"},(0,r.h)("calcite-popover",{key:"5016725f88e77eeb9764c59d662d625d0a6aa152",dir:s,label:e.imageDetails,heading:e.imageDetails,referenceElement:i,placement:"leading-start",overlayPositioning:"fixed",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:10,open:t,closable:!0,onCalcitePopoverClose:()=>{this.arcgisImageItemInspectPopoverClosed.emit()}},(0,r.h)("calcite-panel",{key:"6de9c45c8bec8f92880e98ecc3beaacd5f33b712",class:"image-details-panel"},this.renderImageItemDisplayTitle(),this.renderImageItemPreviewView(),a&&this.renderImageItemInfoTables(),(0,r.h)("calcite-button",{key:"bdaf6d0e27714bf328077573ba5c6271e9169be9",style:{"padding-inline-end":"5px"},width:"half",slot:"footer",appearance:"outline",kind:"neutral",iconStart:o?"chevron-right":"chevron-left",onClick:()=>this.arcgisImageItemToInspectChanged.emit("previous")},e.previous),(0,r.h)("calcite-button",{key:"dbb469d020ac6460bef6b084b6408cca0844880d",style:{"padding-inline-start":"5px"},width:"half",slot:"footer",appearance:"outline",kind:"neutral",iconEnd:o?"chevron-left":"chevron-right",onClick:()=>this.arcgisImageItemToInspectChanged.emit("next")},e.next))))}renderImageItemPreviewView(){const{strings:e,layer:t,jsapiUrl:a,imageItemFeatureGraphic:i}=this;return(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.preview},(0,r.h)("div",{class:"image-item-preview-wrapper"},(0,r.h)("arcgis-image-item-preview",{jsapiUrl:a,previewLayerUrl:t.url,previewImageItemGraphic:i})))}renderImageItemInfoTables(){const{imageItemInfo:e}=this,{extent:t,statistics:a}=e||{};return(0,r.h)("div",null,e?this.renderImageItemInspectButtonGroup():null,e?this.renderImageItemRasterInformationTable():null,e?this.renderImageItemRasterMetadataTable():null,t?this.renderImageItemExtentInfoTable():null,e?this.renderImageItemSpatialReferenceTable():null,a?this.renderImageItemStatisticsInfoTable():null)}renderImageItemRasterInformationTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{bandCount:i,height:n,width:s,pixelType:o,pixelSize:l,dataType:c,colormap:p}=t,m=[{property:e.columns,value:s},{property:e.rows,value:n},{property:e.bandNumber,value:i},{property:e.cellSizeX,value:null==l?void 0:l.x},{property:e.cellSizeY,value:null==l?void 0:l.y},{property:e.sourceType,value:c},{property:e.pixelType,value:this.getFormattedPixelType(o)},{property:e.colormap,value:p}].filter((e=>!!e.value));return m.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.rasterInformation},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:m})))}renderImageItemRasterMetadataTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{SensorName:i,ProductName:n,CloudCover:s,AcquisitionDate:o,SunAzimuth:l,SunElevation:c,ELLIPSOID:p}=t.keyProperties||{},m=o?`${new Date(o).toLocaleDateString()} ${new Date(o).toLocaleTimeString()}`:null,d=[{property:e.sensorName,value:i},{property:e.productName,value:n},{property:e.acquisitionDate,value:m},{property:e.cloudCover,value:s},{property:e.sunAzimuth,value:l},{property:e.sunElevation,value:c},{property:e.spheroid,value:p}].filter((e=>!!e.value));return d.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.rasterMetadata},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:d})))}renderImageItemExtentInfoTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{extent:i}=t,{xmin:n,xmax:s,ymin:o,ymax:l}=i,c=[{property:e.top,value:l},{property:e.bottom,value:o},{property:e.left,value:n},{property:e.right,value:s}].filter((e=>!!e.value));return c.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.extent},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:c}))}renderImageItemStatisticsInfoTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"bandName",header:e.bandName},{accessor:"min",header:e.min},{accessor:"max",header:e.max},{accessor:"avg",header:e.mean},{accessor:"stddev",header:e.std}],{bandInfos:i,statistics:n}=t,s=i.map(((e,t)=>{const a=n[t];return Object.assign({bandName:e.name},a)}));return s.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.statistics},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:s})))}renderImageItemSpatialReferenceTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{keyProperties:i,spatialReference:n}=t,s=[{property:e.projectedCoordinateSystem,value:""},{property:e.projection,value:""},{property:e.wkid,value:null==n?void 0:n.wkid},{property:e.datum,value:null==i?void 0:i.DATUM},{property:e.spheroid,value:null==i?void 0:i.ELLIPSOID}].filter((e=>!!e.value));return s.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.spatialReference},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:s})))}renderImageItemInspectButtonGroup(){const{strings:e}=this;return(0,r.h)("div",{class:"image-item-inspect-button-group"},(0,r.h)("calcite-button",{label:e.addImageToMap,appearance:"transparent","icon-start":"add-layer",kind:"neutral",scale:"s",title:e.addImageToMap,onClick:()=>this.arcgisAddInspectingImageItemToLayer.emit()}),(0,r.h)("calcite-button",{label:e.zoomToImage,appearance:"transparent","icon-start":"layer-zoom-to",kind:"neutral",scale:"s",title:e.zoomToImage,onClick:()=>this.arcgisZoomToInspectingImageItem.emit()}))}renderImageItemDisplayTitle(){var e,t;const{imageItemFeatureGraphic:a,layer:i}=this,n=(null===(e=null==a?void 0:a.attributes)||void 0===e?void 0:e.Name)||(null===(t=null==a?void 0:a.attributes)||void 0===t?void 0:t.name),s=null==a?void 0:a.attributes[i.objectIdField];return(0,r.h)("div",{class:"image-item-name-wrapper"},`${s}: ${n}`)}getFormattedPixelType(e){const{strings:t}=this;switch(e){case"s8":return t.s8;case"s16":return t.s16;case"s32":return t.s32;case"u1":return t.u1;case"u2":return t.u2;case"u4":return t.u4;case"u8":return t.u8;case"u16":return t.u16;case"u32":return t.u32;case"f32":return t.f32;case"f64":return t.f64;case"c64":return t.c64;case"c128":return t.c128;default:return t.unknown}}get hostElement(){return(0,r.d)(this)}};s.style=".image-details-panel{width:320px;height:calc(100vh - 48px)}.image-item-preview-wrapper{width:100%;height:300px}.image-item-info-table-wrapper{display:block;overflow-x:auto}.image-item-name-wrapper{display:flex;overflow-wrap:break-word;font-weight:600;justify-content:center;padding-top:5px}"}}]);