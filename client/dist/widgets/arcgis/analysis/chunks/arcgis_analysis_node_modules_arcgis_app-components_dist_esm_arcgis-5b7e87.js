/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-5b7e87.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-5b7e87"],{99004:(e,t,a)=>{a.d(t,{c:()=>r,g:()=>i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},87257:(e,t,a)=>{a.r(t),a.d(t,{arcgis_new_item_pages_data_store_browser:()=>c});var r=a(19564),i=a(5497),n=a(61191),s=a(33861),o=a(5152);a(44508),a(4948),a(18991),a(5076),a(57159),a(98034),a(99004),a(65174),a(78964),a(748),a(76246),a(87382),a(18409),a(86868),a(32084),a(91102),a(73807),a(98821),a(90079),a(32198),a(62913),a(17233),a(67336),a(82297),a(97018),a(56288),a(93863),a(80015),a(24211);const c=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.dataStoreContentType="tile-layer",this.selectedDataset=null,this.datastoreContents=void 0,this.originalDatasets=void 0,this.sortedDatasets=void 0,this.displayDatasets=void 0,this.pathHistories=[],this.cachedData={},this.error=null,this.loading=void 0,this.sortCriteria={direction:null,criteria:null},this.userTileLayerTypeSelection=void 0,this.itemsPerPage=void 0,this.totalItems=void 0,this.paginationData=void 0}async componentWillLoad(){if(this.dataStoreContentType="tileLayer"===n.a.newItemMode?"tile-layer":"scene-layer",this.dataStoreName=n.a.dataStoreName,this.i18n=s.u.i18n.dataStore,this.pathHistories=["/"],this.datastoreContents=n.a.datastoreContents,this.datastoreContents.path.length>1){const e=this.datastoreContents.path.split("/").filter((e=>e));this.pathHistories=this.pathHistories.concat(e)}this.originalDatasets=[...n.a.datastoreContents.children],this.sortedDatasets=[...this.originalDatasets],this.selectedDataset=n.a.dataset,this.cachedData=n.a.dataStoreCachedData,this.serverId=n.a.serverId}toggleSort(e){const{sortCriteria:t}=this,a=null==e?null:t.criteria!==e?"desc":"desc"===t.direction?"asc":null;if(null===e||null===a)return this.sortCriteria={criteria:null,direction:null},void(this.sortedDatasets=this.originalDatasets);this.sortCriteria={criteria:e,direction:a};const r="asc"===a?1:-1;this.sortedDatasets=[...this.sortedDatasets].sort((function(t,a){const i=t[e].toLowerCase(),n=a[e].toLowerCase();return i.localeCompare(n)*r}))}async exploreFolder(e,t){var a;this.loading=!0;if(!(null!=this.cachedData[e])){const r=await(0,i.g)(n.a.dataStoreId,e,t,this.serverId);if("failToListDataStoreContents"===(null===(a=r.error)||void 0===a?void 0:a.code))return this.loading=!1,void(this.error="failToListDataStoreContents");this.cachedData=Object.assign(Object.assign({},this.cachedData),{[e]:r.result})}const r=this.cachedData[e];this.pathHistories="/"===e?["/"]:e.split("/"),this.datastoreContents=this.filterContentsByUserSelection(r),this.originalDatasets=[...this.datastoreContents.children],this.loading=!1}filterContentsByUserSelection(e){const t=this.dataStoreContentType,a=n.a.tileLayerPublishType;return e.children?Object.assign(Object.assign({},e),{children:e.children.filter((e=>{const r=e.type;let i="folder"===r;return"tile-layer"===t?i||(i="tiles"===a&&"cacheDataset"===r||"3dTiles"===a&&"3DTilesDataset"===r||"vectorTiles"===a&&"vectorCacheDataset"===r):"scene-layer"===t&&(i||(i="extractedScenePackage"===r||"i3sRestCache"===r)),i}))}):Object.assign(Object.assign({},e),{children:[]})}renderErrorItem(){const{i18n:e,error:t,loading:a}=this;let i="",n="";if(t){const a=e.error;"failToListDataStoreContents"===t?(i=a.listing.heading,n=a.listing.description):(i=a.noDatasetErrorHeading,n=a.noDatasetErrorDescription)}return(0,r.h)("arcgis-new-item-alert",{heading:i,description:n,active:null!==t&&!a,onAlertDismiss:()=>{this.error=null}})}renderHeaderItem(e){const{i18n:t,sortCriteria:a}=this,{criteria:i,direction:n}=a;return(0,r.h)("div",{onClick:()=>this.toggleSort(e),class:{"data-set__header":!0,"data-set__header--selected":i===e&&null!=n}},"name"===e&&(0,r.h)("calcite-icon",{scale:"s",icon:"circle",class:"hidden-icon header-icon"}),"name"===e?t.fileName:t.fileType,(0,r.h)("calcite-icon",{class:{"blue-calcite-icon sort-icon":!0,"hidden-icon":i!==e||!n},scale:"s",icon:"asc"===n?"caret-up":"caret-down"}))}onDatastoreContentsChange(){this.toggleSort(null)}onSortedDataSetsChange(){this.calculatePagination(1)}calculatePagination(e){const{sortedDatasets:t}=this,a=t.length;this.totalItems=a;const r=Math.min(a,5),i=e-1,n=Math.min(i+r,a)-1;this.itemsPerPage=r,this.displayDatasets=t.slice(i,n+1),this.paginationData={startIndex:i,endIndex:n}}handleNext(){const e=this.selectedDataset;if(!e)return void(this.error="noDataSetSelected");let t;switch(n.a.dataset=e,n.a.dataStoreCachedId=n.a.dataStoreId,n.a.serverId=this.serverId,n.a.datastoreContents=this.datastoreContents,n.a.dataStoreCachedData=this.cachedData,n.a.initialTitle=e.name.split(".")[0],e.type){case"vectorCacheDataset":t="Vector Tile Service";break;case"i3sRestCache":case"extractedScenePackage":t="Scene Service";break;case"cacheDataset":t="Map Service";break;case"3DTilesDataset":t="3DTiles Service",n.a.initialTitle=(0,o.g)(n.a.dataset.path)}n.a.type=t,this.newItemUpdatePage.emit("serverList")}render(){const{i18n:e,loading:t,displayDatasets:a,originalDatasets:i,pathHistories:n,paginationData:s,dataStoreName:o}=this;return(0,r.h)(r.H,{key:"76e0f6609bf6085a1084294d5a92ec3fa9c1a2a7"},(0,r.h)("div",{key:"9493eb1a5c0a47b7f77ec9bc1e6a97f82a2d691d",class:"inner-container"},t?(0,r.h)("calcite-loader",{label:"datastore-loader",text:e.processing}):(0,r.h)(r.F,null,(0,r.h)("div",{class:"content-wrapper"},(0,r.h)("div",{class:"header-text"},e.header),(0,r.h)("div",{class:"breadcrumb-container"},n.map(((e,t)=>{const a=t===n.length-1,i=0===t,s=i?"/":n.slice(0,t+1).join("/");return(0,r.h)("div",{class:"breadcrumb__item",key:`${e}_${t}`},(0,r.h)("span",{onClick:a?void 0:()=>this.exploreFolder(s,"folder")},(0,r.h)("span",{class:{"breadcrumb--inactive":!a}},i?o:e)),!a&&(0,r.h)("calcite-icon",{icon:"chevron-right",scale:"s"}))}))),(0,r.h)("div",{class:"pagination-text"},a.length>0&&e.paginationRange.replace("${start}",`${s.startIndex+1}`).replace("${end}",`${s.endIndex+1}`).replace("${total}",`${i.length}`)),(0,r.h)("div",{class:"data-set-container"},(0,r.h)("div",{class:"data-set__item"},this.renderHeaderItem("name"),this.renderHeaderItem("type")),(0,r.h)("calcite-radio-button-group",{name:"file-group",onCalciteRadioButtonGroupChange:e=>{this.selectedDataset=e.currentTarget.selectedItem.value},layout:"vertical"},(0,r.h)("ul",{class:"item-list"},a.length>0?a.map((e=>{var t;const{name:a,path:i,type:s}=e,o="folder"===s;return(0,r.h)("li",{key:`dataSet--item__${i}`,class:"data-set__item",onClick:()=>{o&&this.exploreFolder(e.path,"folder")}},(0,r.h)("calcite-label",{layout:"inline",class:"description"},o?(0,r.h)("calcite-icon",{icon:"folder",scale:"s",class:"blue-calcite-icon"}):(0,r.h)("div",{class:"dataset"},(0,r.h)("calcite-radio-button",{value:e,checked:i===(null===(t=this.selectedDataset)||void 0===t?void 0:t.path)}),"3DTilesDataset"===s&&(0,r.h)("calcite-icon",{icon:"tiled-imagery-layer",scale:"s",class:"blue-calcite-icon tiles3D-dataset"})),"3DTilesDataset"===s?n[n.length-1]:a),(0,r.h)("p",{class:"item--title"},s))})):(0,r.h)("li",{class:"data-set__item"},(0,r.h)("calcite-label",{layout:"inline"},(0,r.h)("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),e.emptyFolder)))))),this.itemsPerPage>0&&(0,r.h)("div",{class:"pagination-wrapper"},(0,r.h)("calcite-pagination",{startItem:s.startIndex+1,totalItems:this.totalItems,pageSize:this.itemsPerPage,onCalcitePaginationChange:e=>{const t=e.target;this.calculatePagination(t.startItem)}})))),this.renderErrorItem())}get el(){return(0,r.d)(this)}static get watchers(){return{originalDatasets:["onDatastoreContentsChange"],sortedDatasets:["onSortedDataSetsChange"]}}};c.style=":host{background-color:var(--calcite-color-foreground-2);padding:0px}.inner-container{display:flex;flex-direction:column;padding:1.5rem;height:calc(100% - 65px)}.content-wrapper{flex-grow:1}.breadcrumb-container{margin-top:1rem;margin-bottom:1rem;font-weight:500;display:flex}.breadcrumb__item{display:flex;align-items:center;font-size:0.875rem;color:var(--calcite-color-text-2);margin-right:0.5rem}.breadcrumb--inactive{cursor:pointer;margin-right:0.5rem;color:#00619b}.pagination-text{font-size:0.75rem;font-weight:500;margin-top:1rem;margin-bottom:1rem;color:#757575}.data-set-container{background-color:var(--calcite-color-foreground-1)}.data-set__header{border-width:0px;border-bottom-width:2px;border-style:solid;font-size:0.875rem;padding:0px;border-color:transparent;width:-moz-fit-content;width:fit-content}.data-set__header:hover{cursor:pointer}.data-set__header--selected{border-color:#0079c1}.header-icon{margin-right:0.5rem}.item-list{margin-left:0px;margin-inline-start:0px;padding-inline-start:0px}.data-set__item{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem}.data-set__item:hover{cursor:pointer}.data-set__item>.item--title{font-size:0.875rem;margin-top:0px;margin-bottom:0px}.blue-calcite-icon{--calcite-ui-icon-color:var(--calcite-color-brand)}.sort-icon{margin-left:6rem}.hidden-icon{visibility:hidden}.pagination-wrapper{display:flex;justify-content:center;margin-top:auto;padding-left:0.5rem;padding-right:0.5rem}.header-text{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.dataset{display:flex}.tiles3D-dataset{margin-left:0.5rem}"},91102:(e,t,a)=>{a.d(t,{a:()=>c,c:()=>i,d:()=>l,g:()=>n,i:()=>s,s:()=>o});var r=a(73807);function i(e,t){return function e(a){return a?a.closest(t)||e(function(e){return e.getRootNode()}(a).host||null):null}(e)}function n(e){const t=i(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function s(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function o(e){return(new r.S).sanitize(e)}function c(e){const t=o(e),a=document.createElement("div");return a.innerHTML=t,a.textContent||a.innerText||""}function l(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},98034:(e,t,a)=>{a.d(t,{e:()=>n,l:()=>s});var r,i=a(99004),n={exports:{}};r=n.exports,i.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},a="4.24",r="next";function i(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function n(e){return void 0===e&&(e=a),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=a);var t=n(e),s=i(e);if(s!==r&&3===s.major){var o=s.minor<=10?"js/":"";return"".concat(t).concat(o,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function o(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var a=document.querySelector(t);a.parentNode.insertBefore(e,a)}else document.head.appendChild(e)}function l(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||i(e)?s(e):e}function h(e,t){var a=d(e),r=l(a);return r||c(r=o(a),t),r}var u={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,a){var r;a&&(r=g(e,a));var i=function(){t(e),e.removeEventListener("load",i,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",i,!1)}function g(e,t){var a=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",a,!1)};return e.addEventListener("error",a,!1),a}function f(e){void 0===e&&(e={}),u=e}function v(){return document.querySelector("script[data-esri-loader]")}function b(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var a={};[u,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}));var r=a.version,i=a.url||n(r);return new t.Promise((function(e,t){var n=v();if(n){var s=n.getAttribute("src");s!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):b()?e(n):m(n,e,t)}else if(b())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=a.css;o&&h(!0===o?r:o,a.insertCssBefore),m(n=p(i),(function(){n.setAttribute("data-esri-loader","loaded"),e(n)}),t),document.body.appendChild(n)}}))}function D(e){return new t.Promise((function(t,a){var r=window.require.on("error",a);window.require(e,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];r.remove(),t(e)}))}))}function w(e,t){if(void 0===t&&(t={}),b())return D(e);var a=v(),r=a&&a.getAttribute("src");return!t.url&&r&&(t.url=r),y(t).then((function(){return D(e)}))}e.utils=t,e.loadModules=w,e.getScript=v,e.isLoaded=b,e.loadScript=y,e.setDefaultOptions=f,e.loadCss=h,Object.defineProperty(e,"__esModule",{value:!0})}(r);const s=async(e,t)=>(await n.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);