/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1"],{13323:(e,t,r)=>{r.r(t),r.d(t,{arcgis_item_browser_filter_expiration:()=>n});var i=r(19564),a=r(94514),s=r(54118);r(66507),r(91102),r(73807),r(89261),r(98034),r(99004);const n=class{constructor(e){(0,i.r)(this,e),this.arcgisItemBrowserFilter=(0,i.c)(this,"arcgisItemBrowserFilter",7),this.property="expires",this.today=new Date((0,a.g)()),this.resetDatePicker=()=>{this.range="next30",this.start=null,this.end=null},this.renderRange=e=>{const{i18n:t,range:r}=this;return(0,i.h)("calcite-tree-item",{"data-range":e,selected:e===r},t[e])},this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}async componentWillLoad(){const e=await(0,s.g)(this.el);this.i18n=null==e?void 0:e.filterExpiration}componentDidLoad(){this.range&&("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}getValue(){const{range:e,start:t,end:r}=this,i=(0,a.g)(),s=i+a.D-1;switch(e){case"tomorrow":return[i+a.D-1,s+a.D];case"today":return[i,s];case"next7":return[i,s+7*a.D];case"next30":return[i,s+30*a.D];case"custom":return[(0,a.g)(t),(0,a.g)(r)+a.D-1];default:return null}}getEventDetail(){const{range:e,i18n:t}=this,r=this.getValue();return{id:this.property,param:"q",value:r?`([${r[0]} TO ${r[1]}])`:"",range:e,start:(null==r?void 0:r[0])&&new Date(null==r?void 0:r[0]),end:(null==r?void 0:r[1])&&new Date(null==r?void 0:r[1]),label:this.i18n[this.property].replace("${date}",t[e])}}render(){const{i18n:e,property:t,range:r,start:a,end:s}=this;return(0,i.h)("arcgis-browser-filter",{key:"a95f1f702a4066b0272e3cae8161961f91d09206",heading:e.title[t],expanded:this.expanded,active:!1,filterID:this.property,onArcgisBrowserFilterRemove:()=>{this.resetDatePicker()}},(0,i.h)("calcite-tree",{key:"2e0047928d8b8a8d2641d071059c17aa4be68eb3",selectionMode:"children",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.range;this.range=this.range===i?null:i,("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}},["today","tomorrow","next7","next30","custom"].map(this.renderRange)),"custom"===r&&(0,i.h)("calcite-date-picker",{key:"af005295e1e0a613957f0242d80b062a42a99443",onCalciteDatePickerRangeChange:e=>{const t=e.target,r=t.valueAsDate[0],i=t.valueAsDate[1];r&&i&&(this.start=r,this.end=i,this.arcgisItemBrowserFilter.emit(this.getEventDetail()))},scale:"s",valueAsDate:[a,s],minAsDate:this.today,layout:"vertical",monthStyle:"abbreviated",range:!0,class:"filter-expiration--date-picker"}))}get el(){return(0,i.d)(this)}};n.style=".filter-expiration--date-picker{margin-top:0.5rem;margin-bottom:0.5rem;margin-inline-start:2rem;width:12.75rem}"},94514:(e,t,r)=>{r.d(t,{D:()=>i,g:()=>a});const i=864e5;function a(e){const t="string"==typeof e?parseInt(e):"number"==typeof e?e:(e||new Date).valueOf(),r=new Date(t);return r.setHours(0,0,0,0),r.valueOf()}},54118:(e,t,r)=>{r.d(t,{g:()=>a});var i=r(66507);async function a(e){const t=await(0,i.g)(e,"arcgis-item-browser");return t&&t.length?t[0]:null}}}]);