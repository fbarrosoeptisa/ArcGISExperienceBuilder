"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-7010a0"],{22493:(t,r,e)=>{e.d(r,{A:()=>Ho,B:()=>In,C:()=>Qo,D:()=>Ko,E:()=>Ln,F:()=>Yo,G:()=>Nn,I:()=>Bn,J:()=>Un,K:()=>ze,L:()=>qn,M:()=>j,N:()=>w,O:()=>ur,P:()=>cr,Q:()=>R,R:()=>Wo,S:()=>ct,T:()=>Vo,U:()=>dt,V:()=>Ra,W:()=>Aa,X:()=>ba,Y:()=>ya,Z:()=>zn,_:()=>u,a:()=>Jo,b:()=>Zo,c:()=>tn,e:()=>rn,f:()=>en,g:()=>on,h:()=>nn,i:()=>Xo,j:()=>an,k:()=>ln,n:()=>un,o:()=>cn,p:()=>fn,q:()=>hn,r:()=>pn,s:()=>dn,t:()=>gn,u:()=>mn,w:()=>bn,x:()=>yn,y:()=>vn,z:()=>Cn});var o=e(6225),n=e(32513),i=e(44345);const a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};const l="object"==typeof a&&a&&a.Object===Object&&a;var s="object"==typeof self&&self&&self.Object===Object&&self;const u=l||s||Function("return this")();const c=u.Symbol;var f=Object.prototype,h=f.hasOwnProperty,p=f.toString,d=c?c.toStringTag:void 0;var g=Object.prototype.toString;var m="[object Null]",b="[object Undefined]",y=c?c.toStringTag:void 0;function v(t){return null==t?void 0===t?b:m:y&&y in Object(t)?function(t){var r=h.call(t,d),e=t[d];try{t[d]=void 0;var o=!0}catch(t){}var n=p.call(t);return o&&(r?t[d]=e:delete t[d]),n}(t):function(t){return g.call(t)}(t)}function C(t){return null!=t&&"object"==typeof t}var _="[object Symbol]";function w(t){return"symbol"==typeof t||C(t)&&v(t)==_}function M(t,r){for(var e=-1,o=null==t?0:t.length,n=Array(o);++e<o;)n[e]=r(t[e],e,t);return n}const j=Array.isArray;var k=1/0,A=c?c.prototype:void 0,O=A?A.toString:void 0;function S(t){if("string"==typeof t)return t;if(j(t))return M(t,S)+"";if(w(t))return O?O.call(t):"";var r=t+"";return"0"==r&&1/t==-k?"-0":r}function R(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}function P(t){return t}var x="[object AsyncFunction]",T="[object Function]",E="[object GeneratorFunction]",I="[object Proxy]";function D(t){if(!R(t))return!1;var r=v(t);return r==T||r==E||r==x||r==I}const L=u["__core-js_shared__"];var N,B=(N=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"";var F=Function.prototype.toString;function U(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var z=/^\[object .+?Constructor\]$/,q=Function.prototype,$=Object.prototype,G=q.toString,W=$.hasOwnProperty,V=RegExp("^"+G.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J(t){return!(!R(t)||(r=t,B&&B in r))&&(D(t)?V:z).test(U(t));var r}function H(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return J(e)?e:void 0}const Y=H(u,"WeakMap");var K=Object.create,Q=function(){function t(){}return function(r){if(!R(r))return{};if(K)return K(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();const X=Q;function Z(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}var tt=Date.now;var rt=function(){try{var t=H(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const et=rt;var ot=et?function(t,r){return et(t,"toString",{configurable:!0,enumerable:!1,value:(e=r,function(){return e}),writable:!0});var e}:P;var nt,it,at;const lt=(nt=ot,it=0,at=0,function(){var t=tt(),r=16-(t-at);if(at=t,r>0){if(++it>=800)return arguments[0]}else it=0;return nt.apply(void 0,arguments)});var st=9007199254740991,ut=/^(?:0|[1-9]\d*)$/;function ct(t,r){var e=typeof t;return!!(r=null==r?st:r)&&("number"==e||"symbol"!=e&&ut.test(t))&&t>-1&&t%1==0&&t<r}function ft(t,r,e){"__proto__"==r&&et?et(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e}function ht(t,r){return t===r||t!=t&&r!=r}var pt=Object.prototype.hasOwnProperty;function dt(t,r,e){var o=t[r];pt.call(t,r)&&ht(o,e)&&(void 0!==e||r in t)||ft(t,r,e)}function gt(t,r,e,o){var n=!e;e||(e={});for(var i=-1,a=r.length;++i<a;){var l=r[i],s=o?o(e[l],t[l],l,e,t):void 0;void 0===s&&(s=t[l]),n?ft(e,l,s):dt(e,l,s)}return e}var mt=Math.max;function bt(t,r){return lt(function(t,r,e){return r=mt(void 0===r?t.length-1:r,0),function(){for(var o=arguments,n=-1,i=mt(o.length-r,0),a=Array(i);++n<i;)a[n]=o[r+n];n=-1;for(var l=Array(r+1);++n<r;)l[n]=o[n];return l[r]=e(a),Z(t,this,l)}}(t,r,P),t+"")}var yt=9007199254740991;function vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=yt}function Ct(t){return null!=t&&vt(t.length)&&!D(t)}function _t(t,r,e){if(!R(e))return!1;var o=typeof r;return!!("number"==o?Ct(e)&&ct(r,e.length):"string"==o&&r in e)&&ht(e[r],t)}var wt=Object.prototype;function Mt(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||wt)}function jt(t){return C(t)&&"[object Arguments]"==v(t)}var kt=Object.prototype,At=kt.hasOwnProperty,Ot=kt.propertyIsEnumerable;const St=jt(function(){return arguments}())?jt:function(t){return C(t)&&At.call(t,"callee")&&!Ot.call(t,"callee")};var Rt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pt=Rt&&"object"==typeof module&&module&&!module.nodeType&&module,xt=Pt&&Pt.exports===Rt?u.Buffer:void 0;const Tt=(xt?xt.isBuffer:void 0)||function(){return!1};var Et={};function It(t){return function(r){return t(r)}}Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Arguments]"]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object Boolean]"]=Et["[object DataView]"]=Et["[object Date]"]=Et["[object Error]"]=Et["[object Function]"]=Et["[object Map]"]=Et["[object Number]"]=Et["[object Object]"]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object WeakMap]"]=!1;var Dt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lt=Dt&&"object"==typeof module&&module&&!module.nodeType&&module,Nt=Lt&&Lt.exports===Dt&&l.process;const Bt=function(){try{var t=Lt&&Lt.require&&Lt.require("util").types;return t||Nt&&Nt.binding&&Nt.binding("util")}catch(t){}}();var Ft=Bt&&Bt.isTypedArray;const Ut=Ft?It(Ft):function(t){return C(t)&&vt(t.length)&&!!Et[v(t)]};var zt=Object.prototype.hasOwnProperty;function qt(t,r){var e=j(t),o=!e&&St(t),n=!e&&!o&&Tt(t),i=!e&&!o&&!n&&Ut(t),a=e||o||n||i,l=a?function(t,r){for(var e=-1,o=Array(t);++e<t;)o[e]=r(e);return o}(t.length,String):[],s=l.length;for(var u in t)!r&&!zt.call(t,u)||a&&("length"==u||n&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ct(u,s))||l.push(u);return l}function $t(t,r){return function(e){return t(r(e))}}const Gt=$t(Object.keys,Object);var Wt=Object.prototype.hasOwnProperty;function Vt(t){if(!Mt(t))return Gt(t);var r=[];for(var e in Object(t))Wt.call(t,e)&&"constructor"!=e&&r.push(e);return r}function Jt(t){return Ct(t)?qt(t):Vt(t)}var Ht=Object.prototype.hasOwnProperty;function Yt(t){if(!R(t))return function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=Mt(t),e=[];for(var o in t)("constructor"!=o||!r&&Ht.call(t,o))&&e.push(o);return e}function Kt(t){return Ct(t)?qt(t,!0):Yt(t)}var Qt,Xt=(Qt=function(t,r,e,o){gt(r,Kt(r),t,o)},bt((function(t,r){var e=-1,o=r.length,n=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(n=Qt.length>3&&"function"==typeof n?(o--,n):void 0,i&&_t(r[0],r[1],i)&&(n=o<3?void 0:n,o=1),t=Object(t);++e<o;){var a=r[e];a&&Qt(t,a,e,n)}return t})));const Zt=Xt;const tr=H(Object,"create");var rr=Object.prototype.hasOwnProperty;var er=Object.prototype.hasOwnProperty;function or(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}function nr(t,r){for(var e=t.length;e--;)if(ht(t[e][0],r))return e;return-1}or.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},or.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},or.prototype.get=function(t){var r=this.__data__;if(tr){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return rr.call(r,t)?r[t]:void 0},or.prototype.has=function(t){var r=this.__data__;return tr?void 0!==r[t]:er.call(r,t)},or.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=tr&&void 0===r?"__lodash_hash_undefined__":r,this};var ir=Array.prototype.splice;function ar(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}ar.prototype.clear=function(){this.__data__=[],this.size=0},ar.prototype.delete=function(t){var r=this.__data__,e=nr(r,t);return!(e<0)&&(e==r.length-1?r.pop():ir.call(r,e,1),--this.size,!0)},ar.prototype.get=function(t){var r=this.__data__,e=nr(r,t);return e<0?void 0:r[e][1]},ar.prototype.has=function(t){return nr(this.__data__,t)>-1},ar.prototype.set=function(t,r){var e=this.__data__,o=nr(e,t);return o<0?(++this.size,e.push([t,r])):e[o][1]=r,this};const lr=H(u,"Map");function sr(t,r){var e,o,n=t.__data__;return("string"==(o=typeof(e=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?n["string"==typeof r?"string":"hash"]:n.map}function ur(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}function cr(t){return null==t?"":S(t)}function fr(t,r){for(var e=-1,o=r.length,n=t.length;++e<o;)t[n+e]=r[e];return t}ur.prototype.clear=function(){this.size=0,this.__data__={hash:new or,map:new(lr||ar),string:new or}},ur.prototype.delete=function(t){var r=sr(this,t).delete(t);return this.size-=r?1:0,r},ur.prototype.get=function(t){return sr(this,t).get(t)},ur.prototype.has=function(t){return sr(this,t).has(t)},ur.prototype.set=function(t,r){var e=sr(this,t),o=e.size;return e.set(t,r),this.size+=e.size==o?0:1,this};const hr=$t(Object.getPrototypeOf,Object);var pr="[object Object]",dr=Function.prototype,gr=Object.prototype,mr=dr.toString,br=gr.hasOwnProperty,yr=mr.call(Object);function vr(t){if(!C(t)||v(t)!=pr)return!1;var r=hr(t);if(null===r)return!0;var e=br.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&mr.call(e)==yr}var Cr="[object DOMException]",_r="[object Error]";function wr(t){if(!C(t))return!1;var r=v(t);return r==_r||r==Cr||"string"==typeof t.message&&"string"==typeof t.name&&!vr(t)}var Mr=bt((function(t,r){try{return Z(t,void 0,r)}catch(t){return wr(t)?t:new Error(t)}}));const jr=Mr;function kr(t){var r=this.__data__=new ar(t);this.size=r.size}kr.prototype.clear=function(){this.__data__=new ar,this.size=0},kr.prototype.delete=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},kr.prototype.get=function(t){return this.__data__.get(t)},kr.prototype.has=function(t){return this.__data__.has(t)},kr.prototype.set=function(t,r){var e=this.__data__;if(e instanceof ar){var o=e.__data__;if(!lr||o.length<199)return o.push([t,r]),this.size=++e.size,this;e=this.__data__=new ur(o)}return e.set(t,r),this.size=e.size,this};var Ar="object"==typeof exports&&exports&&!exports.nodeType&&exports,Or=Ar&&"object"==typeof module&&module&&!module.nodeType&&module,Sr=Or&&Or.exports===Ar?u.Buffer:void 0,Rr=Sr?Sr.allocUnsafe:void 0;function Pr(){return[]}var xr=Object.prototype.propertyIsEnumerable,Tr=Object.getOwnPropertySymbols,Er=Tr?function(t){return null==t?[]:(t=Object(t),function(t,r){for(var e=-1,o=null==t?0:t.length,n=0,i=[];++e<o;){var a=t[e];r(a,e,t)&&(i[n++]=a)}return i}(Tr(t),(function(r){return xr.call(t,r)})))}:Pr;const Ir=Er;var Dr=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)fr(r,Ir(t)),t=hr(t);return r}:Pr;const Lr=Dr;function Nr(t,r,e){var o=r(t);return j(t)?o:fr(o,e(t))}function Br(t){return Nr(t,Jt,Ir)}function Fr(t){return Nr(t,Kt,Lr)}const Ur=H(u,"DataView");const zr=H(u,"Promise");const qr=H(u,"Set");var $r="[object Map]",Gr="[object Promise]",Wr="[object Set]",Vr="[object WeakMap]",Jr="[object DataView]",Hr=U(Ur),Yr=U(lr),Kr=U(zr),Qr=U(qr),Xr=U(Y),Zr=v;(Ur&&Zr(new Ur(new ArrayBuffer(1)))!=Jr||lr&&Zr(new lr)!=$r||zr&&Zr(zr.resolve())!=Gr||qr&&Zr(new qr)!=Wr||Y&&Zr(new Y)!=Vr)&&(Zr=function(t){var r=v(t),e="[object Object]"==r?t.constructor:void 0,o=e?U(e):"";if(o)switch(o){case Hr:return Jr;case Yr:return $r;case Kr:return Gr;case Qr:return Wr;case Xr:return Vr}return r});const te=Zr;var re=Object.prototype.hasOwnProperty;const ee=u.Uint8Array;function oe(t){var r=new t.constructor(t.byteLength);return new ee(r).set(new ee(t)),r}var ne=/\w*$/;var ie=c?c.prototype:void 0,ae=ie?ie.valueOf:void 0;var le="[object Boolean]",se="[object Date]",ue="[object Map]",ce="[object Number]",fe="[object RegExp]",he="[object Set]",pe="[object String]",de="[object Symbol]",ge="[object ArrayBuffer]",me="[object DataView]",be="[object Float32Array]",ye="[object Float64Array]",ve="[object Int8Array]",Ce="[object Int16Array]",_e="[object Int32Array]",we="[object Uint8Array]",Me="[object Uint8ClampedArray]",je="[object Uint16Array]",ke="[object Uint32Array]";function Ae(t,r,e){var o,n,i,a=t.constructor;switch(r){case ge:return oe(t);case le:case se:return new a(+t);case me:return function(t,r){var e=r?oe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case be:case ye:case ve:case Ce:case _e:case we:case Me:case je:case ke:return function(t,r){var e=r?oe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case ue:return new a;case ce:case pe:return new a(t);case fe:return(i=new(n=t).constructor(n.source,ne.exec(n))).lastIndex=n.lastIndex,i;case he:return new a;case de:return o=t,ae?Object(ae.call(o)):{}}}var Oe=Bt&&Bt.isMap;const Se=Oe?It(Oe):function(t){return C(t)&&"[object Map]"==te(t)};var Re=Bt&&Bt.isSet;const Pe=Re?It(Re):function(t){return C(t)&&"[object Set]"==te(t)};var xe=1,Te=2,Ee=4,Ie="[object Arguments]",De="[object Function]",Le="[object GeneratorFunction]",Ne="[object Object]",Be={};function Fe(t,r,e,o,n,i){var a,l=r&xe,s=r&Te,u=r&Ee;if(e&&(a=n?e(t,o,n,i):e(t)),void 0!==a)return a;if(!R(t))return t;var c=j(t);if(c){if(a=function(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&re.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!l)return function(t,r){var e=-1,o=t.length;for(r||(r=Array(o));++e<o;)r[e]=t[e];return r}(t,a)}else{var f=te(t),h=f==De||f==Le;if(Tt(t))return function(t,r){if(r)return t.slice();var e=t.length,o=Rr?Rr(e):new t.constructor(e);return t.copy(o),o}(t,l);if(f==Ne||f==Ie||h&&!n){if(a=s||h?{}:function(t){return"function"!=typeof t.constructor||Mt(t)?{}:X(hr(t))}(t),!l)return s?function(t,r){return gt(t,Lr(t),r)}(t,function(t,r){return t&&gt(r,Kt(r),t)}(a,t)):function(t,r){return gt(t,Ir(t),r)}(t,function(t,r){return t&&gt(r,Jt(r),t)}(a,t))}else{if(!Be[f])return n?t:{};a=Ae(t,f,l)}}i||(i=new kr);var p=i.get(t);if(p)return p;i.set(t,a),Pe(t)?t.forEach((function(o){a.add(Fe(o,r,e,o,t,i))})):Se(t)&&t.forEach((function(o,n){a.set(n,Fe(o,r,e,n,t,i))}));var d=c?void 0:(u?s?Fr:Br:s?Kt:Jt)(t);return function(t,r){for(var e=-1,o=null==t?0:t.length;++e<o&&!1!==r(t[e],e,t););}(d||t,(function(o,n){d&&(o=t[n=o]),dt(a,n,Fe(o,r,e,n,t,i))})),a}Be[Ie]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object DataView]"]=Be["[object Boolean]"]=Be["[object Date]"]=Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Map]"]=Be["[object Number]"]=Be[Ne]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object Symbol]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Error]"]=Be[De]=Be["[object WeakMap]"]=!1;var Ue=4;function ze(t){return Fe(t,Ue)}function qe(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new ur;++r<e;)this.add(t[r])}function $e(t,r){for(var e=-1,o=null==t?0:t.length;++e<o;)if(r(t[e],e,t))return!0;return!1}qe.prototype.add=qe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qe.prototype.has=function(t){return this.__data__.has(t)};var Ge=1,We=2;function Ve(t,r,e,o,n,i){var a=e&Ge,l=t.length,s=r.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(t),c=i.get(r);if(u&&c)return u==r&&c==t;var f=-1,h=!0,p=e&We?new qe:void 0;for(i.set(t,r),i.set(r,t);++f<l;){var d=t[f],g=r[f];if(o)var m=a?o(g,d,f,r,t,i):o(d,g,f,t,r,i);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!$e(r,(function(t,r){if(a=r,!p.has(a)&&(d===t||n(d,t,e,o,i)))return p.push(r);var a}))){h=!1;break}}else if(d!==g&&!n(d,g,e,o,i)){h=!1;break}}return i.delete(t),i.delete(r),h}function Je(t){var r=-1,e=Array(t.size);return t.forEach((function(t,o){e[++r]=[o,t]})),e}function He(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e}var Ye=1,Ke=2,Qe="[object Boolean]",Xe="[object Date]",Ze="[object Error]",to="[object Map]",ro="[object Number]",eo="[object RegExp]",oo="[object Set]",no="[object String]",io="[object Symbol]",ao="[object ArrayBuffer]",lo="[object DataView]",so=c?c.prototype:void 0,uo=so?so.valueOf:void 0;var co=1,fo=Object.prototype.hasOwnProperty;var ho=1,po="[object Arguments]",go="[object Array]",mo="[object Object]",bo=Object.prototype.hasOwnProperty;function yo(t,r,e,o,n,i){var a=j(t),l=j(r),s=a?go:te(t),u=l?go:te(r),c=(s=s==po?mo:s)==mo,f=(u=u==po?mo:u)==mo,h=s==u;if(h&&Tt(t)){if(!Tt(r))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new kr),a||Ut(t)?Ve(t,r,e,o,n,i):function(t,r,e,o,n,i,a){switch(e){case lo:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case ao:return!(t.byteLength!=r.byteLength||!i(new ee(t),new ee(r)));case Qe:case Xe:case ro:return ht(+t,+r);case Ze:return t.name==r.name&&t.message==r.message;case eo:case no:return t==r+"";case to:var l=Je;case oo:var s=o&Ye;if(l||(l=He),t.size!=r.size&&!s)return!1;var u=a.get(t);if(u)return u==r;o|=Ke,a.set(t,r);var c=Ve(l(t),l(r),o,n,i,a);return a.delete(t),c;case io:if(uo)return uo.call(t)==uo.call(r)}return!1}(t,r,s,e,o,n,i);if(!(e&ho)){var p=c&&bo.call(t,"__wrapped__"),d=f&&bo.call(r,"__wrapped__");if(p||d){var g=p?t.value():t,m=d?r.value():r;return i||(i=new kr),n(g,m,e,o,i)}}return!!h&&(i||(i=new kr),function(t,r,e,o,n,i){var a=e&co,l=Br(t),s=l.length;if(s!=Br(r).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in r:fo.call(r,c)))return!1}var f=i.get(t),h=i.get(r);if(f&&h)return f==r&&h==t;var p=!0;i.set(t,r),i.set(r,t);for(var d=a;++u<s;){var g=t[c=l[u]],m=r[c];if(o)var b=a?o(m,g,c,r,t,i):o(g,m,c,t,r,i);if(!(void 0===b?g===m||n(g,m,e,o,i):b)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var y=t.constructor,v=r.constructor;y==v||!("constructor"in t)||!("constructor"in r)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(p=!1)}return i.delete(t),i.delete(r),p}(t,r,e,o,n,i))}function vo(t,r,e,o,n){return t===r||(null==t||null==r||!C(t)&&!C(r)?t!=t&&r!=r:yo(t,r,e,o,vo,n))}var Co;const _o=(Co={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==Co?void 0:Co[t]});var wo=/[&<>"']/g,Mo=RegExp(wo.source);var jo="[object Map]",ko="[object Set]",Ao=Object.prototype.hasOwnProperty;var Oo=Object.prototype,So=Oo.hasOwnProperty;function Ro(t,r,e,o){return void 0===t||ht(t,Oo[e])&&!So.call(o,e)?r:t}var Po={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function xo(t){return"\\"+Po[t]}const To=/<%=([\s\S]+?)%>/g;const Eo={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:To,variable:"",imports:{_:{escape:function(t){return(t=cr(t))&&Mo.test(t)?t.replace(wo,_o):t}}}};var Io="Invalid `variable` option passed into `_.template`",Do=/\b__p \+= '';/g,Lo=/\b(__p \+=) '' \+/g,No=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bo=/[()=,{}\[\]\/\s]/,Fo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uo=/($^)/,zo=/['\n\r\u2028\u2029\\]/g,qo=Object.prototype.hasOwnProperty;function $o(t,r,e){var o=Eo.imports._.templateSettings||Eo;e&&_t(t,r,e)&&(r=void 0),t=cr(t),r=Zt({},r,o,Ro);var n,i,a=Zt({},r.imports,o.imports,Ro),l=Jt(a),s=function(t,r){return M(r,(function(r){return t[r]}))}(a,l),u=0,c=r.interpolate||Uo,f="__p += '",h=RegExp((r.escape||Uo).source+"|"+c.source+"|"+(c===To?Fo:Uo).source+"|"+(r.evaluate||Uo).source+"|$","g"),p=qo.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(r,e,o,a,l,s){return o||(o=a),f+=t.slice(u,s).replace(zo,xo),e&&(n=!0,f+="' +\n__e("+e+") +\n'"),l&&(i=!0,f+="';\n"+l+";\n__p += '"),o&&(f+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=s+r.length,r})),f+="';\n";var d=qo.call(r,"variable")&&r.variable;if(d){if(Bo.test(d))throw new Error(Io)}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(Do,""):f).replace(Lo,"$1").replace(No,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=jr((function(){return Function(l,p+"return "+f).apply(void 0,s)}));if(g.source=f,wr(g))throw g;return g}var Go=0;const Wo="RasterFunctionTemplate",Vo="type",Jo="RasterFunctionVariable",Ho="arguments",Yo="function",Ko="distanceLegacy",Qo={MIN_VALUE:"minValue",MAX_VALUE:"maxValue",LESS_THAN:"lessThan",GREATER_THAN:"greaterThan",LESS_THAN_OR_EQUAL:"lessThanOrEqual",GREATER_THAN_OR_EQUAL:"greaterThanOrEqual"};function Xo(t){return!!t&&null!=t._object_ref_id}function Zo(t){return""!==(t=String(t).trim())&&/^[+-]?(\d+)?(\.\d+)?$/.test(t)}function tn(t){return t=String(t).trim(),["true","false"].indexOf(t)>=0}function rn(t){return t.type&&t.type.toLowerCase().indexOf("recordset")>=0}function en(t){return t.hasOwnProperty("EsriClassifierDefinitionFile")}function on(t){if(!t)return!1;const r=t.type;return[Wo,Jo].indexOf(r)>=0||!(!(e=t)||!(e.type&&e.type.toLowerCase().indexOf("colorramp")>=0||e.value&&e.value.type&&e.value.type.toLowerCase().indexOf("colorramp")>=0))||rn(t)||en(t);var e}function nn(t){return!!t&&"RasterCollectionFunction"===t.function?.type}function an(t){return!!t&&!0===t.function?.customFunction}function ln(t){return"feature"===t.type}function sn(t){return"imagery-tile"===t.type&&t.sourceJSON?.capabilities.toLowerCase().indexOf("tilesonly")<0}function un(t){return"imagery"===t.type||sn(t)}function cn(t){return"imagery-tile"===t.type&&!sn(t)}function fn(t){return null==t||"string"==typeof t&&""===t||vr(t)&&function(t){if(null==t)return!0;if(Ct(t)&&(j(t)||"string"==typeof t||"function"==typeof t.splice||Tt(t)||Ut(t)||St(t)))return!t.length;var r=te(t);if(r==jo||r==ko)return!t.size;if(Mt(t))return!Vt(t).length;for(var e in t)if(Ao.call(t,e))return!1;return!0}(t)||Array.isArray(t)&&t.length<1||"object"==typeof t&&!1===j(t)&&function(t){let r=!0;if("object"==typeof t&&!1===j(t))for(const e in t){const o=t?.[e];if(!0===t.hasOwnProperty(e)&&null!=o&&""!==o){r=!1;break}}return r}(t)}function hn(t,r){return $o(t)(r)}function pn(t){return function(t){var r=++Go;return cr(t)+r}(t)}function dn(t,r){return vo(t,r)}function gn(t,r){const e=new Set;return t.filter((t=>{const o=r.reduce(((r,e)=>`${r}&${e}=${t[e]}`),"");return!e.has(o)&&(e.add(o),!0)}))}async function mn(t,r){return(0,i.default)(t,r)}function bn(t){let r="";t=encodeURIComponent(t);for(let e=0;e<t.length;e++)"%"==t[e]?(r+=String.fromCharCode(parseInt(t.substring(e+1,e+3),16)),e+=2):r+=t[e];return r}function yn(t){return null!==t&&"object"==typeof t}function vn(t,r){Array.isArray(t)?t.forEach(((e,o)=>{r(t,o)})):yn(t)&&Object.keys(t).forEach((e=>{r(t,e)}))}function Cn(t){return ze(t)}const _n=t=>!("isConnected"in t)||t.isConnected,wn=((t,r)=>{let e;return(...o)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,t(...o)}),r)}})((t=>{for(let r of t.keys())t.set(r,t.get(r).filter(_n))}),2e3),Mn=t=>"function"==typeof t?t():t,jn=(t,r)=>{const e=t.indexOf(r);e>=0&&(t[e]=t[t.length-1],t.length--)};var kn={exports:{}};function An(t,r,e,o){var n,i=null==(n=o)||"number"==typeof n||"boolean"==typeof n?o:e(o),a=r.get(i);return void 0===a&&(a=t.call(this,o),r.set(i,a)),a}function On(t,r,e){var o=Array.prototype.slice.call(arguments,3),n=e(o),i=r.get(n);return void 0===i&&(i=t.apply(this,o),r.set(n,i)),i}function Sn(t,r,e,o,n){return e.bind(r,t,o,n)}function Rn(t,r){return Sn(t,this,1===t.length?An:On,r.cache.create(),r.serializer)}function Pn(){return JSON.stringify(arguments)}function xn(){this.cache=Object.create(null)}xn.prototype.has=function(t){return t in this.cache},xn.prototype.get=function(t){return this.cache[t]},xn.prototype.set=function(t,r){this.cache[t]=r};var Tn={create:function(){return new xn}};kn.exports=function(t,r){var e=r&&r.cache?r.cache:Tn,o=r&&r.serializer?r.serializer:Pn;return(r&&r.strategy?r.strategy:Rn)(t,{cache:e,serializer:o})},kn.exports.strategies={variadic:function(t,r){return Sn(t,this,On,r.cache.create(),r.serializer)},monadic:function(t,r){return Sn(t,this,An,r.cache.create(),r.serializer)}};const En=kn.exports;function In(t){const{customBaseUrl:r,portalHostname:e,urlKey:o}=t,{protocol:n}=window.location;return`${n}//${void 0!==o?`${o}.${r}`:e}`}function Dn(t){const{helperServices:{rasterAnalytics:{url:r}},isPortal:e}=t;return e?r:r.replace("rasteranalysis","rasterutils")}function Ln(t){return Dn(t).replace("RasterAnalysisTools/GPServer","RasterRendering/ImageServer/validate")}function Nn(t){return Dn(t).replace("RasterAnalysisTools/GPServer","RasterRendering/ImageServer")}En((async t=>{const r=new n.default({url:t});r.authMode="immediate";try{await r.load()}catch(t){console.error(t)}return r}));const Bn=En((async t=>{const{restUrl:r}=t,e=`${r}/portals/helpmap`;let o;try{const t=await mn(e,{query:{f:"json"},responseType:"json",method:"auto"});o=await(t.data?.helpMap)??void 0}catch(t){o=void 0}return console.log(o),o}),{serializer:t=>`${t[0]}-${t[1]?.url}`}),Fn="viewerUT",Un=t=>!1===fn(t)&&(t.sourceJSON?.userLicenseTypeId===Fn||!t.privileges.includes("portal:user:createItem"));const zn=((t,r)=>{const e=((t,r=(t,r)=>t!==r)=>{const e=Mn(t);let o=new Map(Object.entries(null!=e?e:{}));const n={dispose:[],get:[],set:[],reset:[]},i=()=>{var r;o=new Map(Object.entries(null!==(r=Mn(t))&&void 0!==r?r:{})),n.reset.forEach((t=>t()))},a=t=>(n.get.forEach((r=>r(t))),o.get(t)),l=(t,e)=>{const i=o.get(t);r(e,i,t)&&(o.set(t,e),n.set.forEach((r=>r(t,e,i))))},s="undefined"==typeof Proxy?{}:new Proxy(e,{get:(t,r)=>a(r),ownKeys:t=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,r)=>o.has(r),set:(t,r,e)=>(l(r,e),!0)}),u=(t,r)=>(n[t].push(r),()=>{jn(n[t],r)});return{state:s,get:a,set:l,on:u,onChange:(r,e)=>{const o=u("set",((t,o)=>{t===r&&e(o)})),n=u("reset",(()=>e(Mn(t)[r])));return()=>{o(),n()}},use:(...t)=>{const r=t.reduce(((t,r)=>(r.set&&t.push(u("set",r.set)),r.get&&t.push(u("get",r.get)),r.reset&&t.push(u("reset",r.reset)),r.dispose&&t.push(u("dispose",r.dispose)),t)),[]);return()=>r.forEach((t=>t()))},dispose:()=>{n.dispose.forEach((t=>t())),i()},reset:i,forceUpdate:t=>{const r=o.get(t);n.set.forEach((e=>e(t,r,r)))}}})(t,r);return e.use((()=>{if("function"!=typeof o.g)return{};const t=new Map;return{dispose:()=>t.clear(),get:r=>{const e=(0,o.g)();e&&((t,r,e)=>{const o=t.get(r);o?o.includes(e)||o.push(e):t.set(r,[e])})(t,r,e)},set:r=>{const e=t.get(r);e&&t.set(r,e.filter(o.f)),wn(t)},reset:()=>{t.forEach((t=>t.forEach(o.f))),wn(t)}}})()),e})({portal:undefined,assetPath:undefined,coreStrings:undefined,selectedFileName:undefined,entryPoint:undefined,isRightToLeft:!1,isLoadingRFT:!1,isViewerUserType:!1,rftId:undefined,canUpdateItem:!1,activeRFxTemplates:[],portalHelpMap:undefined,currentViewport:{x:0,y:0,width:0,height:0}}),qn=zn.state;zn.onChange("portal",(async t=>{void 0!==t&&t.isPortal&&(qn.portalHelpMap=await Bn(t))}));const $n={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Gn(t,r,e){e<0&&++e,e>1&&--e;const o=6*e;return o<1?t+(r-t)*o:2*e<1?r:3*e<2?t+(r-t)*(2/3-e)*6:t}function Wn(){return[0,0,0]}function Vn(t,r,e){return[t,r,e]}function Jn(){return[0,0,0]}function Hn(){return Vn(1,1,1)}function Yn(){return Vn(1,0,0)}function Kn(){return Vn(0,1,0)}function Qn(){return Vn(0,0,1)}const Xn=[0,0,0],Zn=Hn(),ti=Yn(),ri=Kn(),ei=Qn();Object.freeze(Object.defineProperty({__proto__:null,ONES:Zn,UNIT_X:ti,UNIT_Y:ri,UNIT_Z:ei,ZEROS:Xn,clone:function(t){return[t[0],t[1],t[2]]},create:Wn,createView:function(t,r){return new Float64Array(t,r,3)},fromArray:function(t){const r=[0,0,0],e=Math.min(3,t.length);for(let o=0;o<e;++o)r[o]=t[o];return r},fromValues:Vn,ones:Hn,unitX:Yn,unitY:Kn,unitZ:Qn,zeros:Jn},Symbol.toStringTag,{value:"Module"}));let oi=1e-6;function ni(){return oi}const ii=Math.random,ai=Math.PI/180,li=180/Math.PI;function si(t){const r=t[0],e=t[1],o=t[2];return Math.sqrt(r*r+e*e+o*o)}function ui(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function ci(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function fi(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function hi(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function pi(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2];return Math.sqrt(e*e+o*o+n*n)}function di(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2];return e*e+o*o+n*n}function gi(t){const r=t[0],e=t[1],o=t[2];return r*r+e*e+o*o}function mi(t,r){const e=r[0],o=r[1],n=r[2];let i=e*e+o*o+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i),t}function bi(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:ii,equals:function(t,r){return Math.abs(t-r)<=oi*Math.max(1,Math.abs(t),Math.abs(r))},getEpsilon:ni,setEpsilon:function(t){oi=t},toDegree:function(t){return t*li},toRadian:function(t){return t*ai}},Symbol.toStringTag,{value:"Module"}));const yi=[0,0,0],vi=[0,0,0];const Ci=ci,_i=fi,wi=hi,Mi=pi,ji=di,ki=si,Ai=gi;function Oi(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function Si(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function Ri(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function Pi(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2],i=r[3]-t[3];return Math.sqrt(e*e+o*o+n*n+i*i)}function xi(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2],i=r[3]-t[3];return e*e+o*o+n*n+i*i}function Ti(t){const r=t[0],e=t[1],o=t[2],n=t[3];return Math.sqrt(r*r+e*e+o*o+n*n)}function Ei(t){const r=t[0],e=t[1],o=t[2],n=t[3];return r*r+e*e+o*o+n*n}Object.freeze(Object.defineProperty({__proto__:null,abs:function(t,r){return t[0]=Math.abs(r[0]),t[1]=Math.abs(r[1]),t[2]=Math.abs(r[2]),t},add:function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},angle:function(t,r){ui(yi,t),ui(vi,r),mi(yi,yi),mi(vi,vi);const e=bi(yi,vi);return e>1?0:e<-1?Math.PI:Math.acos(e)},bezier:function(t,r,e,o,n,i){const a=1-i,l=a*a,s=i*i,u=l*a,c=3*i*l,f=3*s*a,h=s*i;return t[0]=r[0]*u+e[0]*c+o[0]*f+n[0]*h,t[1]=r[1]*u+e[1]*c+o[1]*f+n[1]*h,t[2]=r[2]*u+e[2]*c+o[2]*f+n[2]*h,t},ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},copy:ui,cross:function(t,r,e){const o=r[0],n=r[1],i=r[2],a=e[0],l=e[1],s=e[2];return t[0]=n*s-i*l,t[1]=i*a-o*s,t[2]=o*l-n*a,t},direction:function(t,r,e){const o=e[0]-r[0],n=e[1]-r[1],i=e[2]-r[2];let a=o*o+n*n+i*i;return a>0?(a=1/Math.sqrt(a),t[0]=o*a,t[1]=n*a,t[2]=i*a,t):(t[0]=0,t[1]=0,t[2]=0,t)},dist:Mi,distance:pi,div:wi,divide:hi,dot:bi,equals:function(t,r){if(t===r)return!0;const e=t[0],o=t[1],n=t[2],i=r[0],a=r[1],l=r[2],s=ni();return Math.abs(e-i)<=s*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-a)<=s*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(n-l)<=s*Math.max(1,Math.abs(n),Math.abs(l))},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},hermite:function(t,r,e,o,n,i){const a=i*i,l=a*(2*i-3)+1,s=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return t[0]=r[0]*l+e[0]*s+o[0]*u+n[0]*c,t[1]=r[1]*l+e[1]*s+o[1]*u+n[1]*c,t[2]=r[2]*l+e[2]*s+o[2]*u+n[2]*c,t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},len:ki,length:si,lerp:function(t,r,e,o){const n=r[0],i=r[1],a=r[2];return t[0]=n+o*(e[0]-n),t[1]=i+o*(e[1]-i),t[2]=a+o*(e[2]-a),t},max:function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},min:function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},mul:_i,multiply:fi,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},normalize:mi,random:function(t,r){r=r||1;const e=ii,o=2*e()*Math.PI,n=2*e()-1,i=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(o)*i,t[1]=Math.sin(o)*i,t[2]=n*r,t},rotateX:function(t,r,e,o){const n=[],i=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],i[0]=n[0],i[1]=n[1]*Math.cos(o)-n[2]*Math.sin(o),i[2]=n[1]*Math.sin(o)+n[2]*Math.cos(o),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},rotateY:function(t,r,e,o){const n=[],i=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],i[0]=n[2]*Math.sin(o)+n[0]*Math.cos(o),i[1]=n[1],i[2]=n[2]*Math.cos(o)-n[0]*Math.sin(o),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},rotateZ:function(t,r,e,o){const n=[],i=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],i[0]=n[0]*Math.cos(o)-n[1]*Math.sin(o),i[1]=n[0]*Math.sin(o)+n[1]*Math.cos(o),i[2]=n[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},scale:function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},scaleAndAdd:function(t,r,e,o){return t[0]=r[0]+e[0]*o,t[1]=r[1]+e[1]*o,t[2]=r[2]+e[2]*o,t},set:function(t,r,e,o){return t[0]=r,t[1]=e,t[2]=o,t},sign:function(t,r){return t[0]=Math.sign(r[0]),t[1]=Math.sign(r[1]),t[2]=Math.sign(r[2]),t},sqrDist:ji,sqrLen:Ai,squaredDistance:di,squaredLength:gi,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:Ci,subtract:ci,transformMat3:function(t,r,e){const o=r[0],n=r[1],i=r[2];return t[0]=o*e[0]+n*e[3]+i*e[6],t[1]=o*e[1]+n*e[4]+i*e[7],t[2]=o*e[2]+n*e[5]+i*e[8],t},transformMat4:function(t,r,e){const o=r[0],n=r[1],i=r[2];return t[0]=e[0]*o+e[4]*n+e[8]*i+e[12],t[1]=e[1]*o+e[5]*n+e[9]*i+e[13],t[2]=e[2]*o+e[6]*n+e[10]*i+e[14],t},transformQuat:function(t,r,e){const o=e[0],n=e[1],i=e[2],a=e[3],l=r[0],s=r[1],u=r[2];let c=n*u-i*s,f=i*l-o*u,h=o*s-n*l,p=n*h-i*f,d=i*c-o*h,g=o*f-n*c;const m=2*a;return c*=m,f*=m,h*=m,p*=2,d*=2,g*=2,t[0]=l+c+p,t[1]=s+f+d,t[2]=u+h+g,t}},Symbol.toStringTag,{value:"Module"}));const Ii=Oi,Di=Si,Li=Ri,Ni=Pi,Bi=xi,Fi=Ti,Ui=Ei;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},dist:Ni,distance:Pi,div:Li,divide:Ri,dot:function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},equals:function(t,r){const e=t[0],o=t[1],n=t[2],i=t[3],a=r[0],l=r[1],s=r[2],u=r[3],c=ni();return Math.abs(e-a)<=c*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(o-l)<=c*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(n-s)<=c*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=c*Math.max(1,Math.abs(i),Math.abs(u))},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},len:Fi,length:Ti,lerp:function(t,r,e,o){const n=r[0],i=r[1],a=r[2],l=r[3];return t[0]=n+o*(e[0]-n),t[1]=i+o*(e[1]-i),t[2]=a+o*(e[2]-a),t[3]=l+o*(e[3]-l),t},max:function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t},min:function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t},mul:Di,multiply:Si,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},normalize:function(t,r){const e=r[0],o=r[1],n=r[2],i=r[3];let a=e*e+o*o+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e*a,t[1]=o*a,t[2]=n*a,t[3]=i*a),t},random:function(t,r){const e=ii;let o,n,i,a,l,s;r=r||1;do{o=2*e()-1,n=2*e()-1,l=o*o+n*n}while(l>=1);do{i=2*e()-1,a=2*e()-1,s=i*i+a*a}while(s>=1);const u=Math.sqrt((1-l)/s);return t[0]=r*o,t[1]=r*n,t[2]=r*i*u,t[3]=r*a*u,t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},scale:function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},scaleAndAdd:function(t,r,e,o){return t[0]=r[0]+e[0]*o,t[1]=r[1]+e[1]*o,t[2]=r[2]+e[2]*o,t[3]=r[3]+e[3]*o,t},set:function(t,r,e,o,n){return t[0]=r,t[1]=e,t[2]=o,t[3]=n,t},sqrDist:Bi,sqrLen:Ui,squaredDistance:xi,squaredLength:Ei,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:Ii,subtract:Oi,transformMat4:function(t,r,e){const o=r[0],n=r[1],i=r[2],a=r[3];return t[0]=e[0]*o+e[4]*n+e[8]*i+e[12]*a,t[1]=e[1]*o+e[5]*n+e[9]*i+e[13]*a,t[2]=e[2]*o+e[6]*n+e[10]*i+e[14]*a,t[3]=e[3]*o+e[7]*n+e[11]*i+e[15]*a,t},transformQuat:function(t,r,e){const o=r[0],n=r[1],i=r[2],a=e[0],l=e[1],s=e[2],u=e[3],c=u*o+l*i-s*n,f=u*n+s*o-a*i,h=u*i+a*n-l*o,p=-a*o-l*n-s*i;return t[0]=c*u+p*-a+f*-s-h*-l,t[1]=f*u+p*-l+h*-a-c*-s,t[2]=h*u+p*-s+c*-l-f*-a,t[3]=r[3],t}},Symbol.toStringTag,{value:"Module"}));const zi=new Float32Array(1);const qi=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const $i=BigInt("1000000");let Gi;function Wi(t){return"function"==typeof Gi[t]?Gi[t]=Gi[t](globalThis):Gi[t]}function Vi(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;const r=function(t){if(function(t){return"Int8Array"===t?.constructor?.name}(t)||function(t){return"Uint8Array"===t?.constructor?.name}(t)||function(t){return"Uint8ClampedArray"===t?.constructor?.name}(t)||function(t){return"Int16Array"===t?.constructor?.name}(t)||function(t){return"Uint16Array"===t?.constructor?.name}(t)||function(t){return"Int32Array"===t?.constructor?.name}(t)||function(t){return"Uint32Array"===t?.constructor?.name}(t)||function(t){return"Float32Array"===t?.constructor?.name}(t)||function(t){return"Float64Array"===t?.constructor?.name}(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const r=new Map;for(const[e,o]of t)r.set(e,Vi(o));return r}if(t instanceof Set){const r=new Set;for(const e of t)r.add(Vi(e));return r}return null}(t);if(null!=r)return r;if(function(t){return"function"==typeof t.clone}(t))return t.clone();if(function(t){return"function"==typeof t.map&&"function"==typeof t.forEach}(t))return t.map(Vi);if(function(t){return"function"==typeof t.notifyChange&&"function"==typeof t.watch}(t))return t.clone();const e={};for(const r of Object.getOwnPropertyNames(t))e[r]=Vi(t[r]);return e}function Ji(t,r,e){return r?Object.keys(r).reduce(((t,o)=>{let n=t[o],i=r[o];return n===i?t:void 0===n?(t[o]=Vi(i),t):(Array.isArray(i)||Array.isArray(t)?(n=n?Array.isArray(n)?t[o]=n.concat():t[o]=[n]:t[o]=[],i&&(Array.isArray(i)||(i=[i]),e?i.forEach((t=>{n.includes(t)||n.push(t)})):t[o]=i.concat())):i&&"object"==typeof i?t[o]=Ji(n,i,e):t.hasOwnProperty(o)&&!r.hasOwnProperty(o)||(t[o]=i),t)}),t||{}):t}!function(t){const r=function(t){return qi.setFloat64(0,t),qi.getBigInt64(0)}(t=Math.abs(t)),e=function(t){return qi.setBigInt64(0,t),qi.getFloat64(0)}(r<=$i?$i:r-$i);Math.abs(t-e)}(1),function(t){zi[0]=t,zi[0]}(34028234663852886e22),Gi=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},Wi.add=(t,r,e,o)=>((o||void 0===Gi[t])&&(Gi[t]=r),e&&Wi(t)),Wi.cache=Gi,Wi.add("esri-deprecation-warnings",!0),Wi.add("esri-force-fullscreen-debug",!1),(()=>{Wi.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const t="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(Wi.add("host-browser",t),Wi.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),Wi.add("dom",t),Wi("host-browser")){const t=navigator,r=t.userAgent,e=t.appVersion,o=parseFloat(e);if(Wi.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),Wi.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),Wi.add("khtml",e.includes("Konqueror")?o:void 0),Wi.add("edge",parseFloat(r.split("Edge/")[1])||void 0),Wi.add("opr",parseFloat(r.split("OPR/")[1])||void 0),Wi.add("webkit",!Wi("wp")&&!Wi("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),Wi.add("chrome",!Wi("edge")&&!Wi("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),Wi.add("android",!Wi("wp")&&parseFloat(r.split("Android ")[1])||void 0),Wi.add("safari",!e.includes("Safari")||Wi("wp")||Wi("chrome")||Wi("android")||Wi("edge")||Wi("opr")?void 0:parseFloat(e.split("Version/")[1])),Wi.add("mac",e.includes("Macintosh")),!Wi("wp")&&/(iPhone|iPod|iPad)/.test(r)){const t=RegExp.$1.replace(/P/,"p"),e=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",o=parseFloat(e.replace(/_/,".").replaceAll("_",""));Wi.add(t,o),Wi.add("ios",o)}Wi("webkit")||(!r.includes("Gecko")||Wi("wp")||Wi("khtml")||Wi("edge")||Wi.add("mozilla",o),Wi("mozilla")&&Wi.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),e=/iPhone/i.test(t);r&&Wi.add("esri-mobile",r),e&&Wi.add("esri-iPhone",e),Wi.add("esri-geolocation",!!navigator.geolocation)}Wi.add("esri-wasm","WebAssembly"in globalThis),Wi.add("esri-shared-array-buffer",(()=>{const t="SharedArrayBuffer"in globalThis,r=!1===globalThis.crossOriginIsolated;return t&&!r})),Wi.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),Wi.add("esri-atomics","Atomics"in globalThis),Wi.add("esri-workers","Worker"in globalThis),Wi.add("web-feat:cache","caches"in globalThis),Wi.add("esri-workers-arraybuffer-transfer",!Wi("safari")||Number(Wi("safari"))>=12),Wi.add("workers-pool-size",8),Wi.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Wi.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Wi.add("featurelayer-animation-enabled",!0),Wi.add("featurelayer-snapshot-enabled",!0),Wi.add("featurelayer-snapshot-point-min-threshold",8e4),Wi.add("featurelayer-snapshot-point-max-threshold",4e5),Wi.add("featurelayer-snapshot-point-coverage",.1),Wi.add("featurelayer-advanced-symbols",!1),Wi.add("featurelayer-pbf",!0),Wi.add("featurelayer-pbf-statistics",!1),Wi.add("feature-layers-workers",!0),Wi.add("feature-polyline-generalization-factor",1),Wi.add("mapview-transitions-duration",200),Wi.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Wi.add("mapserver-pbf-version-support",10.81),Wi.add("mapservice-popup-identify-max-tolerance",20),Wi.add("heatmap-allow-raster-fallback",!1),Wi.add("heatmap-force-raster",!1),Wi("host-webworker")||Wi("host-browser")&&(Wi.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),Wi.add("esri-image-decode",(()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then((()=>{Wi.add("esri-image-decode",!0,!0,!0)})).catch((()=>{Wi.add("esri-image-decode",!1,!0,!0)}))}return!1})),Wi.add("esri-url-encodes-apostrophe",(()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")})))})();const Hi={analysisTheme:{accentColor:[255,127,0],textColor:"white"},apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(function(t,r,e=!1){Ji(t,r,e)}(Hi,globalThis.esriConfig,!0),delete Hi.has),!Hi.assetsPath){{const t="4.27.0";Hi.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${t}-next.20230526/assets`}Hi.defaultAssetsPath=Hi.assetsPath}const Yi={info:0,warn:1,error:2,none:3};class Ki{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,Ki._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");-1!==r&&(this._parent=Ki.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(t=new Map){const r=Ki._loggers;return Ki._loggers=t,r},set throttlingDisabled(t){Ki._throttlingDisabled=t}}}static getLogger(t){return t="string"!=typeof t?t.declaredClass:t,Ki._loggers.get(t)||new Ki({module:t})}_log(t,r,...e){if(this._matchLevel(t)){if("always"!==r&&!Ki._throttlingDisabled){const o=this._argsToKey(e),n=this._loggedMessages[t].get(o);if("once"===r&&null!=n||"oncePerTick"===r&&n&&n>=Ki._tickCounter)return;this._loggedMessages[t].set(o,Ki._tickCounter),Ki._scheduleTickCounterIncrement()}for(const r of Hi.log.interceptors)if(r(t,this.module,...e))return;this._inheritedWriter()(t,this.module,...e)}}_parentWithMember(t,r){let e=this;for(;null!=e;){const r=e[t];if(null!=r)return r;e=e.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...e){console[t](`[${r}]`,...e)}_matchLevel(t){const r=Hi.log.level||"warn";return Yi[this._parentWithMember("level",r)]<=Yi[t]}_argsToKey(...t){return function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return r}(JSON.stringify(t,((t,r)=>"object"!=typeof r||Array.isArray(r)?r:"[Object]")))}static _scheduleTickCounterIncrement(){Ki._tickCounterScheduled||(Ki._tickCounterScheduled=!0,Promise.resolve().then((()=>{Ki._tickCounter++,Ki._tickCounterScheduled=!1})))}}function Qi(t){return function(t,r,e){return Math.min(Math.max(t,r),e)}(function(t){return null==t?t:Math.round(parseFloat(t))}(t),0,255)}function Xi(t,r,e){return t=Number(t),isNaN(t)?e:t<r?r:t>e?e:t}Ki._loggers=new Map,Ki._tickCounter=0,Ki._tickCounterScheduled=!1,Ki._throttlingDisabled=!1,Ki.getLogger("esri.core.accessorSupport.ensureTypes");class Zi{static blendColors(t,r,e,o=new Zi){return o.r=Math.round(t.r+(r.r-t.r)*e),o.g=Math.round(t.g+(r.g-t.g)*e),o.b=Math.round(t.b+(r.b-t.b)*e),o.a=t.a+(r.a-t.a)*e,o._sanitize()}static fromRgb(t,r){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){const t=e[2].split(/\s*,\s*/),o=e[1];if("rgb"===o&&3===t.length||"rgba"===o&&4===t.length){const e=t[0];if("%"===e.charAt(e.length-1)){const e=t.map((t=>2.56*parseFloat(t)));return 4===t.length&&(e[3]=parseFloat(t[3])),Zi.fromArray(e,r)}return Zi.fromArray(t.map((t=>parseFloat(t))),r)}if("hsl"===o&&3===t.length||"hsla"===o&&4===t.length)return Zi.fromArray(function(t,r,e,o=1){const n=(t%360+360)%360/360,i=e<=.5?e*(r+1):e+r-e*r,a=2*e-i;return[Math.round(255*Gn(a,i,n+1/3)),Math.round(255*Gn(a,i,n)),Math.round(255*Gn(a,i,n-1/3)),o]}(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),r)}return null}static fromHex(t,r=new Zi){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const e=4===t.length?4:8,o=(1<<e)-1;let n=Number("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach((t=>{const i=n&o;n>>=e,r[t]=4===e?17*i:i})),r.a=1,r)}static fromArray(t,r=new Zi){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const e=function(t){return!!$n[t]||!!$n[t.toLowerCase()]}(t)?function(t){return $n[t]??$n[t.toLowerCase()]}(t):null;return e&&Zi.fromArray(e,r)||Zi.fromRgb(t,r)||Zi.fromHex(t,r)}static fromJSON(t){return t&&new Zi([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?Zi.fromString(t,this):Array.isArray(t)?Zi.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Zi||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),e=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${e.length<2?"0"+e:e}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Zi.AlphaMode.ALWAYS){const r=Qi(this.r),e=Qi(this.g),o=Qi(this.b);return t===Zi.AlphaMode.ALWAYS||1!==this.a?[r,e,o,Qi(255*this.a)]:[r,e,o]}clone(){return new Zi(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Xi(this.r,0,255)),this.g=Math.round(Xi(this.g,0,255)),this.b=Math.round(Xi(this.b,0,255)),this.a=Xi(this.a,0,1),this}_set(t,r,e,o){this.r=t,this.g=r,this.b=e,this.a=o}}Zi.prototype.declaredClass="esri.Color",function(t){var r;(r=t.AlphaMode||(t.AlphaMode={}))[r.ALWAYS=0]="ALWAYS",r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Zi||(Zi={}));const ta=Zi;function ra(t){return"h"in t&&"s"in t&&"v"in t}function ea(t){return"l"in t&&"a"in t&&"b"in t}function oa(t){return"l"in t&&"c"in t&&"h"in t}const na=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ia=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function aa(t,r){const e=[];let o,n;if(t[0].length!==r.length)throw new Error("dimensions do not match");const i=t.length,a=t[0].length;let l=0;for(o=0;o<i;o++){for(l=0,n=0;n<a;n++)l+=t[o][n]*r[n];e.push(l)}return e}function la(t){const r=[t.r/255,t.g/255,t.b/255].map((t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4)),e=aa(na,r);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function sa(t){const r=aa(ia,[t.x/100,t.y/100,t.z/100]).map((t=>{const r=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(r,0))}));return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function ua(t){const r=[t.x/95.047,t.y/100,t.z/108.883].map((t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29));return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function ca(t){const r=t.l,e=[(r+16)/116+t.a/500,(r+16)/116,(r+16)/116-t.b/200].map((t=>t>6/29?t**3:3*(6/29)**2*(t-4/29)));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function fa(t){return function(t){const r=t.l,e=t.a,o=t.b,n=Math.sqrt(e*e+o*o);let i=Math.atan2(o,e);return i=i>0?i:i+2*Math.PI,{l:r,c:n,h:i}}(ua(la(t)))}function ha(t){return sa(ca(function(t){const r=t.l,e=t.c,o=t.h;return{l:r,a:e*Math.cos(o),b:e*Math.sin(o)}}(t)))}function pa(t){return function(t){return"r"in t&&"g"in t&&"b"in t}(t)?t:oa(t)?ha(t):ea(t)?function(t){return sa(ca(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?sa(t):ra(t)?function(t){const r=(t.h+360)%360/60,e=t.s/100,o=t.v/100*255,n=o*e,i=n*(1-Math.abs(r%2-1));let a;switch(Math.floor(r)){case 0:a={r:n,g:i,b:0};break;case 1:a={r:i,g:n,b:0};break;case 2:a={r:0,g:n,b:i};break;case 3:a={r:0,g:i,b:n};break;case 4:a={r:i,g:0,b:n};break;case 5:case 6:a={r:n,g:0,b:i};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+o-n),a.g=Math.round(a.g+o-n),a.b=Math.round(a.b+o-n),a}(t):t}function da(t){return ra(t)?t:function(t){const r=t.r,e=t.g,o=t.b,n=Math.max(r,e,o),i=n-Math.min(r,e,o);let a=n,l=0===i?0:n===r?(e-o)/i%6:n===e?(o-r)/i+2:(r-e)/i+4,s=0===i?0:i/a;return l<0&&(l+=6),l*=60,s*=100,a*=100/255,{h:l,s,v:a}}(pa(t))}function ga(t){return ea(t)?t:function(t){return ua(la(t))}(pa(t))}function ma(t){return oa(t)?t:fa(pa(t))}const ba=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],ya=new class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(t,r,e)=>{const o=this.toJSON(t);void 0!==o&&function(t,r,e){const o=t.split("."),n=o.pop(),i=function(t,r,e){let o=e;for(const e of t){if(null==o)return;if(!(e in o)){if(!r)return;o[e]={}}o=o[e]}return o}(o,!0,e);i&&n&&(i[n]=r)}(e,o,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(null==t)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return null!=t&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const e in t)r[t[e]]=e;return r}_getKeysSorted(t){const r=[];for(const e in t)r.push(e);return r.sort(),r}}({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function va(t,r){if(!t||!r||t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]>r[e]+2||t[e]<r[e]-2)return!1;return!0}function Ca(t){const r=t.clone();return r.fromColor=t.toColor,r.toColor=t.fromColor,r.algorithm=t.algorithm,r}function _a(t,r){if(!t)return;const e=r??ba;let o=null;return"algorithmic"===t.type?e.some((r=>{if(va(t.fromColor.toRgb(),r.fromColor)&&va(t.toColor.toRgb(),r.toColor))return o=r.id,!0})):"multipart"===t.type&&e.some((r=>{const e=t.colorRamps,n=r.colorRamps;if(e&&n&&e.length===n.length&&!n.some(((t,r)=>{if(!va(e[r].fromColor.toRgb(),new ta(t.fromColor).toRgb())||!va(e[r].toColor.toRgb(),new ta(t.toColor).toRgb()))return!0}))){if(o)return!0;o=r.id}})),o}function wa(t,r){if(!t)return;let e=_a(t,r);return null==e&&(e=_a(t=function(t){if("multipart"===t.type){const r=t.clone();return r.colorRamps?.length?(r.colorRamps=r.colorRamps.reverse().map((t=>Ca(t))),r):r}return Ca(t)}(t),r)),e}function Ma(t){const r=(t=t||{}).numColors||256,e=t.distanceOffset||0,o=null!=t.isCustomInterval?t.isCustomInterval:null!==t.distanceInterval&&t.distanceInterval!==1/(r-1),n=t.distanceInterval||1/(r-1);return{...t,numColors:r,distanceOffset:e,interpolateAlpha:!!t.interpolateAlpha,distanceInterval:n,isCustomInterval:o,weights:t.weights}}function ja(t,r){let{fromColor:e,toColor:o}=t;e=[...e],o=[...o],3===e.length&&(e=e.concat([255])),3===o.length&&(o=o.concat([255]));const n=t.algorithm||"esriCIELabAlgorithm",i=Ma(r),{numColors:a,distanceOffset:l,isCustomInterval:s,interpolateAlpha:u}=i;if(1===a&&0===l)return[e];if(2===a&&0===l&&!s)return[e,o];const c={r:e[0],g:e[1],b:e[2]},f={r:o[0],g:o[1],b:o[2]},h="esriCIELabAlgorithm"===n?function(t,r,e){const{numColors:o,distanceOffset:n,distanceInterval:i,isCustomInterval:a}=e;let{l,a:s,b:u}=t;const c=(r.l-l)*i,f=(r.a-s)*i,h=(r.b-u)*i,p=[];if(n){const t=n/i;l+=t*c,s+=t*f,u+=t*h}for(let t=0;t<o-1;t++)p.push({l,a:s,b:u}),l+=c,s+=f,u+=h;return p.push(a?{l,a:s,b:u}:r),p}(ga(c),ga(f),i):"esriHSVAlgorithm"===n?function(t,r,e){const{numColors:o,distanceOffset:n,distanceInterval:i,isCustomInterval:a}=e,l=0===t.s,s=0===r.s;let u=t.h,c=r.h;l&&!s?u=c:s&&!l&&(r={...r,h:u},c=u);let f,h=Math.abs(c-u);const p=360;h<180?f=(c-u)*i:(h=p-h,f=u>c?h*i:-h*i);const d=(r.s-t.s)*i,g=(r.v-t.v)*i;let{s:m,v:b}=t,y=u;if(n){const t=n/i;y=(y+t*f+p)%p,m+=t*d,b+=t*g}const v=[];for(let t=0;t<o-1;t++)v.push({h:y,s:m,v:b}),y=(y+f+p)%p,m+=d,b+=g;return v.push(a?{h:y,s:m,v:b}:r),v}(da(c),da(f),i):function(t,r,e){const{numColors:o,distanceOffset:n,distanceInterval:i,isCustomInterval:a}=e,l=t.h,s=r.h,u=2*Math.PI;let c;if(l<=s){const t=s-l,r=s-l-u;c=Math.abs(r)<Math.abs(t)?r:t}else{const t=s+u-l,r=s-l;c=Math.abs(r)<Math.abs(t)?r:t}const f=c*i,h=(r.l-t.l)*i,p=(r.c-t.c)*i;let{l:d,c:g,h:m}=t;if(n){const t=n/i;d+=t*h,g+=t*p,m=(m+t*f+u)%u}const b=[];for(let t=0;t<o-1;t++)b.push({l:d,c:g,h:m}),d+=h,g+=p,m=(m+f+u)%u;return b.push(a?{l:d,c:g,h:m}:r),b}(ma(c),ma(f),i),p=[],d=e[3]??255,g=((o[3]??255)-d)/(a-1);for(let t=0;t<a;t++){const{r,g:e,b:o}=pa(h[t]),n=u?Math.round(d+g*t):255;p.push([r,e,o,n])}return p}function ka(t,r){const e="toJSON"in t?t.toJSON():t,o="multipart"===e.type?function(t,r){const{numColors:e,interpolateAlpha:o}=Ma(r);let n=r?.weights;const{colorRamps:i}=t;if(n){const t=n.reduce(((t,r)=>t+r));n=n.map((r=>r/t))}else{n=[];for(let t=0;t<i.length;t++)n[t]=1/i.length}const a=[];let l=0,s=0;const u=1/(e-1);let c=!1;for(let t=0;t<i.length;t++){let r=c?0:l*u-s,f=t===i.length-1?e-1-l:(n[t]-r)/u;if(c=Math.ceil(f)===f,f=Math.ceil(f),0===f)continue;r/=n[t];const h=ja(i[t],{numColors:f,interpolateAlpha:o,distanceOffset:r,distanceInterval:u/n[t]});l+=h.length,a.push(...h),s+=n[t]}const f=[...i[i.length-1].toColor];return 3===f.length&&f.push(255),a.push(f),a}(e,r):ja(e,r);return o}function Aa(t,r){const e=ka(t,r),o=r?.interpolateAlpha;return e.forEach(((t,r)=>{t.unshift(r),o||t.pop()})),e}function Oa(t){const r=da(t);return{type:"HsvColor",Hue:r.h,Saturation:r.s,Value:r.v,AlphaValue:255}}function Sa(t){const r=t.toJSON();return{Algorithm:r?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:Oa(t.fromColor),ToColor:Oa(t.toColor)}}function Ra(t){const r=function(t){const r="string"==typeof t?t:wa(t);return r?ya.toJSON(r):null}(t);if(!r)return null;if("algorithmic"===t.type)return{...Sa(t),Name:r};if(t.colorRamps){const e=t.colorRamps.map(Sa);return{type:"MultiPartColorRamp",NumColorRamps:e.length,ArrayOfColorRamp:e,Name:r}}return null}}}]);