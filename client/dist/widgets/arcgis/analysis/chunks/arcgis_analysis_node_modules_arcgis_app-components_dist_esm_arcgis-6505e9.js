/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-6505e9.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-6505e9"],{91353:(e,t,i)=>{i.d(t,{D:()=>r});var n=i(19564),s=i(26756);function r(e){var t;const{key:i,dimensionInfo:r}=e,l=i.includes("start")||i.includes("end"),{values:a}=r;let{selectedValue:o}=e;a&&(0,s.d)(a)&&"number"==typeof o&&(o=l?o=a.find((e=>i.includes("start")?e[0]===o:e[1]===o)):null!==(t=a.find((e=>e[0]===o)))&&void 0!==t?t:a.find((e=>e[1]===o)));const u=o===s.e||e.selectedValue===s.e,d=u?"undefined":(0,s.f)(o,r,{intl:e.intl,useRecurringTimeLabel:!0}),c=(e.isAscending?r.values:[...r.values].reverse()).map((t=>{const i=(0,s.f)(t,r,{intl:e.intl,useRecurringTimeLabel:!0}),n=Array.isArray(t)?t.join(" - "):String(t),l=i===d;return{key:`${e.key}-${n}}`,value:n,label:i,selected:l}})),{strings:m}=e;e.showEnd&&c.push({key:`${r.name}-end-undefined}`,value:String(s.e),label:m.extent.endUndefined,selected:u});const h=Math.max(0,c.findIndex((({selected:e})=>e))),f={clearFilter:m.select.clearFilter,filterText:m.select.filterText,filterLabel:m.extent.searchDimensions,selectLabel:m.extent.selectDimensions};return(0,n.h)("div",{class:"dimension-select-container"},(0,n.h)("arcgis-lazy-loading-select",{selectedIndex:h,list:c,strings:f,onArcgisLazyLoadingSelectChange:t=>{var i;const n=t.detail.selectedValue.split(" - ").map((e=>Number(e)));null===(i=e.onChange)||void 0===i||i.call(e,1===n.length?n[0]:n)},containerTop:e.containerTop}),e.sortable&&function(e,t,i,r){const l=(0,s.i)(e)?t?"clock-up":"clock-down":t?"sort-ascending-arrow":"sort-descending-arrow";return(0,n.h)("calcite-action",{icon:l,scale:"s",text:i,slot:"actions-end",onClick:()=>null==r?void 0:r(e.name)})}(r,e.isAscending,m.display.sort,e.updateSorting))}},99004:(e,t,i)=>{i.d(t,{c:()=>n,g:()=>s});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},79935:(e,t,i)=>{i.r(t),i.d(t,{arcgis_raster_multidimensional_subset:()=>o});var n=i(19564),s=i(26408),r=i(98034),l=i(26756),a=i(91353);i(99004);const o=class{constructor(e){(0,n.r)(this,e),this.arcgisRasterMultidimensionalSubsetChange=(0,n.c)(this,"arcgisRasterMultidimensionalSubsetChange",7),this.aoiIndex=0,this.allVariables=[],this.previousPickedListSize=-1,this.updateExtentDimensionSubset=(e,t,i="both")=>{const{multidimensionalSubset:n}=this,s=[...n.dimensions.find((t=>t.name===e)).extent];if("both"===i){if(Array.isArray(t)&&s[0]===t[0]&&s[1]===t[1])return;[s[0],s[1]]=t}else if("start"===i){let e=s[1]===s[0];s[0]=Array.isArray(t)?t[0]:t,e&&(s[1]=s[0])}else t===l.e?s[1]=s[0]:s[1]=Array.isArray(t)?t[t.length-1]:t;(s[1]<s[0]||null==s[1])&&(s[1]=s[0]);const r=n.clone(),{subsetDefinitions:a}=r;a.forEach((t=>{t.dimensionName===e&&(t.values=[s[0],s[1]])})),this.updateActiveMultidimensionalSubset(r)},this.updateExtentVariables=e=>{let{multidimensionalSubset:t}=this;if(e.length&&t.variables.length&&e.join(",")===t.variables.join(","))return;this.previousPickedListSize=e.length,0===e.length&&(e=this.allVariables.map((({name:e})=>e)));const i=this.getDefaultMultidimensionalSubset(e),{subsetDefinitions:n}=i.clone();n.forEach((e=>{const i=t.subsetDefinitions.find((t=>t.variableName===e.variableName&&t.dimensionName===e.dimensionName));if(i)e.values=i.values;else{const i=t.dimensions.find((t=>t.name===e.dimensionName));i&&(e.values=[...i.extent])}}));const s=t.clone();s.subsetDefinitions=n,this.updateActiveMultidimensionalSubset(s)},this.updateExtentAOI=e=>{const t=this.multidimensionalSubset.clone();t.areaOfInterest=null==e?void 0:e.clone(),this.updateActiveMultidimensionalSubset(t)},this.showAreaOfInterest=!1,this.collapseExtentSection=!1,this.showFilterLength=5,this.view=void 0,this.strings=void 0,this.multidimensionalInfo=void 0,this.multidimensionalSubset=void 0,this.sortDirections={}}watchMultidimensionalInfo(e){this.multidimensionalInfo=e,this.initMultidimensionalInfo()}watchMultidimensionalSubset(e){null!=e||(e=this.getDefaultMultidimensionalSubset()),this.multidimensionalSubset!==e&&(this.closePopover(),this.multidimensionalSubset=e)}async componentWillLoad(){[this.intl,this.DimensionalDefinition,this.MultidimensionalSubset]=await(0,r.l)(["esri/intl","esri/layers/support/DimensionalDefinition","esri/layers/support/MultidimensionalSubset"]),this.initMultidimensionalInfo()}disconnectedCallback(){this.closePopover()}async closePopover(){this.popOver&&(document.body.removeChild(this.popOver),this.popOver=void 0)}render(){return this.popOver&&this.updatePopoverProps(),(0,n.h)(n.H,{key:"176120e84f7a87d52e015df46b3fd914763a6e84"},(0,n.h)("calcite-block",{key:"23b05c00785fe237c4c028fa83ac434d3ac0eaa5",heading:this.strings.extent.extent,collapsible:!0,open:!this.collapseExtentSection,onCalciteBlockClose:()=>this.closePopover(),ref:e=>this.refElement=e},this.renderVariableList(),this.allVariables.length>1&&this.renderVariableSelectButton(),this.renderExtents(),this.showAreaOfInterest&&this.renderAOI()))}renderExtents(){const e=[];return this.multidimensionalInfo.variables.forEach((({dimensions:t})=>e.push(...t))),this.multidimensionalSubset.dimensions.map((({name:t,extent:i})=>{const n=e.find((({name:e})=>e===t));return this.renderDimensionExtent(n,i)})).filter((e=>null!=e))}renderVariableSelectButton(){return(0,n.h)("div",{class:"variable-select"},(0,n.h)("calcite-button",{scale:"s",appearance:"outline-fill",kind:"neutral",round:!0,alignment:"center",iconStart:"plus",onClick:()=>this.renderPickListPopover()},this.strings.extent.variables))}renderVariableList(){const e=this.multidimensionalSubset.variables,t=this.allVariables.filter((({name:t})=>!e.length||e.includes(t))),{strings:i}=this,s=1===this.allVariables.length;return(0,n.h)("div",null,(0,n.h)("calcite-label",null,i.extent.variables,(0,n.h)("calcite-list",{label:i.extent.variables,class:"variable-section-boarder"},t.map((({name:e,label:t,description:r})=>(0,n.h)("calcite-list-item",{label:t,description:r,key:e},(0,n.h)("calcite-action",{icon:"x",scale:"s",text:i.general.close,slot:"actions-end",hidden:s,onClick:()=>this.removeVariable(e)})))))))}renderAOI(){const{strings:e}=this,t=[{value:"default",label:e.extent.default,selected:0===this.aoiIndex},{value:"map",label:e.extent.mapExtent,selected:1===this.aoiIndex}],i=t.findIndex((({selected:e})=>e)),s={clearFilter:e.select.clearFilter,filterText:e.select.filterText,filterLabel:e.extent.searchAOI,selectLabel:e.extent.selectAOI},{top:r}=this.hostElement.getBoundingClientRect();return(0,n.h)("div",null,(0,n.h)("calcite-label",null,e.extent.aoi,(0,n.h)("arcgis-lazy-loading-select",{selectedIndex:i,list:t,strings:s,onArcgisLazyLoadingSelectChange:e=>{var t;const i=e.detail.selectedValue,n="default"===i||null===(t=this.view)||void 0===t?void 0:t.extent;this.aoiIndex="default"===i?0:1,this.updateExtentAOI(n)},containerTop:r})))}removeVariable(e){const t=this.multidimensionalSubset.clone();let i=t.subsetDefinitions.filter((t=>t.variableName!==e));0===i.length&&(i=this.getDefaultMultidimensionalSubset().subsetDefinitions),t.subsetDefinitions=i,this.updateActiveMultidimensionalSubset(t)}renderDimensionList(e,t,i,s){const r=(0,l.d)(e),o="end"===s,u=r?e.filter((e=>o?e[0]>=t[0]:e[1]<=t[1])):e.filter((e=>o?e>t[0]:e<t[1])),d=t[1]===t[0]||r&&e.some((e=>e[0]===t[0]&&e[1]===t[1])),c=d?i:Object.assign(Object.assign({},i),{values:u}),m=o?d?l.e:t[1]:t[0],{top:h}=this.hostElement.getBoundingClientRect();return(0,n.h)(a.D,{dimensionInfo:c,selectedValue:m,sortable:!1,isAscending:!0,key:`${i.name}-${s}`,showEnd:o,onChange:e=>this.updateExtentDimensionSubset(i.name,e,s),intl:this.intl,strings:this.strings,containerTop:h})}renderSlider(e,t,i){var r;const l=e.length;let a;const o=(0,s.d)((()=>{var i;const n=null==a?void 0:a.value;if(null==n)return;const s=Array.isArray(n),r=s?n[0]:n,l=s?null!==(i=n[1])&&void 0!==i?i:n[0]:n,o=e[r],u=e[l],d=Array.isArray(o)?o[0]:o,c=Array.isArray(u)?u[1]:u;this.updateExtentDimensionSubset(t,[d,c])}),100);let u=0,d=l-1;const c=null===(r=this.multidimensionalSubset.dimensions.find((({name:e})=>e===t)))||void 0===r?void 0:r.extent;return(null==c?void 0:c.length)&&(u=e.findIndex((e=>(Array.isArray(e)?e[0]:e)===c[0])),-1===u&&(u=0),d=e.findIndex((e=>(Array.isArray(e)?e[1]:e)===c[1])),-1===d&&(d=l-1)),i[0]===i[1]?(0,n.h)("calcite-slider",{disabled:!1,min:0,max:l-1,value:u,step:1,snap:!0,labelTicks:!1,ticks:l,onCalciteSliderInput:o,onCalciteSliderChange:o,ref:e=>a=e}):(0,n.h)("calcite-slider",{disabled:!1,min:0,max:l-1,"min-value":u,"max-value":d,step:1,snap:!0,labelTicks:!1,ticks:l,onCalciteSliderInput:o,onCalciteSliderChange:o,ref:e=>a=e})}renderDimensionExtent(e,t){const{name:i,values:s}=e;if(!(null==s?void 0:s.length))return null;const r=this.renderDimensionList(s,t,e,"start"),l=this.renderDimensionList(s,t,e,"end"),a=this.renderSlider(s,i,t),{extent:o}=this.strings,u="StdTime"===i?o.stdTimeExtent:"StdZ"===i?o.stdZExtent:o.generalExtent.replace("${dimensionName}",i);return(0,n.h)("div",{class:"dimension-zone"},(0,n.h)("calcite-label",null,u),a,(0,n.h)("div",{class:"multidimensional-extent"},(0,n.h)("div",null,(0,n.h)("calcite-label",null,o.start,r)),(0,n.h)("div",null,(0,n.h)("calcite-label",null,o.end,l))))}renderPickListPopover(){const{refElement:e}=this;if(this.popOver||!e)return;const t=document.createElement("arcgis-field-pick-list"),i=e.getBoundingClientRect().width;t.popoverProps={refElement:e,placement:"leading-start",offsetDistance:1,offsetSkidding:48,popoverWidth:i};const{selectVariables:n}=this.strings.extent;t.heading=n,t.filterPlaceholderText=n,t.showFieldInfo=!1,t.showFieldName=!1,t.showDescription=!0,t.showSelectionAll=!0,t.showCancel=!1,t.showSort=!1,t.multiple=!0,this.popOver=t,this.previousPickedListSize=-1,this.updatePopoverProps(),t.addEventListener("arcgisFieldPickListChange",(e=>{let t=e.detail.selectedFields||[];this.updateExtentVariables(t)})),t.addEventListener("arcgisFieldPickListDismissed",(()=>{this.closePopover()})),document.body.appendChild(t)}initMultidimensionalInfo(){var e;this.allVariables=this.multidimensionalInfo.variables.map((({name:e,unit:t,description:i,dimensions:n,statistics:s})=>({name:e,label:t?`${e} (${t})`:e,description:i,dimensionNames:n.map((({name:e})=>e)).join(", "),statisticsRange:null==s?void 0:s.map((({min:e,max:t})=>[e,t].join(", "))).join("; ")}))),null!==(e=this.multidimensionalSubset)&&void 0!==e||(this.multidimensionalSubset=this.getDefaultMultidimensionalSubset())}updatePopoverProps(){const{variables:e}=this.multidimensionalSubset,{multidimensionalInfo:t,popOver:i}=this;if(!t||!i||0===this.previousPickedListSize&&e.length===t.variables.length)return;const{allVariables:n}=this;i.selectedFields=e,i.fields=n.map((e=>({name:e.name,alias:e.name,type:"String",description:e.description}))),i.showFilterLength=this.showFilterLength}getDefaultMultidimensionalSubset(e){var t;const i=[];for(const n of this.multidimensionalInfo.variables){const{name:s,dimensions:r}=n;if(!(null==e?void 0:e.length)||e.includes(s))if(0===r.length)i.push(new this.DimensionalDefinition({variableName:s,dimensionName:"",values:[],isSlice:!1}));else for(const e of r){const{name:n,values:r,extent:l}=e,a=null!==(t=null==l?void 0:l.slice())&&void 0!==t?t:[];if((null==r?void 0:r.length)&&!a.length){const e=r[0],t=r[r.length-1];a[0]=Array.isArray(e)?e[0]:e,a[1]=Array.isArray(t)?t[t.length-1]:t}i.push(new this.DimensionalDefinition({variableName:s,dimensionName:n,values:a,isSlice:!1}))}}return new this.MultidimensionalSubset({subsetDefinitions:i})}updateActiveMultidimensionalSubset(e){var t,i;this.multidimensionalSubset=e;const n=this.getDefaultMultidimensionalSubset(),s=JSON.stringify(null!==(t=e.subsetDefinitions)&&void 0!==t?t:void 0)!==JSON.stringify(null!==(i=n.subsetDefinitions)&&void 0!==i?i:void 0),r=null!=e.areaOfInterest;if(s||r)if(s)this.arcgisRasterMultidimensionalSubsetChange.emit({subset:e});else{const t=e.clone();t.subsetDefinitions=[],this.arcgisRasterMultidimensionalSubsetChange.emit({subset:t})}else this.arcgisRasterMultidimensionalSubsetChange.emit({subset:void 0});this.arcgisRasterMultidimensionalSubsetChange.emit({subset:e})}get hostElement(){return(0,n.d)(this)}static get watchers(){return{multidimensionalInfo:["watchMultidimensionalInfo"],multidimensionalSubset:["watchMultidimensionalSubset"]}}};o.style=".variable-section-boarder{border:1px solid var(--arcgis-app-border)}.variable-select{display:flex;justify-content:center}.multidimensional-extent>div{margin:10px 0}.dimension-zone{padding:10px;border:1px solid var(--arcgis-app-border);margin:10px 0}.dimension-select-container{display:flex;width:100%;align-items:center}.dimension-select-container .dimension-select{flex-grow:1}"},26408:(e,t,i)=>{i.d(t,{a:()=>u,b:()=>m,c:()=>s,d:()=>n,e:()=>l,f:()=>r,g:()=>d,h:()=>h,i:()=>f,m:()=>a,t:()=>o,u:()=>c});const n=(e,t)=>{let i,n="idle";const s=(...s)=>new Promise((r=>{switch(n){case"flushed":n="idle",i?(clearTimeout(i),r(e(...s))):r(null);break;case"invoked":clearTimeout(i),n="idle",r(e(...s));break;case"cancelled":clearTimeout(i),n="idle",r(null);break;default:i&&clearTimeout(i),n="pending",i=setTimeout((()=>(n="idle",r(e(...s)))),t)}}));return s.flush=function(...e){return n="flushed",s(...e)},s.invoke=function(...e){return n="invoked",s(...e)},s.cancel=function(...e){return n="cancelled",s(...e)},s.getStatus=function(){return n},s},s=(e,t)=>{let i;return(...n)=>new Promise((s=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,s(e(...n))}),t))}))};function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(e){return null!=e}async function a(e,t){return await Promise.all([e,o(t)]),e}function o(e){return new Promise((t=>setTimeout(t,e)))}const u=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:n}=t(e);return[i,n]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function c(e,t){const i=[],n={};return e.forEach((e=>{const s=t(e);null==n[s]&&(n[s]=e,i.push(e))})),i}function m(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const h=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,n)=>e.slice(t*n,t+t*n))),f=(e,t)=>e.includes(t)},98034:(e,t,i)=>{i.d(t,{e:()=>r,l:()=>l});var n,s=i(99004),r={exports:{}};n=r.exports,s.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},i="4.24",n="next";function s(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function r(e){return void 0===e&&(e=i),"https://js.arcgis.com/".concat(e,"/")}function l(e){void 0===e&&(e=i);var t=r(e),l=s(e);if(l!==n&&3===l.major){var a=l.minor<=10?"js/":"";return"".concat(t).concat(a,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function a(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function o(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}function u(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||s(e)?l(e):e}function c(e,t){var i=d(e),n=u(i);return n||o(n=a(i),t),n}var m={};function h(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function f(e,t,i){var n;i&&(n=v(e,i));var s=function(){t(e),e.removeEventListener("load",s,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",s,!1)}function v(e,t){var i=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",i,!1)};return e.addEventListener("error",i,!1),i}function p(e){void 0===e&&(e={}),m=e}function b(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var i={};[m,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}));var n=i.version,s=i.url||r(n);return new t.Promise((function(e,t){var r=b();if(r){var l=r.getAttribute("src");l!==s?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):g()?e(r):f(r,e,t)}else if(g())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=i.css;a&&c(!0===a?n:a,i.insertCssBefore),f(r=h(s),(function(){r.setAttribute("data-esri-loader","loaded"),e(r)}),t),document.body.appendChild(r)}}))}function x(e){return new t.Promise((function(t,i){var n=window.require.on("error",i);window.require(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n.remove(),t(e)}))}))}function S(e,t){if(void 0===t&&(t={}),g())return x(e);var i=b(),n=i&&i.getAttribute("src");return!t.url&&n&&(t.url=n),y(t).then((function(){return x(e)}))}e.utils=t,e.loadModules=S,e.getScript=b,e.isLoaded=g,e.loadScript=y,e.setDefaultOptions=p,e.loadCss=c,Object.defineProperty(e,"__esModule",{value:!0})}(n);const l=async(e,t)=>(await r.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},26756:(e,t,i)=>{i.d(t,{a:()=>u,b:()=>o,c:()=>d,d:()=>f,e:()=>s,f:()=>a,g:()=>c,i:()=>m,m:()=>n,u:()=>h});const n=10.9,s=Number.MAX_VALUE-1;function r(e,t){const i=new Date(e),{useFriendlyIsoFormat:n,intl:s,format:r}=t;if(n&&s)return s.formatDate(i,Object.assign(Object.assign({},s.convertDateFormatToIntlOptions(null!=r?r:"short-date-long-time")),{timeZone:"UTC"}));let l=new Date(e).toISOString();return l=`${l.slice(0,l.indexOf("."))}Z`,l}function l(e,t,i="long"){const n=new Date(2022,9,10);return n.setMonth(e-1),t.formatDate(n,{month:i})}function a(e,t,i={}){var n,s,a;if(null==e)return"";const{intl:o,useRecurringTimeLabel:u}=i;if(u&&o&&!Array.isArray(e)){const i=null===(n=t.intervalUnit)||void 0===n?void 0:n.toLowerCase().trim(),s=function(e){return"StdTime"===e.name&&!!e.recurring}(t)&&("months"===i||"quarters"===i);if(s)return"months"===i?l(e,o):function(e,t){return`${l(3*(e-1)+1,t,"short")} - ${l(3*e,t,"short")}`}(e,o)}const d=null===(s=t.values)||void 0===s?void 0:s[t.values.length-1];if(i.useStartOrEndForRangedValue&&Array.isArray(e)&&2===e.length&&Array.isArray(d)){const t=e.join("-")===d.join("-");e=t?e[1]:e[0]}if(!m(t))return Array.isArray(e)?e.map((e=>{var t;return null!==(t=null==o?void 0:o.formatNumber(e))&&void 0!==t?t:String(e)})).join(" - "):null!==(a=null==o?void 0:o.formatNumber(e))&&void 0!==a?a:String(e);if(i.useFriendlyIsoFormat&&!i.format){const e=function(e){var t,i,n;let s=null!==(i=null===(t=e.intervalUnit)||void 0===t?void 0:t.toLowerCase().trim())&&void 0!==i?i:"";const{interval:r=0,extent:l}=e,a=null===(n=e.values)||void 0===n?void 0:n.length;if(!["years","months","days","hours"].includes(s)&&(null==l?void 0:l.length)&&a){const e=(l[1]-l[0])/a,t=864e5;s=e>=365*t?"years":e>=28*t?"months":s}switch(s){case"months":s=r>11?"years":s;break;case"days":s=r>364?"years":r>27?"months":s;break;case"hours":s="days"}return"years"===s?"year":"months"===s?"short-month-year":"short-date"}(t);i=Object.assign({format:e},i)}return Array.isArray(e)?e.map((e=>r(e,i))).join(" - "):r(e,i)}function o(e,t){var i;const n=null===(i=null==t?void 0:t.dimensions)||void 0===i?void 0:i.find((({name:t})=>t===e.name));if(!(null==n?void 0:n.extent))return e;const s=[...n.extent],{values:r}=e;if(null==r?void 0:r.length){const t=r.filter((e=>Array.isArray(e)?null==s[1]||s[0]===s[1]?e[0]===s[0]:e[0]>=s[0]&&e[0]<=s[1]&&e[1]>=s[0]&&e[1]<=s[1]:e>=s[0]&&e<=s[1]));if(0===t.length){const e=r[r.length-1];Array.isArray(e)&&e[1]===s[0]&&t.push(e)}return Object.assign(Object.assign({},e),{extent:s,values:t})}return Object.assign(Object.assign({},e),{extent:s})}function u(e){var t;const{values:i,extent:n,name:s}=e;let r=null!==(t=null==i?void 0:i[0])&&void 0!==t?t:null==n?void 0:n[0];return"stdz"===s.toLowerCase()&&!e.hasRanges&&n&&Math.abs(n[1])<=Math.abs(n[0])&&(r=(null==i?void 0:i.length)?i[i.length-1]:n[1]),r}function d(e){var t,i;return"imagery-tile"===e.type||"wcs"===e.type?e.multidimensionalDefinition:null===(i=null!==(t=e.mosaicRule)&&void 0!==t?t:e.defaultMosaicRule)||void 0===i?void 0:i.multidimensionalDefinition}async function c(e,t=!1){var i;if("imagery-tile"===e.type||"wcs"===e.type)return e.serviceRasterInfo.multidimensionalInfo;const{rasterFunction:s,version:r}=e;if(t||r<=n||!s||"none"===(null===(i=s.functionName)||void 0===i?void 0:i.toLowerCase()))return e.serviceRasterInfo.multidimensionalInfo;return(await e.generateRasterInfo(e.rasterFunction).catch((()=>e.serviceRasterInfo))).multidimensionalInfo}function m(e,t=!1){return"StdTime"===e.name&&(t||!e.recurring)}function h(e,t,i){var n;t=o(t,i);const s=a(e.values[0],t);if(!(null===(n=t.values)||void 0===n?void 0:n.some((e=>s===a(e,t))))){const i=u(t);e.values=null!=i?[i]:[]}}function f(e){return Array.isArray(e[0])}}}]);