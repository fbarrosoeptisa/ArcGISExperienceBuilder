/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7900af.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7900af"],{66839:(e,t,i)=>{i.r(t),i.d(t,{arcgis_sketch_actions_popover:()=>r,arcgis_sketch_features:()=>u});var s=i(19564),o=i(98034),c=i(66507),a=i(53076),n=i(26408);i(99004),i(91102),i(73807),i(89261);const r=class{constructor(e){(0,s.r)(this,e),this.arcgisSketchActionsBulkEdit=(0,s.c)(this,"arcgisSketchActionsBulkEdit",7),this.arcgisSketchActionsBulkDuplicate=(0,s.c)(this,"arcgisSketchActionsBulkDuplicate",7),this.arcgisSketchActionsCopyToNewSketchLayer=(0,s.c)(this,"arcgisSketchActionsCopyToNewSketchLayer",7),this.arcgisSketchActionsBulkDelete=(0,s.c)(this,"arcgisSketchActionsBulkDelete",7),this.arcgisSketchActionsPopoverClose=(0,s.c)(this,"arcgisSketchActionsPopoverClose",7),this.referenceElement=void 0,this.selectedGraphics=void 0,this.strings=void 0}async setFocus(){setTimeout((()=>{var e;return null===(e=this.editNode)||void 0===e?void 0:e.setFocus()}),300)}render(){var e;const{strings:t}=this;return(null===(e=this.selectedGraphics)||void 0===e?void 0:e.length)?(0,s.h)(s.H,null,(0,s.h)("calcite-popover",{class:"js-app-flyout",placement:"leading-start",offsetDistance:10,offsetSkidding:80,pointerDisabled:!0,label:t.edit,triggerDisabled:!0,referenceElement:this.referenceElement,open:!0,onCalcitePopoverClose:()=>this.arcgisSketchActionsPopoverClose.emit()},(0,s.h)("calcite-panel",{heading:t.actions},(0,s.h)("calcite-action",{label:t.edit,text:t.edit,textEnabled:!0,onClick:()=>this.arcgisSketchActionsBulkEdit.emit({graphics:this.selectedGraphics}),ref:e=>this.editNode=e}),(0,s.h)("calcite-action",{label:t.duplicate,text:t.duplicate,textEnabled:!0,onClick:()=>this.arcgisSketchActionsBulkDuplicate.emit()}),(0,s.h)("calcite-action",{label:t.copyToNewSketchLayer,text:t.copyToNewSketchLayer,textEnabled:!0,onClick:()=>this.arcgisSketchActionsCopyToNewSketchLayer.emit()}),(0,s.h)("calcite-action",{label:t.delete,text:t.delete,textEnabled:!0,onClick:()=>this.arcgisSketchActionsBulkDelete.emit()})))):null}get hostElement(){return(0,s.d)(this)}};function h(e){var t,i;switch(null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.type){case"point":return"text"===(null===(i=null==e?void 0:e.symbol)||void 0===i?void 0:i.type)?"text":"point";case"polyline":return"polyline";default:return"polygon"}}async function l(e,t,i,s){const o=function(e){if(e)return(0,a.a)(e.webmap,!0)||(0,a.a)(e.current,!0)||null;return null}(e)||{enabled:!0,selfEnabled:!0,featureEnabled:!0,featureSourcesIds:[t.id]};return new s({enabled:o.enabled,selfEnabled:o.selfEnabled,featureEnabled:o.featureEnabled,featureSources:await d(i,o.featureSourcesIds)})}async function d(e,t){const i=await async function(e){const[t]=await(0,o.l)(["esri/core/CollectionFlattener"]),{map:i}=e,{allLayers:s}=i,c=new t({getCollections:()=>[s],getChildrenFunction:e=>"layers"in e?e.layers:"sublayers"in e?e.sublayers:null,itemFilterFunction:e=>!e.isTable});return[...new Set(c.toArray())]}(e);return i.filter((e=>t.includes(e.id))).map((e=>({layer:e,enabled:!0})))}class p{constructor(e,t,i,s,o){this.mapNotesLayer=e,this.mapView=t,this.sketchViewModelPoint=new i({layer:this.mapNotesLayer.pointLayer,view:this.mapView,updateOnGraphicClick:!1,snappingOptions:s}),this.sketchViewModelPoint.on("update",(e=>o(e))),this.sketchViewModelLine=new i({layer:this.mapNotesLayer.polylineLayer,view:this.mapView,updateOnGraphicClick:!1,snappingOptions:s}),this.sketchViewModelLine.on("update",(e=>o(e))),this.sketchViewModelPolygon=new i({layer:this.mapNotesLayer.polygonLayer,view:this.mapView,updateOnGraphicClick:!1,snappingOptions:s}),this.sketchViewModelPolygon.on("update",(e=>o(e))),this.sketchViewModelText=new i({layer:this.mapNotesLayer.textLayer,view:this.mapView,updateOnGraphicClick:!1,snappingOptions:s}),this.sketchViewModelText.on("update",(e=>o(e)))}duplicate(){this.duplicatePoint(),this.duplicateLine(),this.duplicatePolygon(),this.duplicateText()}delete(){this.deletePoint(),this.deleteLine(),this.deletePolygon(),this.deleteText()}cancel(){this.cancelPoint(),this.cancelLine(),this.cancelPolygon(),this.cancelText()}destroy(){this.destroyPoint(),this.destroyLine(),this.destroyPolygon(),this.destroyText()}updatePoint(e){this.sketchViewModelPoint.update(e)}duplicatePoint(){this.sketchViewModelPoint.duplicate()}deletePoint(){this.sketchViewModelPoint.delete()}cancelPoint(){this.sketchViewModelPoint.cancel()}destroyPoint(){this.sketchViewModelPoint.destroy()}updateLine(e){this.sketchViewModelLine.update(e)}duplicateLine(){this.sketchViewModelLine.duplicate()}deleteLine(){this.sketchViewModelLine.delete()}cancelLine(){this.sketchViewModelLine.cancel()}destroyLine(){this.sketchViewModelLine.destroy()}updatePolygon(e){this.sketchViewModelPolygon.update(e)}duplicatePolygon(){this.sketchViewModelPolygon.duplicate()}deletePolygon(){this.sketchViewModelPolygon.delete()}cancelPolygon(){this.sketchViewModelPolygon.cancel()}destroyPolygon(){this.sketchViewModelPolygon.destroy()}updateText(e){this.sketchViewModelText.update(e)}duplicateText(){this.sketchViewModelText.duplicate()}deleteText(){this.sketchViewModelText.delete()}cancelText(){this.sketchViewModelText.cancel()}destroyText(){this.sketchViewModelText.destroy()}}const u=class{constructor(e){(0,s.r)(this,e),this.arcgisSketchFeaturesUpdated=(0,s.c)(this,"arcgisSketchFeaturesUpdated",7),this.arcgisSketchFeaturesAddSketch=(0,s.c)(this,"arcgisSketchFeaturesAddSketch",7),this.arcgisSketchFeaturesEditFeatures=(0,s.c)(this,"arcgisSketchFeaturesEditFeatures",7),this.arcgisSketchFeaturesCopyToNewSketchLayer=(0,s.c)(this,"arcgisSketchFeaturesCopyToNewSketchLayer",7),this.renderingSymbolPreviews=!1,this.listItemNodes=[],this.graphicsSelectionHandles=[],this.graphicsUpdateHandles=[],this.selectedGraphics=[],this.duplicatedGraphicIndices=[],this.freezeGraphicsListOrder=!1,this.activeSVMCount=0,this.onGraphicUpdate=e=>{if(this.listItemNodes=this.listItemNodes.slice(0,this.graphics.length),"start"===e.state)if(this.freezeGraphicsListOrder||this.activeSVMCount)this.listItemNodes.forEach(((e,t)=>this.listItemNodes[t].selected=(0,n.e)(this.selectedGraphics.find((e=>e.index===t))))),this.freezeGraphicsListOrder=!1,this.activeSVMCount-=1;else{let t=!1;this.selectedGraphics=[],this.graphics.forEach(((i,s)=>{t||JSON.stringify(i.toJSON())!==JSON.stringify(e.graphics[0].toJSON())?this.listItemNodes[s]&&(this.listItemNodes[s].selected=!1):(t=!0,this.selectedGraphics.push({index:s,graphic:i}),this.listItemNodes[s]&&(this.listItemNodes[s].selected=!0),this.addActionsPopover())}))}"complete"===e.state&&this.arcgisSketchFeaturesUpdated.emit()},this.layer=void 0,this.mapView=void 0,this.showAddSketch=!0,this.showEditFeature=!0,this.snappingSessionStorageIds=void 0,this.open=!0,this.graphics=void 0}sketchUpdatedHandler(e){e.stopPropagation(),(0,s.f)(this.hostElement)}async setFocus(){this.addFeatureButtonNode.setFocus()}async done(){var e;(null===(e=this.snappingSessionStorageIds)||void 0===e?void 0:e.current)&&function(e,t){const i=[...new Set([...e.featureSources.filter((e=>e.enabled)).map((e=>e.layer.id))])],s={enabled:e.enabled,selfEnabled:e.selfEnabled,featureEnabled:e.featureEnabled,featureSourcesIds:i};(0,a.b)(t,s,!0)}(this.snappingOptions,this.snappingSessionStorageIds.current),this.sketchFeaturesSVModel.destroy(),this.mapView.popupEnabled=!0}async componentWillLoad(){[this.strings]=await(0,c.g)(this.hostElement),await this.loadAllModules(),this.snappingOptions=await l(this.snappingSessionStorageIds,this.layer,this.mapView,this.SnappingOptions),this.sketchFeaturesSVModel=new p(this.layer,this.mapView,this.SketchViewModel,this.snappingOptions,this.onGraphicUpdate),this.combineMapNotesGraphics()}async componentDidRender(){var e,t,i;const{strings:s}=this;if(!this.renderingSymbolPreviews){this.renderingSymbolPreviews=!0;for(let o=0;o<this.graphics.length;o++){const c=this.hostElement.shadowRoot.getElementById(`image-${o}`);c.textContent="",await this.symbolUtils.renderPreviewHTML(this.graphics[o].symbol,Object.assign({node:c,scale:!0,maxSize:20,size:{width:20,height:"polyline"===this.graphics[o].geometry.type?6:20}},"text"===(null===(e=this.graphics[o].symbol)||void 0===e?void 0:e.type)&&{overrideText:(null===(i=null===(t=this.graphics[o].symbol)||void 0===t?void 0:t.text)||void 0===i?void 0:i[0])||s.textPreview}))}this.renderingSymbolPreviews=!1}}componentDidLoad(){this.watchForChangesToMapNotesLayer(),this.watchForGraphicSelectionOnClick()}componentDidUpdate(){this.duplicatedGraphicIndices.length&&(this.listItemNodes.forEach(((e,t)=>this.listItemNodes[t].selected=this.duplicatedGraphicIndices.includes(t))),this.selectedGraphics=[],this.listItemNodes.forEach(((e,t)=>{e.selected&&this.selectedGraphics.push({index:t,graphic:this.graphics[t]})})),this.duplicatedGraphicIndices=[])}disconnectedCallback(){var e;this.graphicsSelectionHandles.forEach((e=>null==e?void 0:e.remove())),this.graphicsUpdateHandles.forEach((e=>null==e?void 0:e.remove())),null===(e=this.hitTestHandle)||void 0===e||e.remove(),this.unselectAllGraphics(),this.sketchFeaturesSVModel.cancel(),this.sketchFeaturesSVModel.destroy()}render(){const{strings:e,graphics:t,selectedGraphics:i,showAddSketch:o,open:c}=this;return this.listItemNodes=[],(0,s.h)(s.H,{key:"67badc297db2c9c4ede58b5c28e362f59691a59b"},(0,s.h)("calcite-block",{key:"e26abc557f5d1621c54f0af72e94320eab63a553",ref:e=>this.blockNode=e,heading:e.sketches,open:c,collapsible:!0,onCalciteBlockOpen:()=>{i.length&&this.addActionsPopover()},onCalciteBlockClose:()=>this.removeActionsPopover()},(0,s.h)("calcite-list",{key:"655dd54edc86b34a042ec2c27a29021bac85da71",selectionMode:"multiple",label:e.sketches},t.map(((e,t)=>this.renderPickListItem(e,t)))),o?(0,s.h)("calcite-button",{ref:e=>this.addFeatureButtonNode=e,iconStart:"pencil-mark",appearance:"transparent",width:"full",onClick:()=>{const{layer:e}=this;this.removeActionsPopover(),this.unselectAllGraphics(),this.sketchFeaturesSVModel.cancel(),this.arcgisSketchFeaturesAddSketch.emit({layer:e})}},e.addSketch):null))}renderPickListItem(e,t){var i;const{strings:o,showEditFeature:c}=this;return(0,s.h)("calcite-list-item",{id:`graphic-${t}`,label:(null===(i=null==e?void 0:e.attributes)||void 0===i?void 0:i.title)||this.getStringFromType(e),onClick:()=>this.handleFeatureSelectionViaList(),onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.handleFeatureSelectionViaList())},ref:e=>this.listItemNodes.push(e)},(0,s.h)("div",{slot:"content-start",id:`image-${t}`}),c?(0,s.h)("calcite-action",{slot:"actions-end",text:o.edit,title:o.edit,scale:"s",icon:"pencil",onClick:t=>{t.preventDefault(),t.stopPropagation(),this.arcgisSketchFeaturesEditFeatures.emit({features:[e]})}}):null)}async loadAllModules(){[this.reactiveUtils,this.symbolUtils,this.SketchViewModel,this.SnappingOptions,this.drawUtils]=await(0,o.l)(["esri/core/reactiveUtils","esri/symbols/support/symbolUtils","esri/widgets/Sketch/SketchViewModel","esri/views/interactive/snapping/SnappingOptions","esri/views/draw/support/drawUtils"])}combineMapNotesGraphics(){this.graphics=[...this.layer.pointLayer.graphics,...this.layer.polylineLayer.graphics,...this.layer.polygonLayer.graphics,...this.layer.textLayer.graphics]}watchForChangesToMapNotesLayer(){const{reactiveUtils:e}=this;for(const t of[this.layer.pointLayer,this.layer.polylineLayer,this.layer.polygonLayer,this.layer.textLayer]){const i=e.on((()=>t.graphics),"change",(()=>{this.freezeGraphicsListOrder||this.combineMapNotesGraphics()}));this.graphicsSelectionHandles.push(i);const s=e.on((()=>t),"graphic-update",(e=>{"geometry"!==(null==e?void 0:e.property)&&this.combineMapNotesGraphics()}));this.graphicsUpdateHandles.push(s)}}watchForGraphicSelectionOnClick(){var e;null===(e=this.hitTestHandle)||void 0===e||e.remove(),this.hitTestHandle=this.mapView.on("click",(async e=>{var t;const i=(await this.mapView.hitTest(e,{include:this.layer})).results;if(i.length){const e=["point","polyline","polygon"];i.sort((function(t,i){return e.indexOf(t.graphic.geometry.type)-e.indexOf(i.graphic.geometry.type)}));const t=i[0].graphic;this.unselectAllGraphics(!0),this.handleFeatureSelectionViaHitTest(t)}else null===(t=this.listItemNodes)||void 0===t||t.forEach((e=>{e&&(e.selected=!1)})),this.removeActionsPopover(),this.unselectAllGraphics(),this.sketchFeaturesSVModel.cancel(),this.combineMapNotesGraphics(),this.freezeGraphicsListOrder=!1,this.activeSVMCount=0}))}unselectAllGraphics(e){this.selectedGraphics=[],this.listItemNodes.forEach((e=>{e&&(e.selected=!1)})),e||this.removeActionsPopover()}addActionsPopover(){this.sketchActionsPopoverNode||(this.sketchActionsPopoverNode=document.createElement("arcgis-sketch-actions-popover"),this.sketchActionsPopoverNode.referenceElement=this.blockNode,this.sketchActionsPopoverNode.selectedGraphics=this.selectedGraphics,this.sketchActionsPopoverNode.strings=this.strings,this.sketchActionsPopoverNode.addEventListener("arcgisSketchActionsBulkEdit",(e=>{this.removeActionsPopover(),this.unselectAllGraphics();const t=e.detail.graphics.map((e=>e.graphic));this.arcgisSketchFeaturesEditFeatures.emit({features:t})})),this.sketchActionsPopoverNode.addEventListener("arcgisSketchActionsBulkDuplicate",(()=>{this.sketchFeaturesSVModel.duplicate(),this.offsetDuplicatedFeatures(),this.combineMapNotesGraphics();const e=this.selectedGraphics.map((e=>e.graphic));this.duplicatedGraphicIndices=[],e.forEach((e=>{let t=!1;this.graphics.forEach(((i,s)=>{t||this.duplicatedGraphicIndices.includes(s)||JSON.stringify(i.toJSON())!==JSON.stringify(e.toJSON())||(this.duplicatedGraphicIndices.push(s),t=!0)}))}))})),this.sketchActionsPopoverNode.addEventListener("arcgisSketchActionsCopyToNewSketchLayer",(()=>{const e=this.selectedGraphics.map((e=>e.graphic));this.arcgisSketchFeaturesCopyToNewSketchLayer.emit({features:e})})),this.sketchActionsPopoverNode.addEventListener("arcgisSketchActionsBulkDelete",(()=>{this.removeActionsPopover(),this.unselectAllGraphics(),this.sketchFeaturesSVModel.delete(),this.combineMapNotesGraphics(),this.freezeGraphicsListOrder=!1,this.activeSVMCount=0})),document.body.appendChild(this.sketchActionsPopoverNode)),this.sketchActionsPopoverNode.setFocus()}removeActionsPopover(){var e,t;null===(t=null===(e=this.sketchActionsPopoverNode)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.sketchActionsPopoverNode),this.sketchActionsPopoverNode=void 0}getStringFromType(e){var t,i;const{strings:s}=this;switch(null===(t=null==e?void 0:e.geometry)||void 0===t?void 0:t.type){case"point":return"text"===(null===(i=null==e?void 0:e.symbol)||void 0===i?void 0:i.type)?s.text:s.point;case"polyline":return s.line;case"polygon":return s.polygon;default:return s.point}}handleFeatureSelectionViaHitTest(e){var t;switch(this.freezeGraphicsListOrder=!0,this.activeSVMCount=1,e.layer){case this.layer.pointLayer:this.sketchFeaturesSVModel.updatePoint([e]);break;case this.layer.textLayer:this.sketchFeaturesSVModel.updateText([e]);break;case this.layer.polylineLayer:this.sketchFeaturesSVModel.updateLine([e]);break;case this.layer.polygonLayer:this.sketchFeaturesSVModel.updatePolygon([e]);break;default:return}null===(t=this.graphics)||void 0===t||t.forEach(((t,i)=>{if(JSON.stringify(t.toJSON())===JSON.stringify(e.toJSON())){this.selectedGraphics.find((t=>JSON.stringify(t.graphic.toJSON())===JSON.stringify(e.toJSON())))||this.selectedGraphics.push({index:i,graphic:t})}})),this.addActionsPopover()}handleFeatureSelectionViaList(){this.listItemNodes=this.listItemNodes.filter((e=>(0,n.e)(e))),this.listItemNodes.forEach((e=>{const t=parseInt(e.id.split("-")[1]);if(e.selected){this.freezeGraphicsListOrder=!0;this.selectedGraphics.find((e=>e.index===t))||this.selectedGraphics.push({index:t,graphic:this.graphics[t]})}else this.selectedGraphics=this.selectedGraphics.filter((e=>e.index!==t))})),this.selectedGraphics.length?(this.addActionsPopover(),this.sketchActionsPopoverNode.selectedGraphics=this.selectedGraphics,(0,s.f)(this.sketchActionsPopoverNode)):this.removeActionsPopover();let e=[],t=[],i=[],o=[];this.selectedGraphics.forEach((s=>{switch(h(s.graphic)){case"polyline":t=[...t,s.graphic];break;case"polygon":i=[...i,s.graphic];break;case"text":o=[...o,s.graphic];break;default:e=[...e,s.graphic]}}));const c=[e,t,i,o].filter((e=>e.length));this.activeSVMCount=c.length,this.freezeGraphicsListOrder=!0,e.length?this.sketchFeaturesSVModel.updatePoint(e):this.sketchFeaturesSVModel.cancelPoint(),t.length?this.sketchFeaturesSVModel.updateLine(t):this.sketchFeaturesSVModel.cancelLine(),i.length?this.sketchFeaturesSVModel.updatePolygon(i):this.sketchFeaturesSVModel.cancelPolygon(),o.length?this.sketchFeaturesSVModel.updateText(o):this.sketchFeaturesSVModel.cancelText(),this.watchForGraphicSelectionOnClick(),this.selectedGraphics.length||(this.sketchFeaturesSVModel.cancel(),this.combineMapNotesGraphics(),this.freezeGraphicsListOrder=!1,this.activeSVMCount=0)}offsetDuplicatedFeatures(){const{drawUtils:e}=this;this.selectedGraphics.forEach((t=>e.move(t.graphic.geometry,15*this.mapView.resolution,15*this.mapView.resolution)));let t=[],i=[],s=[],o=[];this.selectedGraphics.forEach((e=>{switch(h(e.graphic)){case"polyline":i=[...i,e.graphic];break;case"polygon":s=[...s,e.graphic];break;case"text":o=[...o,e.graphic];break;default:t=[...t,e.graphic]}}));const c=[t,i,s,o].filter((e=>e.length));this.activeSVMCount=c.length,this.freezeGraphicsListOrder=!0,t.length&&this.sketchFeaturesSVModel.updatePoint(t),i.length&&this.sketchFeaturesSVModel.updateLine(i),s.length&&this.sketchFeaturesSVModel.updatePolygon(s),o.length&&this.sketchFeaturesSVModel.updateText(o)}get hostElement(){return(0,s.d)(this)}};u.style=".actions-start-padding{padding:8px}"},26408:(e,t,i)=>{i.d(t,{a:()=>h,b:()=>p,c:()=>o,d:()=>s,e:()=>a,f:()=>c,g:()=>l,h:()=>u,i:()=>g,m:()=>n,t:()=>r,u:()=>d});const s=(e,t)=>{let i,s="idle";const o=(...o)=>new Promise((c=>{switch(s){case"flushed":s="idle",i?(clearTimeout(i),c(e(...o))):c(null);break;case"invoked":clearTimeout(i),s="idle",c(e(...o));break;case"cancelled":clearTimeout(i),s="idle",c(null);break;default:i&&clearTimeout(i),s="pending",i=setTimeout((()=>(s="idle",c(e(...o)))),t)}}));return o.flush=function(...e){return s="flushed",o(...e)},o.invoke=function(...e){return s="invoked",o(...e)},o.cancel=function(...e){return s="cancelled",o(...e)},o.getStatus=function(){return s},o},o=(e,t)=>{let i;return(...s)=>new Promise((o=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,o(e(...s))}),t))}))};function c(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return null!=e}async function n(e,t){return await Promise.all([e,r(t)]),e}function r(e){return new Promise((t=>setTimeout(t,e)))}const h=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:s}=t(e);return[i,s]}))),l=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function d(e,t){const i=[],s={};return e.forEach((e=>{const o=t(e);null==s[o]&&(s[o]=e,i.push(e))})),i}function p(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let s=typeof e;return s in t?!t[s].hasOwnProperty(e)&&(t[s][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,s)=>e.slice(t*s,t+t*s))),g=(e,t)=>e.includes(t)},53076:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>h,c:()=>d,d:()=>c,e:()=>o,g:()=>n,r:()=>r,s:()=>a,u:()=>p});var s=i(26408);function o(e,t,i,s){!function(e,t,i){i=i||{};let s=null==i?void 0:i.expires;if("number"==typeof s){const e=new Date,t=24*s*60*60*1e3;e.setTime(Date.now()+t),s=i.expires=e}"string"!=typeof s&&(null==s?void 0:s.toUTCString)&&(i.expires=s.toUTCString());let o,c=`${e}=${encodeURIComponent(t)}`;for(o in i){c+=`; ${o}`;const e=i[o];!0!==e&&(c+=`=${e}`)}document.cookie=c}(e,s?JSON.stringify(t):t,i)}function c(e,t){const i=function(e){const t=document.cookie,i=new RegExp(`(?:^|; )${(0,s.f)(e)}=([^;]*)`),o=t.match(i);return o?decodeURIComponent(o[1]):void 0}(e);return i&&t?JSON.parse(i):i}function a(e,t,i){window.localStorage.setItem(e,i?JSON.stringify(t):t)}function n(e,t){const i=window.localStorage.getItem(e);return i&&t?JSON.parse(i):i}function r(e){window.localStorage.removeItem(e)}function h(e,t,i){window.sessionStorage.setItem(e,i?JSON.stringify(t):t)}function l(e,t){const i=window.sessionStorage.getItem(e);return i&&t?JSON.parse(i):i}function d(e){window.sessionStorage.removeItem(e)}function p(e,t,i){const s=new Date(t);s.setFullYear(t.getFullYear()+1),o(e,i,{expires:s}),i?a(e,"true",!1):r(e)}}}]);