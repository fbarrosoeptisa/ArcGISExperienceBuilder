"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-tool-app_dist_esm_analysis-rf-1e8f15"],{96190:(e,t,s)=>{s.r(t),s.d(t,{analysis_rfx_output:()=>p});var i=s(97123),l=s(50594);const a="outputName",r="resultType",n="saveResultIn",p=class{constructor(e){(0,i.r)(this,e),this.handleAnalysisHelpClick=async({helpId:e,heading:t,referenceElement:s})=>{const i=await(0,l.ad)(e);this.toolHelpPopover=(0,l.k)(this.toolHelpPopover,{helpSrcdoc:i,helpId:e,heading:t,referenceElement:s,learnMoreBaseUrl:this.portal?.sourceJSON?.helpBase,offsetDistance:20,offsetSkidding:0}),this.toolHelpPopover.addEventListener("analysisHelpPopoverClose",(()=>{(0,l.r)(this.toolHelpPopover)}))},this.outputParameters=void 0,this.portal=void 0,this.rfxName=void 0,this.rfxTitle=void 0}async componentWillLoad(){({strings:this.strings}=await(0,l.w)(this.hostElement,(0,i.g)("."))),!1===(0,l.i)(this.outputParameters)&&(this.outputParametersObj=JSON.parse(this.outputParameters))}async getOutputParameters(){const e=(0,l.f)(this.strings?.outputDescriptionRFT,{rfxName:this.rfxTitle})??"";return Promise.resolve({serviceProperties:{name:this.outputNameInputElement?.value,capabilities:!0===l.p.portal?.isPortal||this.resultTypeInputElement?.value===l.ae.DYNAMIC?"Image":"Image, TilesOnly"},itemProperties:{description:e,snippet:e,folderId:this.folderInputElement?.value}})}async resetRFxOutputParameters(){return this.outputNameInputElement.value="",this.resultTypeInputElement.value=l.ae.TILED,Promise.resolve()}async validateRFxOutput(){const e=[];void 0!==this.outputNameInputElement&&null!==this.outputNameInputElement&&e.push(this.outputNameInputElement.checkValidity()),void 0!==this.resultTypeInputElement&&null!==this.resultTypeInputElement&&e.push(this.resultTypeInputElement.checkValidity());return{valid:!(await Promise.all(e)).some((e=>!1===e)),errorKeys:[l.J]}}render(){const{user:e}=this.portal??{},t=e?.privileges?.includes("portal:publisher:publishTiledImagery")&&!e?.privileges?.includes("portal:publisher:publishDynamicImagery"),s=e?.privileges?.includes("portal:publisher:publishDynamicImagery")&&!e?.privileges?.includes("portal:publisher:publishTiledImagery");return(0,i.h)("analysis-block",{key:"5dc13366425e7d0e6cb476ac759f305b96e967e8",label:this.strings.resultLayer,summaryText:this.strings.summaryText},(0,i.h)("analysis-string-input",{key:"8e378d3a14e31de890425c15e69ea3fb4ad1bdbe",label:this.strings.outputName,required:!0,selectionMode:"single",placeholderText:this.strings.outputNamePlaceHolder,value:this.outputParametersObj?.serviceProperties?.name,ref:e=>{this.outputNameInputElement=e},onAnalysisHelpClick:()=>this.handleAnalysisHelpClick({helpId:a,heading:this.strings.outputName,referenceElement:this.outputNameInputElement})}),!0!==l.p.portal?.isPortal?(0,i.h)("analysis-string-input",{label:this.strings.resultType,choiceList:s?[l.ae.DYNAMIC]:t?[l.ae.TILED]:[l.ae.TILED,l.ae.DYNAMIC],choiceListIcons:s?{DYNAMIC_IMAGERY_LAYER:"image-layer"}:t?{TILED_IMAGERY_LAYER:"tiled-imagery-layer"}:{TILED_IMAGERY_LAYER:"tiled-imagery-layer",DYNAMIC_IMAGERY_LAYER:"image-layer"},choiceListLabels:s?{DYNAMIC_IMAGERY_LAYER:this.strings.dynamicLayer}:t?{TILED_IMAGERY_LAYER:this.strings.tileImagery}:{TILED_IMAGERY_LAYER:this.strings.tileImagery,DYNAMIC_IMAGERY_LAYER:this.strings.dynamicLayer},value:"Image"===this.outputParametersObj?.serviceProperties?.capabilities&&!s&&!t||s?l.ae.DYNAMIC:l.ae.TILED,ref:e=>{this.resultTypeInputElement=e},onAnalysisHelpClick:()=>this.handleAnalysisHelpClick({helpId:r,heading:this.strings.resultType,referenceElement:this.resultTypeInputElement})}):null,(0,i.h)("analysis-folder-input",{key:"6c4a2b725520090e57314bec0c322ea91fa5f51a",label:this.strings.saveFolder,user:e,value:this.outputParametersObj?.itemProperties?.folderId,ref:e=>{this.folderInputElement=e},onAnalysisHelpClick:()=>this.handleAnalysisHelpClick({helpId:n,heading:this.strings.saveFolder,referenceElement:this.folderInputElement})}))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,i.a)(this)}};s(44345),s(55448),s(18423),s(91813),s(21255),s(588),s(54312),s(34031),s(9316),s(61320),s(64016),s(56451),s(6550),s(2924),s(5258),s(52373),s(33752),s(53976),s(49403),s(77462),s(23054),s(73645),s(12762),s(82567),s(28927),s(35970),s(5933),s(57295),s(5294),s(13661),s(35431),s(32513),s(11840),s(440),s(66744),s(23795),s(17902),s(71802),s(36596),s(72349),s(89962),s(97703),s(43284)}}]);