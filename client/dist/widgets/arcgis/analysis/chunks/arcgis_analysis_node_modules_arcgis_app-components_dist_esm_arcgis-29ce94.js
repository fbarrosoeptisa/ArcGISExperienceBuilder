/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-29ce94.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-29ce94"],{99004:(e,r,n)=>{n.d(r,{c:()=>t,g:()=>i});var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},19652:(e,r,n)=>{n.r(r),n.d(r,{arcgis_member_browser_filter_user_types:()=>a});var t=n(19564),i=n(67489),o=n(1458),s=n(4948),l=n(24211),u=n(39489);n(18991),n(44508),n(57159),n(98034),n(99004),n(65174),n(21769),n(67336),n(91102),n(73807);const a=class{constructor(e){(0,t.r)(this,e),this.arcgisMemberBrowserFilter=(0,t.c)(this,"arcgisMemberBrowserFilter",7),this.loadUserTypes=async()=>{const{user:e,portal:r}=null!==s.c&&void 0!==s.c?s.c:{};if(!this.userTypes&&e&&r&&(0,l.l)(e)){let e=await(0,o.a)(r);const n=await(0,o.l)(r);e=e.filter((e=>{var r;const t=(null===(r=n.find((r=>r.key===e.id)))||void 0===r?void 0:r.count)||0;return 0!==e.maxUsers||0!==t})),this.userTypes=e.sort(((e,r)=>e.name>r.name?1:e.name<r.name?-1:0))}},this.userTypeId=void 0,this.expanded=void 0,this.userTypes=void 0}componentWillLoad(){this.store=(0,i.g)(this.el),this.i18n=this.store.state.i18n.filterUserTypes}async componentDidLoad(){this.loadUserTypes(),(0,s.o)("user",this.loadUserTypes),(0,s.o)("portal",this.loadUserTypes),(0,u.a)("userlicensetype",this.store,(()=>this.userTypeId=null))}getEventDetail(){var e;const{userTypeId:r}=this;if(!r)return{id:"userlicensetype",param:"userlicensetype",value:"",label:"",userLicenseType:""};const n=null===(e=this.userTypes)||void 0===e?void 0:e.find((e=>e.id===r));return{id:"userlicensetype",param:"userlicensetype",value:n.id,label:this.i18n.label.replace("${name}",n.name),userLicenseType:n.id}}emitEvent(){const e=this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){var e;const{user:r}=s.c,{userTypes:n}=this;return!(this.store.state.groupId&&!this.store.state.myOrgView)&&r&&(0,l.l)(r)&&(null===(e=this.userTypes)||void 0===e?void 0:e.length)&&!this.store.state.includeExternalUsers?(0,t.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.userTypeId,onArcgisBrowserFilterRemove:()=>{this.userTypeId=null},filterID:"userlicensetype"},(0,t.h)("div",{class:"tree-wrapper"},(0,t.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var r,n;const t=(null===(n=null===(r=e.target.selectedItems)||void 0===r?void 0:r[0])||void 0===n?void 0:n.dataset.userType)||"";this.userTypeId===t?this.userTypeId=null:this.userTypeId=t,this.emitEvent()}},null==n?void 0:n.map((e=>(0,t.h)("calcite-tree-item",{key:e.id,"data-user-type":e.id,selected:e.id===this.userTypeId},(0,t.h)("a",null,e.name))))))):null}get el(){return(0,t.d)(this)}};a.style=".tree-wrapper{max-height:14rem;overflow:auto}"},91102:(e,r,n)=>{n.d(r,{a:()=>u,c:()=>i,d:()=>a,g:()=>o,i:()=>s,s:()=>l});var t=n(73807);function i(e,r){return function e(n){return n?n.closest(r)||e(function(e){return e.getRootNode()}(n).host||null):null}(e)}function o(e){const r=i(e,".calcite-mode-dark, .calcite-mode-light");return(null==r?void 0:r.classList.contains("calcite-mode-dark"))?"dark":"light"}function s(e){let r=e;for(;null==r?void 0:r.parentNode;){if(r.parentNode===document)return!0;r=r.parentNode instanceof ShadowRoot?r.parentNode.host:r.parentNode}return!1}function l(e){return(new t.S).sanitize(e)}function u(e){const r=l(e),n=document.createElement("div");return n.innerHTML=r,n.textContent||n.innerText||""}function a(e){const r=document.createElement("textarea");return r.innerHTML=e,r.value}},67336:(e,r,n)=>{n.d(r,{a:()=>l,b:()=>s,c:()=>c,d:()=>d,e:()=>v,f:()=>f,g:()=>P,h:()=>h,i:()=>u,j:()=>w,k:()=>b,l:()=>y,m:()=>I,n:()=>T,o:()=>m,p:()=>g,q:()=>p,u:()=>a});var t=n(98034),i=n(44508);function o(e){var r;return!!(null===(r=e.owner)||void 0===r?void 0:r.toLowerCase().includes("esri"))}function s(e){var r;return o(e)&&!!(null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Requires Credits"))}function l(e){var r;return o(e)&&!!(null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Requires Subscription"))}function u(e,r){return e.owner===r.username}function a(e,r){return u(e,r)||function(e,r){var n;if(null!=e.isAdmin)return!!e.isAdmin;const t=e.owner,i="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!u(e,r)&&i&&t.includes("esri_")&&!o.includes(t))return!1;return i}(e,r)}const c=(e,r)=>!!r.orgId&&e.every((e=>e.isOrgItem)),d=(e,r)=>`${(0,i.a)(r)}item.html?id=${e}`,v=(e,r)=>`${(0,i.g)(r)}/content/users/${e}`,p=e=>e.reduce(((e,r)=>(e[r.owner]=e[r.owner]?[...e[r.owner],r.id]:[r.id],e)),{});function m(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Spatiotemporal")}function f(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("View Service")}function h(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Hosted Service")}function y(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Multi Services View")}function g(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function w(e){var r;const n=null==e?void 0:e.portalItem;if(!n)return Promise.resolve(null);const o=n.portal,[s]=await(0,t.l)(["esri/request"]);if(null==o?void 0:o.user){return s(`${(0,i.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(r=n.portal.credential)||void 0===r?void 0:r.token},responseType:"json"}).then((e=>{var r,n;const t=null!==(n=null===(r=e.data)||void 0===r?void 0:r.groups)&&void 0!==n?n:[];return Promise.resolve(t)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function b(e){var r;const n=null==e?void 0:e.portalItem;if(!n)return Promise.resolve(null);const o=n.portal,[s]=await(0,t.l)(["esri/request"]);return s(`${(0,i.g)(o)}content/items/${n.id}/groups`,{query:{f:"json",token:null===(r=n.portal.credential)||void 0===r?void 0:r.token},responseType:"json"}).then((e=>{var r,n,t,i,o,s;const l=[...null!==(n=null===(r=e.data)||void 0===r?void 0:r.admin)&&void 0!==n?n:[],...null!==(i=null===(t=e.data)||void 0===t?void 0:t.member)&&void 0!==i?i:[],...null!==(s=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==s?s:[]];return Promise.resolve(l)}),(()=>Promise.reject()))}async function T(e,r,{relationshipType:n,direction:o}){const s=`${(0,i.g)(r)}content/items/${e}/relatedItems`,[l]=await(0,t.l)(["esri/request"]);return await l(s,{query:{f:"json",relationshipType:n,direction:o},method:"get",responseType:"json"})}function I(e,r){return null==e?void 0:e.some((e=>null==r?void 0:r.some((r=>e.id===r.id&&e.capabilities.includes("updateitemcontrol")))))}const P=(e,r)=>`${(0,i.a)(r)}content/items/${e}`},98034:(e,r,n)=>{n.d(r,{e:()=>o,l:()=>s});var t,i=n(99004),o={exports:{}};t=o.exports,i.c,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",t="next";function i(e){if(e.toLowerCase()===t)return t;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function o(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=n);var r=o(e),s=i(e);if(s!==t&&3===s.major){var l=s.minor<=10?"js/":"";return"".concat(r).concat(l,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}function l(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}function u(e,r){if(r){var n=document.querySelector(r);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function a(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function c(e){return!e||i(e)?s(e):e}function d(e,r){var n=c(e),t=a(n);return t||u(t=l(n),r),t}var v={};function p(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}function m(e,r,n){var t;n&&(t=f(e,n));var i=function(){r(e),e.removeEventListener("load",i,!1),t&&e.removeEventListener("error",t,!1)};e.addEventListener("load",i,!1)}function f(e,r){var n=function(t){r(t.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function h(e){void 0===e&&(e={}),v=e}function y(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function w(e){void 0===e&&(e={});var n={};[v,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}));var t=n.version,i=n.url||o(t);return new r.Promise((function(e,r){var o=y();if(o){var s=o.getAttribute("src");s!==i?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):g()?e(o):m(o,e,r)}else if(g())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=n.css;l&&d(!0===l?t:l,n.insertCssBefore),m(o=p(i),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),r),document.body.appendChild(o)}}))}function b(e){return new r.Promise((function(r,n){var t=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.remove(),r(e)}))}))}function T(e,r){if(void 0===r&&(r={}),g())return b(e);var n=y(),t=n&&n.getAttribute("src");return!r.url&&t&&(r.url=t),w(r).then((function(){return b(e)}))}e.utils=r,e.loadModules=T,e.getScript=y,e.isLoaded=g,e.loadScript=w,e.setDefaultOptions=h,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(t);const s=async(e,r)=>(await o.exports.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))},24211:(e,r,n)=>{n.d(r,{A:()=>E,a:()=>l,b:()=>o,c:()=>s,d:()=>h,e:()=>f,f:()=>v,g:()=>y,h:()=>w,i:()=>a,j:()=>g,k:()=>C,l:()=>u,m:()=>b,n:()=>d,o:()=>A,p:()=>k,q:()=>I,r:()=>P,s:()=>L,t:()=>S,u:()=>p,v:()=>m,w:()=>_,x:()=>$,y:()=>x,z:()=>c});var t=n(67336);const i=e=>{var r,n,t;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(r=null==e?void 0:e.roleId)&&void 0!==r?r:null==e?void 0:e.id)&&void 0!==n?n:null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.id};function o(e){return e&&!e.orgId}function s(e,r){return(0,t.u)(e,r)||"update"===e.itemControl||(0,t.c)([e],r)&&f(r)}function l(e,r){const n=(0,t.c)([e],r),i=(0,t.u)(e,r)||f(r)&&n,o=y(r)&&T(r);return!!(i||n&&o)}const u=e=>{var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:manageLicenses"))};function a(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const v=e=>{var r;return null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.includes("Developer")},p=e=>{var r;return null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.includes("PublicSharingDisabled")},m=e=>{var r;return null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.includes("HostedServicesPublicSharingDisabled")};function f(e){return"org_admin"===i(e)||"account_admin"===i(e)}function h(e){return["org_admin","account_admin"].includes(i(e))&&!(null==e?void 0:e.roleId)}function y(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function g(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateItemCategorySchema"))}function w(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateGroups"))}function b(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:assignToGroups"))}const T=e=>{var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:deleteItems"))};function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function $(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function L(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function C(e,r,n,t){const i=t&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(t.type),o=((null==r?void 0:r.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!r||!f(r)&&!o||!(null==n?void 0:n.isPortal)&&!i)}function E(e){return!!e&&(!y(e)||y(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const x=({items:e,user:r,portal:n})=>{const i=e[0],o=i.owner;if(n.isPortal&&o!==r.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=(0,t.u)(i,r),u=y(r),a=M(r),c=s(i,r)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(r)&&!u&&(function(e,r){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(r)||I(e)||P(e)||!!r.canSharePublic&&_(e)}(r,n)||M(r));return l||c||(0,t.c)(e,r)&&a};function M(e){return L(e)||S(e)||$(e)}const j=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function k(e){return e.some((e=>j.includes(e)))}function A(e){return e.filter((e=>j.includes(e)))}},21769:(e,r,n)=>{n.d(r,{f:()=>i});var t=n(57159);async function i(e,r,n="results",i=!1){let o,s,l,u,a=1,c=[];r.start=a,r.num||(r.num=100);try{const d=await(0,t.r)(e,r);if(!(null==d?void 0:d[n]))return c;for(c=[...c,...d[n]],a=d.nextStart,o=d.total-c.length,s=Math.ceil(o/r.num),l=[],u=0;u<s;u++)if(r.start=a+u*r.num,i){const i=await(0,t.r)(e,r);(null==i?void 0:i[n])&&(c=[...c,...i[n]])}else l.push((0,t.r)(e,r));if(!i){(await Promise.all(l)).forEach((e=>{c=[...c,...e[n]]}))}return c}catch(e){return c}}},1458:(e,r,n)=>{n.d(r,{a:()=>l,b:()=>u,c:()=>p,d:()=>m,e:()=>f,f:()=>a,g:()=>y,h:()=>h,i:()=>c,j:()=>d,k:()=>v,l:()=>s});var t=n(44508),i=n(57159),o=n(21769);async function s(e){const r=(0,t.c)(e);try{return(await(0,i.r)(`${r}portals/self/users/counts`,{type:"userLicenseType"})).results}catch(e){return[]}}async function l(e){const r=(0,t.c)(e);return await(0,o.f)(`${r}portals/self/userLicenseTypes`,{num:10},"userLicenseTypes")}async function u(e){const r=(0,t.c)(e),n=await(0,o.f)(`${r}portals/self/roles`,{returnPrivileges:!0},"roles");return n.sort(((e,r)=>{const n=e.name.toLowerCase(),t=r.name.toLowerCase();return n>t?1:n<t?-1:0})),n}async function a(e,r){const n=(0,t.c)(e);let s;try{s=(await(0,i.r)(`${n}community/groups/${r}/userlist`,{num:0})).owner}catch(e){}return{admins:await(0,o.f)(`${n}community/groups/${r}/userlist`,{memberType:"admin"},"users"),owner:null==s?void 0:s.username}}async function c(e,r){const n=(0,t.c)(e),o=await(0,i.r)(`${n}community/users/${r}`),s=(null==o?void 0:o.groups)||[];return s.sort(((e,r)=>{const n="owner"===e.userMembership.memberType?1:-1,t="owner"===r.userMembership.memberType?1:-1,i=e.title.toLowerCase(),o=r.title.toLowerCase();return n!==t?t-n:i>o?1:i<o?-1:0})),s}async function d(e,r){const n=(0,t.c)(e);try{return await(0,i.r)(`${n}community/groups`,r)}catch(e){return}}async function v(e,r){const n=(0,t.c)(e);return await(0,o.f)(`${n}community/groups`,r)}async function p(e){const r=(0,t.c)(e);try{return(await(0,i.r)(`${r}portals/self/trustedOrgs`,{num:100})).trustedOrgs.filter((e=>e.from.established>-1&&e.to.established>-1)).sort(((e,r)=>e.to.name>r.to.name?1:e.to.name<r.to.name?-1:0))}catch(e){return[]}}async function m(e){const r=(0,t.c)(e);return await(0,o.f)(`${r}portals/self/contacts`,{type:"collaboration",collaborators:!0},"users")}async function f(e,r){var n,o;const s=(0,t.c)(e);try{return(null===(o=null===(n=(await(0,i.r)(`${s}community/users`,{searchUserAccess:"groupMember",groups:r,countFields:"accountid",num:0,countSize:200})).aggregations.counts)||void 0===n?void 0:n[0])||void 0===o?void 0:o.fieldValues)||[]}catch(e){return[]}}async function h(e){var r,n,o;const s=(0,t.c)(e);try{const[e,t,l,u]=await Promise.all([(0,i.r)(`${s}portals/self/idp`),(0,i.r)(`${s}portals/self/idp/federation`),(0,i.r)(`${s}portals/self/oidc`),(0,i.r)(`${s}portals/self/socialProviders`)]);return{hasSAML:Boolean((null==e?void 0:e.id)?e:(null==t?void 0:t.id)?t:null),socialProviders:null===(r=null==u?void 0:u.config)||void 0===r?void 0:r.providers,oidcId:null===(o=null===(n=null==l?void 0:l.oidcProviders)||void 0===n?void 0:n[0])||void 0===o?void 0:o.id}}catch(e){return{hasSAML:!1}}}async function y(e){const r=(0,t.c)(e);try{const e=await(0,i.r)(`${r}portals/self/purchases`),n=g(e.purchases),t=g(e.trials),o=[...n,...t];return o.sort(((e,r)=>{const n=e.title.toLowerCase(),t=r.title.toLowerCase();return n>t?1:n<t?-1:0})),o}catch(e){return[]}}function g(e){const r=[];return e.forEach((({listing:e,provision:n})=>{var t;(null==e?void 0:e.type.includes("Application"))&&(null===(t=null==n?void 0:n.orgEntitlements)||void 0===t?void 0:t.entitlements)&&r.push({id:e.itemId,title:e.title})})),r}},67489:(e,r,n)=>{n.d(r,{g:()=>o,o:()=>s});var t=n(18991),i=n(39489);function o(e){return(0,i.g)(e,"arcgis-member-browser")}(0,t.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,r)=>{e.onChange("sort",(e=>{r(e)}))}},39489:(e,r,n)=>{n.d(r,{a:()=>o,b:()=>l,g:()=>a,i:()=>i,o:()=>s});var t=n(91102);const i=e=>"item-browser"===e.state.type,o=(e,r,n)=>{r.onChange("filters",(r=>{r[e]&&r[e].value||n()}))},s=(e,r)=>{e.onChange("preview",(e=>{r()}))},l=(e,r)=>{e.onChange("groupId",(e=>{r()}))},u=new Map;function a(e,r){const n=u.get(e);if(n)return n;const i=(0,t.c)(e,r);return i?(u.set(e,i.store),i.store):null}}}]);