/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-a3ecf3.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-a3ecf3"],{86632:(t,e,s)=>{s.r(e),s.d(e,{arcgis_smart_mapping_background_symbol:()=>r,arcgis_smart_mapping_rotation:()=>c});var a=s(28614),i=s(48122),l=(s(68180),s(99592)),o=s(33101),n=s(97127);s(71480);const r=class{constructor(t){(0,a.r)(this,t),this.arcgisSmartMappingBackgroundSymbolChange=(0,a.c)(this,"arcgisSmartMappingBackgroundSymbolChange",7),this.manager=(0,n.u)(this),this.lastSettings={},this.smartMappingState=(0,o.u)()}componentWillLoad(){this.popoverReferenceElement=(0,i.f)(this.el,"calcite-flow-item")||(0,i.f)(this.el,"calcite-panel")}render(){const{smartMappingState:t}=this,{strings:e}=t;if(!(0,l.z)(t))return(0,a.h)(a.F,null);const s=(0,l.j)(t),i="dot-density"===(0,l.a)(t)?s.backgroundColor||s.outline:s.backgroundFillSymbol;return(0,a.h)("calcite-block-section",{text:e.backgroundSymbol.showBackgroundSymbol,open:!!i,"toggle-display":"switch",onCalciteBlockSectionToggle:t=>this.handleBackgroundSymbolToggle(t)},this.renderBackgroundSymbolContent())}renderBackgroundSymbolContent(){const{smartMappingState:t}=this,{strings:e}=t,s=(0,l.j)(t),o="dot-density"===(0,l.a)(t),n=(0,l.G)(s,"reference-size");let r;return o?(s.outline||s.backgroundColor)&&(r=(0,l.m)(t),r.outline=s.outline,(0,l.X)(t,r,s.backgroundColor)):n?(r=(0,l.m)(t),(0,l.X)(t,r,s.backgroundFillSymbol?.color)):r=s.backgroundFillSymbol,r?(this.popoverReferenceElement=this.popoverReferenceElement||(0,i.f)(this.el,"calcite-flow-item")||(0,i.f)(this.el,"calcite-panel"),(0,a.h)("div",{class:"background-symbol-content"},(0,a.h)("arcgis-smart-mapping-symbol-button",{type:o?"dot-density-background":"background",label:e.backgroundSymbol.backgroundStyle,symbol:r,onArcgisSmartMappingSymbolButtonSymbolChange:()=>{(0,a.f)(this.el),this.arcgisSmartMappingBackgroundSymbolChange.emit()},popoverReferenceElement:this.popoverReferenceElement}))):(0,a.h)(a.F,null)}handleBackgroundSymbolToggle(t){const{smartMappingState:e}=this,{modules:s}=e,i=t.currentTarget,o=(0,l.j)(e);if("dot-density"===(0,l.a)(e))i.open?(this.lastSettings.backgroundColor||this.lastSettings.outline?(o.backgroundColor=this.lastSettings.backgroundColor,o.outline=this.lastSettings.outline):(o.backgroundColor=new s.EsriColor({r:64,g:64,b:64,a:1}),o.outline=new s.SimpleLineSymbol),this.lastSettings.outlineVisVar&&(o.visualVariables=o.visualVariables||[],o.visualVariables.push(this.lastSettings.outlineVisVar)),this.lastSettings.backgroundColor=void 0,this.lastSettings.outline=void 0,this.lastSettings.outlineVisVar=void 0):(this.lastSettings.backgroundColor=o.backgroundColor,this.lastSettings.outline=o.outline,this.lastSettings.outlineVisVar=(0,l.b)(o,"size","outline"),o.backgroundColor=new s.EsriColor({r:0,g:0,b:0,a:0}),o.outline=void 0,o.visualVariables=(0,l.V)(o,"size","outline"),(0,l.B)());else if(i.open){if(this.lastSettings.backgroundFillSymbol)o.backgroundFillSymbol=this.lastSettings.backgroundFillSymbol;else{const t=(0,l.m)(e);t.color=null,o.backgroundFillSymbol=t}this.lastSettings.backgroundFillSymbol=void 0}else this.lastSettings.backgroundFillSymbol=o.backgroundFillSymbol,o.backgroundFillSymbol=void 0,(0,l.B)();(0,l.u)(e),(0,a.f)(this.el)}get el(){return(0,a.g)(this)}};r.style=".background-symbol-content{padding-top:6px;border-bottom:1px solid #e0e0e0}";const c=class{constructor(t){(0,a.r)(this,t),this.arcgisSmartMappingRotationError=(0,a.c)(this,"arcgisSmartMappingRotationError",7),this.manager=(0,n.u)(this),this.smartMappingState=(0,o.u)(),this.open=!1,this.isLoading=!1}componentWillLoad(){const t=(0,l.b)((0,l.j)(this.smartMappingState),"rotation");this.isBlockOpen=this.open||!!t,this.flowItemNode=(0,i.f)(this.el,"calcite-flow-item")}render(){const{smartMappingState:t}=this,{layer:e,mapImageSublayer:s,strings:i,supportsArcade:o}=t,n="geo-rss"===e.type;return s&&!o||(0,l.x)(t)||(0,l.z)(t)&&"size"!==(0,l.a)(t)||!(0,l.aj)(t)||n?(0,a.h)(a.F,null):(0,a.h)(a.H,null,(0,a.h)("calcite-block",{class:"rotation-block",heading:i.rotation.rotationByAttribute,collapsible:!0,open:this.isBlockOpen,loading:this.isLoading,ref:t=>this.blockNode=t,onCalciteBlockOpen:()=>{this.isBlockOpen=!0,(0,l.aN)(this.blockNode)},onCalciteBlockClose:()=>this.isBlockOpen=!1},(0,a.h)("div",null,this.renderRotationToggle())))}renderLoading(){const{strings:t}=this.smartMappingState;return(0,a.h)("div",{class:"block-content-loading"},(0,a.h)("calcite-loader",{label:t.loading}))}renderRotationToggle(){const{smartMappingState:t}=this,{strings:e}=t,s=(0,l.b)((0,l.j)(t),"rotation");return(0,a.h)("calcite-block-section",{text:e.rotation.rotationLabel,class:"toggle-button",toggleDisplay:"switch",open:!!s,onCalciteBlockSectionToggle:()=>this.handleToggle()},(0,a.h)("div",{class:"block-section-padding"},this.isLoading?this.renderLoading():s?this.renderRotationContent():this.renderLoading()))}renderRotationContent(){return(0,a.h)("div",null,this.renderRotationAttribute(),this.renderRotationType())}renderRotationAttribute(){const{smartMappingState:t}=this,{fields:e,strings:s}=t,i=(0,l.b)((0,l.j)(t),"rotation"),o={field:i.field,expression:i.valueExpression,expressionTitle:i.valueExpressionTitle,simpleFieldType:l.q.NUMBER};return(0,a.h)("arcgis-smart-mapping-attribute-input",{fieldList:e.filter((t=>t.simpleFieldType===l.q.NUMBER)),selectedField:o,label:s.rotation.field,mode:"expression",popoverReferenceElement:this.flowItemNode,onArcgisSmartMappingAttributeInputChange:t=>{if(t.detail){const e=t.detail;this.setRotationVisualVariable(e)}},onArcgisSmartMappingAttributeInputError:t=>this.arcgisSmartMappingRotationError.emit(t.detail)})}renderRotationType(){const{smartMappingState:t}=this,{strings:e}=t;let s=!1;e.rotation.rotateZeroDegrees.startsWith("\xb0")&&(s=!0);const i=(0,l.j)(t),o=(0,l.b)(i,"rotation");return(0,a.h)("div",{class:"rotation-type block-content-padding"},(0,a.h)("calcite-radio-button-group",{class:"rotation-type-selection",name:"rotationType",onCalciteRadioButtonGroupChange:t=>this.handleTypeChange(t.target.selectedItem.value)},(0,a.h)("calcite-label",{layout:"inline"},(0,a.h)("calcite-radio-button",{checked:"geographic"===o.rotationType,value:"geographic"}),e.rotation.geographic),(0,a.h)("calcite-label",{layout:"inline"},(0,a.h)("calcite-radio-button",{checked:"arithmetic"===o.rotationType,value:"arithmetic"}),e.rotation.arithmetic)),(0,a.h)("div",{class:"rotation-type-display","aria-hidden":"true"},"arithmetic"===o.rotationType?s?this.renderRotationSVG_Ari_leading():this.renderRotationSVG_Ari():s?this.renderRotationSVG_Geo_leading():this.renderRotationSVG_Geo(),(0,a.h)("div",{class:"rotation-type-symbol",ref:t=>{t&&this.createSymbol(t)}})))}renderRotationSVG_Geo(){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,a.h)("defs",null,(0,a.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,a.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,a.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,a.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,a.h)("path",{class:"cls-4",d:"M35.8,16.46A30.51,30.51,0,0,1,60.39,40.4"}),(0,a.h)("polygon",{class:"cls-5",points:"57.06 38.77 57.46 38.2 60.31 40.15 62.05 37.16 62.65 37.51 60.53 41.15 57.06 38.77"}),(0,a.h)("path",{class:"cls-6",d:"M29.12,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,7.77,7.77,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19A2.34,2.34,0,0,1,28,4.56,1.85,1.85,0,0,1,29.12,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,27.52,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.15,1.15,0,0,0,.78.28,1.12,1.12,0,0,0,.77-.28,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,30.72,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.08,1.08,0,0,0,29.12,4.85Z"}),(0,a.h)("path",{class:"cls-6",d:"M35.52,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0A1.38,1.38,0,0,1,33,6.86a1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18A1.21,1.21,0,0,1,33,4.72a1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,35.52,5.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22A1,1,0,0,0,34,6.8a1,1,0,0,0,.4-.08.87.87,0,0,0,.32-.22A1,1,0,0,0,35,6.19,1.09,1.09,0,0,0,35,5.79Z"}),(0,a.h)("path",{class:"cls-6",d:"M66.94,46.41l0,0a1.33,1.33,0,0,1-.46.19,2.2,2.2,0,0,1-.56.07,2.18,2.18,0,0,1-.85-.16,2.12,2.12,0,0,1-.68-.45,1.9,1.9,0,0,1-.46-.68,2.38,2.38,0,0,1-.16-.89,2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.45,2.45,0,0,1,.73-.46,2.7,2.7,0,0,1,1.83,0,2.33,2.33,0,0,1,.73.46,1.9,1.9,0,0,1,.48.7,2.27,2.27,0,0,1,.18.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L65.77,49.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.92,1.92,0,0,0-.5-.34,1.79,1.79,0,0,0-1.29,0,1.77,1.77,0,0,0-.5.34,1.82,1.82,0,0,0-.32.52,1.77,1.77,0,0,0,0,1.28,1.49,1.49,0,0,0,.31.51,1.45,1.45,0,0,0,.5.33,1.75,1.75,0,0,0,.65.12A1.73,1.73,0,0,0,66.7,46a1.45,1.45,0,0,0,.5-.33,1.69,1.69,0,0,0,.32-.51A1.91,1.91,0,0,0,67.63,44.47Z"}),(0,a.h)("path",{class:"cls-6",d:"M71.82,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86A4.16,4.16,0,0,1,74,44.61a8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,8.46,8.46,0,0,1,0-2.72A4.16,4.16,0,0,1,70,43.42a2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,71.82,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,4.31,4.31,0,0,0-.26,1A10.3,10.3,0,0,0,70.22,46a10.11,10.11,0,0,0,.07,1.08,4,4,0,0,0,.26,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,73.42,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,71.82,42.85Z"}),(0,a.h)("path",{class:"cls-6",d:"M78.21,43.79a1.44,1.44,0,0,1-.11.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.64,1.64,0,0,1,0-1.18,1.47,1.47,0,0,1,.31-.48,1.52,1.52,0,0,1,.48-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.44,1.44,0,0,1,78.21,43.79Zm-.48,0a.92.92,0,0,0-.08-.4,1,1,0,0,0-.21-.31.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1,1,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,77.73,43.79Z"}))}renderRotationSVG_Ari(){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,a.h)("defs",null,(0,a.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,a.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,a.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,a.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,a.h)("path",{class:"cls-4",d:"M36.54,16.6a30.55,30.55,0,0,1,24,24.55"}),(0,a.h)("polygon",{class:"cls-5",points:"38.19 19.92 38.76 19.52 36.8 16.69 39.77 14.94 39.42 14.33 35.8 16.46 38.19 19.92"}),(0,a.h)("path",{class:"cls-6",d:"M27.14,8.41l0,0a1.35,1.35,0,0,1-.45.19,2.28,2.28,0,0,1-.57.07,2.18,2.18,0,0,1-.85-.16A2.12,2.12,0,0,1,24.57,8a1.94,1.94,0,0,1-.46-.69A2.3,2.3,0,0,1,24,6.47a2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.32,2.32,0,0,1,1.65-.62,2.51,2.51,0,0,1,.92.16,2.59,2.59,0,0,1,.73.46,2.18,2.18,0,0,1,.48.7,2.46,2.46,0,0,1,.17.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L26,11.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.56,1.56,0,0,0-.5-.33A1.67,1.67,0,0,0,25.6,5a1.67,1.67,0,0,0-.5.33,1.82,1.82,0,0,0-.32.52,1.69,1.69,0,0,0-.11.64,1.61,1.61,0,0,0,.11.63,1.35,1.35,0,0,0,.81.85,1.76,1.76,0,0,0,.66.12A1.71,1.71,0,0,0,26.9,8a1.45,1.45,0,0,0,.5-.33,1.62,1.62,0,0,0,.32-.52A1.81,1.81,0,0,0,27.83,6.47Z"}),(0,a.h)("path",{class:"cls-6",d:"M32,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19A7.72,7.72,0,0,1,34.33,8a7.72,7.72,0,0,1-.11,1.36,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,32,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,30.42,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,1.92,1.92,0,0,0,.49.73,1.18,1.18,0,0,0,1.55,0,1.92,1.92,0,0,0,.49-.73,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,33.62,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,32,4.85Z"}),(0,a.h)("path",{class:"cls-6",d:"M38.42,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.63,1.63,0,0,1-.11-.59,1.73,1.73,0,0,1,.11-.6,1.38,1.38,0,0,1,.79-.78,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,38.42,5.79Zm-.49,0a.85.85,0,0,0-.08-.39.89.89,0,0,0-.21-.32.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22A1.07,1.07,0,0,0,36,5.4a1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,37.93,5.79Z"}),(0,a.h)("path",{class:"cls-6",d:"M67,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,67,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,65.42,46a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,68.62,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,67,42.85Z"}),(0,a.h)("path",{class:"cls-6",d:"M73.42,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.63,1.63,0,0,1-.11-.59,1.73,1.73,0,0,1,.11-.6,1.38,1.38,0,0,1,.79-.78,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,73.42,43.79Zm-.49,0a.85.85,0,0,0-.08-.39.89.89,0,0,0-.21-.32.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.07,1.07,0,0,0-.22.32,1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,72.93,43.79Z"}))}renderRotationSVG_Geo_leading(){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,a.h)("defs",null,(0,a.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,a.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,a.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,a.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,a.h)("path",{class:"cls-4",d:"M35.8,16.46A30.51,30.51,0,0,1,60.39,40.4"}),(0,a.h)("polygon",{class:"cls-5",points:"57.06 38.77 57.46 38.2 60.31 40.15 62.05 37.16 62.65 37.51 60.53 41.15 57.06 38.77"}),(0,a.h)("path",{class:"cls-6",d:"M28.72,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18,1.21,1.21,0,0,1,.31-.48,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,28.72,5.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,28.23,5.79Z"}),(0,a.h)("path",{class:"cls-6",d:"M32.12,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,7.77,7.77,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19A2.34,2.34,0,0,1,31,4.56,1.85,1.85,0,0,1,32.12,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,30.52,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.15,1.15,0,0,0,.78.28,1.12,1.12,0,0,0,.77-.28,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,33.72,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.08,1.08,0,0,0,32.12,4.85Z"}),(0,a.h)("path",{class:"cls-6",d:"M66.62,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18,1.21,1.21,0,0,1,.31-.48,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,66.62,43.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,66.13,43.79Z"}),(0,a.h)("path",{class:"cls-6",d:"M70.94,46.41l0,0a1.33,1.33,0,0,1-.46.19,2.2,2.2,0,0,1-.56.07,2.18,2.18,0,0,1-.85-.16,2.12,2.12,0,0,1-.68-.45,1.9,1.9,0,0,1-.46-.68,2.38,2.38,0,0,1-.16-.89,2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.45,2.45,0,0,1,.73-.46,2.7,2.7,0,0,1,1.83,0,2.33,2.33,0,0,1,.73.46,1.9,1.9,0,0,1,.48.7,2.27,2.27,0,0,1,.18.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L69.77,49.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.92,1.92,0,0,0-.5-.34,1.79,1.79,0,0,0-1.29,0,1.77,1.77,0,0,0-.5.34,1.82,1.82,0,0,0-.32.52,1.77,1.77,0,0,0,0,1.28,1.49,1.49,0,0,0,.31.51,1.45,1.45,0,0,0,.5.33,1.75,1.75,0,0,0,.65.12A1.73,1.73,0,0,0,70.7,46a1.45,1.45,0,0,0,.5-.33,1.69,1.69,0,0,0,.32-.51A1.91,1.91,0,0,0,71.63,44.47Z"}),(0,a.h)("path",{class:"cls-6",d:"M75.82,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86A4.16,4.16,0,0,1,78,44.61a8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,8.46,8.46,0,0,1,0-2.72A4.16,4.16,0,0,1,74,43.42a2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,75.82,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,4.31,4.31,0,0,0-.26,1A10.3,10.3,0,0,0,74.22,46a10.11,10.11,0,0,0,.07,1.08,4,4,0,0,0,.26,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,77.42,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,75.82,42.85Z"}))}renderRotationSVG_Ari_leading(){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,a.h)("defs",null,(0,a.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,a.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,a.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,a.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,a.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,a.h)("path",{class:"cls-4",d:"M36.54,16.6a30.55,30.55,0,0,1,24,24.55"}),(0,a.h)("polygon",{class:"cls-5",points:"38.19 19.92 38.76 19.52 36.8 16.69 39.77 14.94 39.42 14.33 35.8 16.46 38.19 19.92"}),(0,a.h)("path",{class:"cls-6",d:"M24.82,5.79a1.63,1.63,0,0,1-.11.59,1.47,1.47,0,0,1-.31.48,1.52,1.52,0,0,1-.48.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31A1.21,1.21,0,0,1,22,6.38a1.45,1.45,0,0,1-.12-.59,1.53,1.53,0,0,1,.12-.6,1.25,1.25,0,0,1,.31-.47,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.79.78A1.73,1.73,0,0,1,24.82,5.79Zm-.49,0a1,1,0,0,0-.07-.39A1.07,1.07,0,0,0,24,5.08a.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1.06,1.06,0,0,0-.4.08.87.87,0,0,0-.32.22.89.89,0,0,0-.21.32.85.85,0,0,0-.08.39.92.92,0,0,0,.08.4.85.85,0,0,0,.21.31.87.87,0,0,0,.32.22,1.06,1.06,0,0,0,.4.08,1,1,0,0,0,.39-.08A.87.87,0,0,0,24,6.5a1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,24.33,5.79Z"}),(0,a.h)("path",{class:"cls-6",d:"M29.14,8.41l0,0a1.35,1.35,0,0,1-.45.19,2.28,2.28,0,0,1-.57.07,2.18,2.18,0,0,1-.85-.16A2.12,2.12,0,0,1,26.57,8a1.94,1.94,0,0,1-.46-.69A2.3,2.3,0,0,1,26,6.47a2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.32,2.32,0,0,1,1.65-.62,2.51,2.51,0,0,1,.92.16,2.59,2.59,0,0,1,.73.46,2.18,2.18,0,0,1,.48.7,2.46,2.46,0,0,1,.17.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L28,11.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.56,1.56,0,0,0-.5-.33A1.67,1.67,0,0,0,27.6,5a1.67,1.67,0,0,0-.5.33,1.82,1.82,0,0,0-.32.52,1.69,1.69,0,0,0-.11.64,1.61,1.61,0,0,0,.11.63,1.35,1.35,0,0,0,.81.85,1.76,1.76,0,0,0,.66.12A1.71,1.71,0,0,0,28.9,8a1.45,1.45,0,0,0,.5-.33,1.62,1.62,0,0,0,.32-.52A1.81,1.81,0,0,0,29.83,6.47Z"}),(0,a.h)("path",{class:"cls-6",d:"M34,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19A7.72,7.72,0,0,1,36.33,8a7.72,7.72,0,0,1-.11,1.36,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,34,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,32.42,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,1.92,1.92,0,0,0,.49.73,1.18,1.18,0,0,0,1.55,0,1.92,1.92,0,0,0,.49-.73,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,35.62,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,34,4.85Z"}),(0,a.h)("path",{class:"cls-6",d:"M67.62,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.45,1.45,0,0,1-.12-.59,1.53,1.53,0,0,1,.12-.6,1.25,1.25,0,0,1,.31-.47,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,67.62,43.79Zm-.49,0a1,1,0,0,0-.07-.39,1.07,1.07,0,0,0-.22-.32.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.07,1.07,0,0,0-.22.32,1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,67.13,43.79Z"}),(0,a.h)("path",{class:"cls-6",d:"M71,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,71,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,69.42,46a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,72.62,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,71,42.85Z"}))}createSymbol(t){const{smartMappingState:e}=this;if(!t)return;const{modules:s}=e,a=(0,l.j)(e);let i=a.symbol||a.classBreakInfos?.length&&a.classBreakInfos[0].symbol||a.uniqueValueInfos?.length&&a.uniqueValueInfos[0].symbol||(0,l.m)(e);for(i=i.clone(),(0,l.X)(e,i,new s.EsriColor({r:170,g:170,b:170,a:1}));t.childNodes?.length;)t.removeChild(t.childNodes[0]);i&&s.symbolUtils.renderPreviewHTML(i,{size:20}).then((e=>t.appendChild(e)))}handleToggle(){const{smartMappingState:t}=this,{modules:e}=t,s=(0,l.j)(t);(0,l.B)();const i=(0,l.b)(s,"rotation");if(i)this.lastSettings={rotationVisVar:i},s.visualVariables=(0,l.V)(s,"rotation")||[],(0,l.u)(t);else if(this.lastSettings?.rotationVisVar)s.visualVariables=(0,l.V)(s,"rotation")||[],s.visualVariables.push(this.lastSettings.rotationVisVar),(0,l.u)(t),(0,l.aN)(this.blockNode);else{const a=(0,l.aO)(t),i=a?a.layerField.name:"",o=new e.RotationVariable({field:i,rotationType:"geographic"});s.visualVariables=(0,l.V)(s,"rotation")||[],s.visualVariables.push(o),(0,l.u)(t),(0,l.aN)(this.blockNode)}(0,a.f)(this.el)}handleTypeChange(t){const{smartMappingState:e}=this,s=(0,l.j)(e),i=(0,l.b)(s,"rotation");t!==i.rotationType&&(i.rotationType=t,(0,l.u)(e),(0,a.f)(this.el))}setRotationVisualVariable(t){this.isLoading=!0;const{smartMappingState:e}=this,{modules:s}=e,a=(0,l.j)(e),i=(0,l.b)(a,"rotation").rotationType;try{let o;o=t.expression?new s.RotationVariable({valueExpression:t.expression,valueExpressionTitle:t.expressionTitle,rotationType:i}):new s.RotationVariable({field:t.field,rotationType:i}),a.visualVariables=(0,l.V)(a,"rotation")||[],a.visualVariables.push(o),(0,l.u)(e),(0,l.aN)(this.blockNode),this.isLoading=!1}catch(t){console.log(t)}}get el(){return(0,a.g)(this)}};c.style=".toggle-button {\n  margin-top: 2px;\n}\n\n.block-section-padding {\n  padding-top: 6px;\n}\n\n.block-content-padding {\n  margin: 6px 0;\n}\n\n.block-content-loading {\n  height: 150px;\n}\n\n.rotation-block {\n  overflow: hidden;\n}\n\n.rotation-type {\n  margin-top: 5px;\n}\n.rotation-type-selection {\n  margin-top: 15px;\n}\n.rotation-type-display {\n  margin: 10px 20px 0 20px;\n  position: relative;\n  svg {\n    height: 120px;\n  }\n}\n.rotation-type-symbol {\n  position: absolute;\n  top: 56px;\n  left: 33px;\n}\n\n:dir(rtl) {\n  .rotation-type-symbol {\n    left: auto;\n    right: 61px;\n  }\n}\n"},33101:(t,e,s)=>{s.d(e,{c:()=>l,u:()=>o});var a=s(97127),i=(s(68180),s(99592));function l(t){t.selectedFields=[],t.layerFields=void 0,t.fields=void 0,t.hideLayerTitle=!1,t.supportsArcade=!1,t.stringFieldsCount=-1,t.dateFieldsCount=-1,t.numberFieldsCount=-1,t.containsFlow=!0,t.oneFeatureResponseStatus=i.s.MISSING,t.selectedAttribute=void 0,t.selectedAttributeText=void 0,t.selectedTypeValue=void 0,t.selectedValue=void 0,t.lastDefault=void 0,t.lastDefaults=void 0,t.dotColorSelected=void 0,t.backgroundStyleSelected=void 0,t.lastSettings=void 0,t.classedSymbolSelectedIdx=void 0,t.allUniqueValues=void 0,t.useFeatureReduction=void 0,t.hideSvgUploadSymbols=!1,t.hideAddStyles=!1,t.rasterInfo=void 0}function o(){const t=(0,a.r)(),e=t;t.manager.onLoad((()=>{e.smartMappingState=function(t,e){const s=n.get(t);if(s)return s;const i=(0,a.c)(t,e);if(i&&"store"in i)return n.set(t,i.store),i.store;return null}(t.el,"arcgis-smart-mapping").state}))}const n=new WeakMap}}]);