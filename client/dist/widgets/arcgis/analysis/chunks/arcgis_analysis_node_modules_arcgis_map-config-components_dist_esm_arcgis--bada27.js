/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--bada27.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--bada27"],{32669:(e,t,s)=>{s.r(t),s.d(t,{arcgis_app_print_browse_templates:()=>d});var i=s(28614),a=s(90028),r=s(89826),o=s(43666),c=s(97127);const d=class{constructor(e){(0,i.r)(this,e),this.arcgisClose=(0,i.c)(this,"arcgisClose",7),this.arcgisItemBrowserCardPreview=(0,i.c)(this,"arcgisItemBrowserCardPreview",7),this.manager=(0,c.u)(this),this.portal=void 0,this.strings=void 0,this.items=void 0,this.pagination=void 0,this.selectedCount=0}arcgisItemBrowserCardPreviewHandler(e){const{portal:t}=this,s=e.detail;if(s?.id){const e=`${(0,a.a)(t)}/home/`;this.openItemDetailsNode.href=`${e}/item.html?id=${s.id}`}else this.openItemDetailsNode.removeAttribute("href")}async componentWillLoad(){const{portal:e}=this,t=(0,o.g)(e.user),s=((0,r.g)("arcgis-app-print-custom-templates-storage-infos",!0)||[])[t];s&&(this.savedTemplateIds=s.map((e=>e.itemId)))}render(){const{portal:e,savedTemplateIds:t,strings:s}=this;let r="";t?.forEach((e=>r+=` -id:${e}`));const o=`type:"Layout" typekeywords:"Layout" ${r}`,c=`${(0,a.a)(e)}/home/`;return(0,i.h)(i.H,{key:"297347dbeb064d5b69e953057d634011d862bf2b"},(0,i.h)("calcite-dialog",{key:"ffd8aafaf8f141523396ed9861277ecf59357af5",class:"custom-templates-dialog",open:!0,modal:!0,scale:"l",escapeDisabled:!0,outsideCloseDisabled:!0,onCalciteDialogClose:()=>this.arcgisClose.emit(),heading:s.browseCustomTemplates},(0,i.h)("arcgis-item-browser",{key:"856fe9a9f8963d36f2a4c57dd1d525259bc24d57",view:"list",selection:"multiple",filter:o,portal:e,user:e.user,api:4,config:{baseUrl:c},onArcgisItemBrowserUpdate:e=>{const{results:t,num:s,start:i,total:a}=e.detail;this.items=t,this.pagination={start:i,num:s,total:a}},onArcgisItemBrowserSelect:()=>this.selectedCount=this.itemBrowserNode?.selectedItems?.length,ref:e=>this.itemBrowserNode=e},(0,i.h)("arcgis-item-browser-top-bar",{key:"701adb6a341e6a76bd60fab8da43217f156a0ab8",slot:"top-bar","filter-toggle":!0},(0,i.h)("arcgis-item-browser-bucket-select",{key:"a672785dfb89fc4c101fb41071f03911f32d2c08",slot:"bucket",options:e.isPortal?["my","favorites","group","org","living atlas"]:void 0}),(0,i.h)("arcgis-item-browser-search",{key:"a912479785866cc4f03768f673588eedda07b30d",slot:"search",term:""})),(0,i.h)("arcgis-item-browser-sort",{key:"661d06b588ee041a6ed553d859f0859118cc92c0",options:["modified","title","relevance"],slot:"sort"}),(0,i.h)("arcgis-item-browser-filters",{key:"8e5b90f2e9fac12ecd60a457ac6f0490235994b1",slot:"filters"},e.user&&(0,i.h)("arcgis-item-browser-filter-folder",{key:"eb4dd22638416e1aecec418b66a1fe09f02d3b53",expanded:!0}),(0,i.h)("arcgis-item-browser-filter-categories",{key:"4d215407724d69bb129084cf9c1f4433358bfa25"}),(0,i.h)("arcgis-item-browser-filter-location",{key:"86ca9c0a49c02e05ce0d123c6f09b11964393d60"}),(0,i.h)("arcgis-item-browser-filter-date",{key:"9fe7ce47de10f5b8463b270b9513a760dcd54583",property:"modified"}),(0,i.h)("arcgis-item-browser-filter-date",{key:"4239781b4cac135b9930b5a41e816d08505adab0",property:"created"}),(0,i.h)("arcgis-item-browser-filter-tags",{key:"14cf759f3d05c42d2df48bfe7f2bdd73f8bd2af9"}),(0,i.h)("arcgis-item-browser-filter-sharing",{key:"852159dee1cddb32f415bd54817c8d8dde0bcfbb"})),(0,i.h)("arcgis-item-browser-content",{key:"d5e988c216e14492e35d58aaf81e7e3bddcac49d",slot:"content"},(this.items||[]).map((t=>(0,i.h)("arcgis-item-browser-card",{key:`card-${t.id}`,item:t,portal:e,baseUrl:c,showItemType:!0,showDateUpdated:!0,showOwner:!0,showSummary:!0,showThumbnail:!0,preview:"action",messageOverrides:{preview:s.viewItemDetails}})))),(0,i.h)("arcgis-item-browser-pagination",{key:"7d6876cdfb45396f6e046683ab0f06754789afb5",slot:"pagination",total:this.pagination?.total,start:this.pagination?.start,num:this.pagination?.num}),(0,i.h)("calcite-button",{key:"e9fea925e23528af46cf8730fbf5c0c0a64bb442",slot:"preview-footer",alignment:"center",appearance:"outline-fill",kind:"neutral",width:"full",target:"_blank",ref:e=>this.openItemDetailsNode=e},s.viewDetails)),(0,i.h)("calcite-button",{key:"bbe2142b868c86966cc9dd019ce01146781d2848",slot:"footer-end",appearance:"outline-fill",alignment:"center",onClick:()=>{this.arcgisClose.emit()}},s.cancel),(0,i.h)("calcite-button",{key:"09e1dbbbd24e82c4c70f16e932ee450545194c0f",slot:"footer-end",alignment:"center",appearance:"solid",disabled:!this.selectedCount,onClick:()=>{this.arcgisClose.emit(this.itemBrowserNode.selectedItems.length?this.itemBrowserNode.selectedItems.map((e=>e)):[])}},s.add)))}get el(){return(0,i.g)(this)}};d.style=".custom-templates-dialog{--calcite-dialog-size-y:min(900px, calc(80vh + 100px));--calcite-dialog-size-x:1080px;--calcite-dialog-content-space:0px}"},90028:(e,t,s)=>{s.d(t,{a:()=>a,g:()=>r});var i=s(44021);function a(e){const{customBaseUrl:t,portalHostname:s,urlKey:i}=e,{protocol:a}=window.location;return`${a}//${i?`${i}.${t}`:s}`}function r(e){return(0,i.a)(e.restUrl)}},89826:(e,t,s)=>{function i(e,t,s){window.localStorage.setItem(e,s?JSON.stringify(t):t)}function a(e){window.localStorage.removeItem(e)}function r(e,t){const s=window.localStorage.getItem(e);return s&&t?JSON.parse(s):s}function o(e,t,s){window.sessionStorage.setItem(e,s?JSON.stringify(t):t)}function c(e,t){const s=window.sessionStorage.getItem(e);return s&&t?JSON.parse(s):s}s.d(t,{a:()=>c,b:()=>o,g:()=>r,r:()=>a,s:()=>i})},44021:(e,t,s)=>{s.d(t,{a:()=>i});const i=e=>e&&!e.endsWith("/")?`${e}/`:e},43666:(e,t,s)=>{function i(e){return e?.sourceJSON?.id}s.d(t,{g:()=>i})}}]);