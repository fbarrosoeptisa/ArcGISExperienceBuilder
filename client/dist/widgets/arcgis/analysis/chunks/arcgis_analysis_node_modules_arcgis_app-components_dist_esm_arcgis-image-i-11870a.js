/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a"],{74496:(e,t,r)=>{r.r(t),r.d(t,{arcgis_image_item_sort_popover:()=>l});var s=r(19564),o=r(66507),a=r(89261),i=r(8075);r(91102),r(73807),r(98034),r(99004);const l=class{constructor(e){(0,s.r)(this,e),this.arcgisImageItemSortChangeSaved=(0,s.c)(this,"arcgisImageItemSortChangeSaved",7),this.arcgisImageItemSortPopoverClosed=(0,s.c)(this,"arcgisImageItemSortPopoverClosed",7),this.renderSortFieldList=()=>{const{strings:e,fields:t,selectedSortField:r}=this,o=(0,i.h)(t).map((e=>(0,s.h)("calcite-list-item",{label:e.name,value:e,selected:e.name===(null==r?void 0:r.name)})));return(0,s.h)("calcite-list",{label:e.sortByField,"selection-mode":"single-persist",class:"field-list-wrapper",onCalciteListChange:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortField=t[0]}},o)},this.renderSortOrderChipGroup=()=>{const{strings:e,selectedSortField:t,selectedSortOrder:r}=this,{type:o}=t||{};let a=[];"string"===o?a=[{displayText:e.alphabetical,sortOrder:i.S.Asc},{displayText:e.reverseAlphabetical,sortOrder:i.S.Desc}]:"date"===o?a=[{displayText:e.mostRecent,sortOrder:i.S.Desc},{displayText:e.leastRecent,sortOrder:i.S.Asc}]:(0,i.s)(o)&&(a=[{displayText:e.highestValue,sortOrder:i.S.Desc},{displayText:e.lowestValue,sortOrder:i.S.Asc}]);const l=a.map((e=>{const{displayText:t,sortOrder:o}=e;return(0,s.h)("calcite-chip",{value:o,label:o,selected:r===o,appearance:"outline",kind:"neutral"},t)}));if(!(l.length<=0))return(0,s.h)("calcite-chip-group",{class:"sort-order-chip-group",label:e.sortOrder,"selection-mode":"single-persist",onCalciteChipGroupSelect:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortOrder=t[0]}},l)},this.handleSortChangeSaved=()=>{const{selectedSortField:e,selectedSortOrder:t}=this;this.arcgisImageItemSortChangeSaved.emit({sortField:e,sortOrder:t}),this.arcgisImageItemSortPopoverClosed.emit()},this.referenceElement=void 0,this.fields=[],this.preselectedSortField=void 0,this.preselectedSortOrder=void 0,this.open=void 0,this.selectedSortField=void 0,this.selectedSortOrder=void 0}async componentWillLoad(){[this.strings]=await(0,o.g)(this.hostElement,"arcgis-image-collection-explorer")}updateModal(e){e&&(this.selectedSortField=this.preselectedSortField,this.selectedSortOrder=this.preselectedSortOrder)}render(){const{strings:e,open:t}=this;return(0,s.h)(s.H,{key:"6ad848324fd5b99b952c226fc9a05c3d86608538",class:"js-app-flyout"},(0,s.h)("calcite-popover",{key:"8c45b22bde83ce9ca3bb58ff7f8b2506faf069eb",dir:(0,a.g)(this.hostElement),autoClose:!0,label:e.sort,referenceElement:this.referenceElement,closable:!0,heading:e.sort,placement:"leading-start",overlayPositioning:"fixed",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:10,offsetSkidding:50,open:t,onCalcitePopoverClose:()=>{this.arcgisImageItemSortPopoverClosed.emit()}},(0,s.h)("calcite-panel",{key:"a8ccd4715acc8fbf031c2cfcd4503addcf6c2e77",class:"sort-popover-wrapper"},(0,s.h)("calcite-label",{key:"f5759f309bb3cb8f29b48e1d978bc83af2a1bd12",class:"label-wrapper"},e.sortByField),this.renderSortFieldList(),(0,s.h)("calcite-label",{key:"8d931a0e91e52102f1c1897ab3558603206a9140",class:"label-wrapper"},e.sortOrder),this.renderSortOrderChipGroup(),(0,s.h)("div",{key:"8643eca78a1576d5f49f807b76e77d7a82c103cf",class:"button-wrapper"},(0,s.h)("calcite-button",{key:"8dfa556d3d6843f8f8fef005415618e974184e35",width:"full",onClick:this.handleSortChangeSaved},e.done)))))}get hostElement(){return(0,s.d)(this)}static get watchers(){return{open:["updateModal"]}}};l.style=".sort-popover-wrapper{display:flex;padding:1rem;min-width:320px;max-height:50vh;background-color:var(--calcite-color-foreground-1) !important}.label-wrapper{background-color:var(--calcite-color-foreground-1);padding-top:0.5rem}.field-list-wrapper{overflow-y:auto}.sort-order-chip-group{padding:0 0.5rem 0.5rem;background-color:var(--calcite-color-foreground-1)}.button-wrapper{padding:1rem 0.25rem 0.25rem;background-color:var(--calcite-color-foreground-1)}"}}]);