/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-80577a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-80577a"],{91353:(i,e,n)=>{n.d(e,{D:()=>a});var t=n(19564),s=n(26756);function a(i){var e;const{key:n,dimensionInfo:a}=i,l=n.includes("start")||n.includes("end"),{values:o}=a;let{selectedValue:r}=i;o&&(0,s.d)(o)&&"number"==typeof r&&(r=l?r=o.find((i=>n.includes("start")?i[0]===r:i[1]===r)):null!==(e=o.find((i=>i[0]===r)))&&void 0!==e?e:o.find((i=>i[1]===r)));const d=r===s.e||i.selectedValue===s.e,m=d?"undefined":(0,s.f)(r,a,{intl:i.intl,useRecurringTimeLabel:!0}),u=(i.isAscending?a.values:[...a.values].reverse()).map((e=>{const n=(0,s.f)(e,a,{intl:i.intl,useRecurringTimeLabel:!0}),t=Array.isArray(e)?e.join(" - "):String(e),l=n===m;return{key:`${i.key}-${t}}`,value:t,label:n,selected:l}})),{strings:c}=i;i.showEnd&&u.push({key:`${a.name}-end-undefined}`,value:String(s.e),label:c.extent.endUndefined,selected:d});const h=Math.max(0,u.findIndex((({selected:i})=>i))),f={clearFilter:c.select.clearFilter,filterText:c.select.filterText,filterLabel:c.extent.searchDimensions,selectLabel:c.extent.selectDimensions};return(0,t.h)("div",{class:"dimension-select-container"},(0,t.h)("arcgis-lazy-loading-select",{selectedIndex:h,list:u,strings:f,onArcgisLazyLoadingSelectChange:e=>{var n;const t=e.detail.selectedValue.split(" - ").map((i=>Number(i)));null===(n=i.onChange)||void 0===n||n.call(i,1===t.length?t[0]:t)},containerTop:i.containerTop}),i.sortable&&function(i,e,n,a){const l=(0,s.i)(i)?e?"clock-up":"clock-down":e?"sort-ascending-arrow":"sort-descending-arrow";return(0,t.h)("calcite-action",{icon:l,scale:"s",text:n,slot:"actions-end",onClick:()=>null==a?void 0:a(i.name)})}(a,i.isAscending,c.display.sort,i.updateSorting))}},21636:(i,e,n)=>{n.r(e),n.d(e,{arcgis_raster_multidimensional:()=>m});var t=n(19564),s=n(26408),a=n(66507),l=n(98034),o=n(89261),r=n(26756),d=n(91353);n(91102),n(73807),n(99004);const m=class{constructor(i){(0,t.r)(this,i),this.arcgisRasterMultidimensionalChange=(0,t.c)(this,"arcgisRasterMultidimensionalChange",7),this.arcgisRasterMultidimensionalSave=(0,t.c)(this,"arcgisRasterMultidimensionalSave",7),this.arcgisRasterMultidimensionalCancel=(0,t.c)(this,"arcgisRasterMultidimensionalCancel",7),this.arcgisRasterMultidimensionalPickerChange=(0,t.c)(this,"arcgisRasterMultidimensionalPickerChange",7),this.mdimSliders={},this.allVariables=[],this.pauseLayerUpdate=!1,this.apply=()=>{var i,e;const{multidimensionalInfo:n,originalLayerSetting:t}=this;if(!n||!t)return;t.definition=this.activeMultidimensionalDefinition.map((i=>i.clone())),t.subset=null===(i=this.activeMultidimensionalSubset)||void 0===i?void 0:i.clone();const{layer:s}=this;this.isImageryLayer(s)&&(t.mosaicRule=null===(e=s.mosaicRule)||void 0===e?void 0:e.clone()),this.arcgisRasterMultidimensionalSave.emit()},this.cancel=()=>{var i,e;const{multidimensionalInfo:n,originalLayerSetting:t,layer:s}=this;if(!n||!t)return;const a=null===(i=t.definition)||void 0===i?void 0:i.map((i=>i.clone())),l=null===(e=t.subset)||void 0===e?void 0:e.clone();this.pauseLayerUpdate=!0,this.activeMultidimensionalSubset=l;const o=null!=a?a:this.getNewMultidimensionalDefinition(this.allVariables[0].name);this.updateCurrentVariableInfo(o),this.activeMultidimensionalDefinition=o,this.pauseLayerUpdate=!1,this.isImageryLayer(s)?s.mosaicRule=t.mosaicRule:s.multidimensionalDefinition=a,s.renderer=t.renderer,s.multidimensionalSubset=l,this.arcgisRasterMultidimensionalCancel.emit()},this.updateDefinitionDimensionValue=(i,e,n=!1)=>{var t,s;const a=this.activeMultidimensionalDefinition.map((i=>i.clone()));if(a.find((({dimensionName:e})=>e===i)).values=[e],this.activeMultidimensionalDefinition=a,!n)return;const{mdimSliders:l}=this,o=(null===(t=l.time)||void 0===t?void 0:t.dimensionInfo.name)===i?l.time:(null===(s=l.z)||void 0===s?void 0:s.dimensionInfo.name)===i?l.z:null;o&&(o.dimensionValue=this.getDimensionValue(o.dimensionInfo,a))},this.getDimensionValue=(i,e)=>{var n,t;return null===(t=null===(n=e.find((({dimensionName:e})=>e===i.name)))||void 0===n?void 0:n.values)||void 0===t?void 0:t[0]},this.updateDefinitionVariableName=i=>{this.isDefaultUnspecifiedVariable(i)&&(i="");const e=this.getNewMultidimensionalDefinition(i);this.updateCurrentVariableInfo(e),this.activeMultidimensionalDefinition=e},this.updateSorting=i=>{const e=Object.assign({},this.sortDirections);e[i]="descending"===e[i]?"ascending":"descending",this.sortDirections=e},this.updateLayerMultidimensionalDefinition=(0,s.d)((()=>{var i,e,n,t;const{activeMultidimensionalDefinition:s,layer:a}=this,l=this.isImageryLayer(a);if(!(l?this.hasPropertyValueChanged(s,null===(i=a.mosaicRule)||void 0===i?void 0:i.multidimensionalDefinition):this.hasPropertyValueChanged(s,a.multidimensionalDefinition)))return;const o=this.getMultidimensionalDefinition(a),r=!o||0===o.length||o[0].variableName!==s[0].variableName;if(l){const i=(null!==(e=a.mosaicRule)&&void 0!==e?e:a.defaultMosaicRule).clone();if(this.isDefaultUnspecifiedVariable(s[0].variableName)){const e=s.map((i=>{const e=i.clone();return e.variableName="",e}));i.multidimensionalDefinition=e}else i.multidimensionalDefinition=s;a.mosaicRule=i}else a.multidimensionalDefinition=s;if(r){const i=s[0].variableName,e="imagery"===a.type||"imagery-tile"===a.type?null===(n=a.presetRenderers)||void 0===n?void 0:n.find((e=>"variable"===e.method&&e.value===i)):null;if(e&&"wcs"!==a.type)a.activePresetRendererName=e.name;else{const e=this.getVariableInfo(i),{renderer:n}=a;if("raster-stretch"===(null==n?void 0:n.type)&&(null===(t=e.statistics)||void 0===t?void 0:t.length)){const i=n.clone();i.statistics=e.statistics.map((i=>Object.assign({},i))),a.renderer=i}}}}),100),this.updateLayerMultidimensionalSubset=(0,s.d)((i=>{this.layer.multidimensionalSubset=i}),100),this.hidePanelHeading=!1,this.panelHeading=void 0,this.dismissible=!1,this.hideButtons=!1,this.hideExtentSection=!1,this.showAreaOfInterest=!1,this.isDimensionListSortable=!1,this.collapseExtentSection=!1,this.showAnimationControls=!1,this.showAnimationOnStartUp=!1,this.showAnimationTooltip=!1,this.timePickerContainer=void 0,this.zPickerContainer=void 0,this.animationSetting={playRate:-1,timeClassName:"imagery-dimension-picker-t",zClassName:"imagery-dimension-picker-z",timeTooltipPlacement:"top",zTooltipPlacement:"auto"},this.layer=void 0,this.view=void 0,this.multidimensionalInfo=void 0,this.activeMultidimensionalSubset=void 0,this.activeMultidimensionalDefinition=[],this.sortDirections={},this.animatedDimensions={time:"",z:""}}watchLayer(i){var e;this.multidimensionalInfo=void 0,null===(e=this.watchHandleLayer)||void 0===e||e.remove(),this.watchHandleLayer=void 0,this.initLayer(i)}watchActiveMultidimensionalDefinition(i,e){if(null==i||null==e)return;this.sortDirections={},this.pauseLayerUpdate||this.updateLayerMultidimensionalDefinition(),this.arcgisRasterMultidimensionalChange.emit({multidimensionalDefinition:i});const{animatedDimensions:n,showAnimationControls:t}=this;if(t&&(n.time||n.z)&&i[0].variableName!==e[0].variableName){const e=this.getVariableInfo(i[0].variableName);e.dimensions.some((({name:i})=>i===n.time))||this.destroyMdimSlider("time"),e.dimensions.some((({name:i})=>i===n.z))||this.destroyMdimSlider("z")}}async componentWillLoad(){[this.strings]=await(0,a.g)(this.hostElement),[this.intl,this.DimensionalDefinition]=await(0,l.l)(["esri/intl","esri/layers/support/DimensionalDefinition"]);const{select:i,extent:e}=this.strings;this.selectStrings={clearFilter:i.clearFilter,filterText:i.filterText,filterLabel:e.searchVariables,selectLabel:e.selectVariables};const{layer:n}=this;n.loaded?await this.initLayer(n):this.initLayer(n)}disconnectedCallback(){var i;this.originalLayerSetting&&(this.layer.useViewTime=this.originalLayerSetting.useViewTime),null===(i=this.watchHandleLayer)||void 0===i||i.remove(),this.destroyMdimSlider("both")}async setFocus(i){var e,n;"dismiss-button"===i||!i&&this.dismissible?null===(e=this.refCloseButtonNode)||void 0===e||e.setFocus():null===(n=this.refPanelNode)||void 0===n||n.setFocus()}async done(){this.apply()}render(){var i;const e="rtl"===(0,o.g)(this.hostElement),{hidePanelHeading:n,dismissible:s,hideButtons:a,panelHeading:l,hideExtentSection:r,strings:d}=this,m=!(null===(i=this.layer)||void 0===i?void 0:i.loaded),u=n?void 0:null!=l?l:d.title,c=!m&&null!=this.multidimensionalInfo;return(0,t.h)(t.H,{key:"c1187142c444d64036b1e341a9a0bb6bc1ac36a3"},(0,t.h)("calcite-panel",{key:"7f1a6f2a7016f07e66f308ff6cf15d66870a5849",loading:m,heading:u,class:{panel:!0,[o.C.rtl]:e},ref:i=>this.refPanelNode=i},s&&this.renderClose(),m&&(0,t.h)("calcite-loader",{key:"754fd2a2fa45d3cd24da894ecd89d0da872f98f1",class:"loader",label:"",type:"indeterminate"}),!m&&!c&&(0,t.h)("div",{key:"7afcf338caf2c5dd0650823f7a1f74e24b9644c6"},d.general.unsupported),c&&!r&&this.renderExtent(),c&&this.renderCurrentDisplay(),!a&&this.renderDoneButton(),!a&&this.renderCancelButton()))}renderCurrentDisplay(){var i,e,n,s;const{activeMultidimensionalDefinition:a,strings:l}=this,o=null===(i=this.activeMultidimensionalSubset)||void 0===i?void 0:i.variables,d=(null==o?void 0:o.length)?this.allVariables.filter((({name:i})=>o.includes(i))):[...this.allVariables],{layer:m}=this,u=this.isImageryLayer(m),c=u&&(d.some((({name:i})=>"*"===i))||this.hasNewVariable(this.multidimensionalInfo));let h=a[0].variableName;if(u){const{rasterFunction:i,version:n}=m;i&&"none"!==(null===(e=i.functionName)||void 0===e?void 0:e.toLowerCase())&&(n<=r.m&&d.unshift(Object.assign(Object.assign({},d[0]),{name:l.display.defaultVariable,label:l.display.defaultVariable})),""===h&&(h=c?d[0].name:l.display.defaultVariable))}const f=d.findIndex((i=>i.name===h)),v="wcs"===m.type?"none":null!==(s=null===(n=m.rasterFunction)||void 0===n?void 0:n.functionName)&&void 0!==s?s:"none",g=`${m.url}-${v}`;h===l.display.defaultVariable&&(h="");const{currentVariableInfo:p}=this,b=this.hostElement.getBoundingClientRect().top;return(0,t.h)("calcite-block",{heading:l.display.current,collapsible:!0,open:!0},(0,t.h)("div",null,(0,t.h)("calcite-label",null,l.display.variable,(0,t.h)("arcgis-lazy-loading-select",{selectedIndex:-1===f?0:f,list:d.map((i=>Object.assign(Object.assign({},i),{value:i.name}))),strings:this.selectStrings,key:g,onArcgisLazyLoadingSelectChange:i=>{const e=i.detail.selectedValue;this.updateDefinitionVariableName(e)},containerTop:b}))),p.dimensions.map((i=>this.renderDimension(i))))}renderExtent(){return(0,t.h)("arcgis-raster-multidimensional-subset",{multidimensionalInfo:this.multidimensionalInfo,multidimensionalSubset:this.activeMultidimensionalSubset,view:this.view,showAreaOfInterest:this.showAreaOfInterest,collapseExtentSection:this.collapseExtentSection,showFilterLength:this.allVariables[0].description?5:10,strings:this.strings,onArcgisRasterMultidimensionalSubsetChange:i=>this.updateMultidimensionalSubset(i.detail.subset)})}renderDimensionList(i){const{name:e}=i,n=this.activeMultidimensionalDefinition.find((i=>i.dimensionName===e)),{isDimensionListSortable:s}=this,a=!s||"descending"!==this.sortDirections[e],l=this.hostElement.getBoundingClientRect().top;return(0,t.h)(d.D,{dimensionInfo:i,selectedValue:n.values[0],sortable:s,updateSorting:this.updateSorting,isAscending:a,key:e,onChange:i=>this.updateDefinitionDimensionValue(e,i,!0),intl:this.intl,strings:this.strings,containerTop:l})}renderDimension(i){const e=this.renderDimensionList(i),n=(0,r.i)(i,!0),s=n?"time":"z",a=!i.values||i.values.length<2,{showAnimationControls:l,strings:o}=this,d="StdTime"===i.name?o.display.stdTimeDimension:"StdZ"===i.name?o.display.stdZDimension:o.display.generalDimension.replace("${dimensionName}",i.name);return l?(0,t.h)("div",{class:"dimension-zone"},(0,t.h)("calcite-label",null,d),(0,t.h)("calcite-label",null,o.display.defaultPosition,e),l&&!a&&(0,t.h)("calcite-label",{layout:"inline"},(0,t.h)("calcite-switch",{scale:"s",checked:this.animatedDimensions[s]===i.name,label:o.display.showDimensionSlider,onCalciteSwitchChange:e=>{e.target.checked?this.createOrUpdateMdimSlider(i):this.destroyMdimSlider(n?"time":"z")}}),o.display.showDimensionSlider)):(0,t.h)("div",null,(0,t.h)("calcite-label",null,d,e))}renderClose(){return(0,t.h)("calcite-action",{text:this.strings.general.close,icon:"x",slot:"header-actions-end",onClick:this.cancel,ref:i=>this.refCloseButtonNode=i})}renderDoneButton(){const{done:i}=this.strings.general;return(0,t.h)("calcite-button",{slot:"footer",onClick:this.apply,appearance:"solid",width:"half",label:i},i)}renderCancelButton(){const{cancel:i}=this.strings.general;return(0,t.h)("calcite-button",{slot:"footer",onClick:this.cancel,appearance:"outline-fill",width:"half",label:i},i)}async initLayer(i){var e,n,t,a,l,o,d;if(!i)return;i.loaded||await i.load();const m=await(0,r.g)(i,!0);if(!m)return;this.rawMultidimensionalInfo=m;const u=this.isImageryLayer(i);if(u){const t=null!==(e=await(0,r.g)(i))&&void 0!==e?e:m,s=(null===(n=t.variables)||void 0===n?void 0:n.length)>1&&this.hasNewVariable(t);this.multidimensionalInfo=s?m:t}else this.multidimensionalInfo=m;this.allVariables=this.multidimensionalInfo.variables.map((({name:i,unit:e,description:n,dimensions:t,statistics:s})=>({name:i,label:e?`${i} (${e})`:i,description:n,dimensionNames:t.map((({name:i})=>i)).join(", "),statisticsRange:null==s?void 0:s.map((({min:i,max:e})=>[i,e].join(", "))).join("; ")})));const c=this.getMultidimensionalDefinition(i),h=u?null===(t=i.mosaicRule)||void 0===t?void 0:t.clone():void 0,f=null===(a=i.renderer)||void 0===a?void 0:a.clone(),v=null===(l=i.multidimensionalSubset)||void 0===l?void 0:l.clone();let g;this.originalLayerSetting={subset:v,mosaicRule:h,definition:c,renderer:f,useViewTime:i.useViewTime},i.useViewTime=!1,this.activeMultidimensionalDefinition=c.map((i=>i.clone())),(null===(d=null===(o=i.multidimensionalSubset)||void 0===o?void 0:o.subsetDefinitions)||void 0===d?void 0:d.length)&&(g=i.multidimensionalSubset,g.variables.some((i=>!this.multidimensionalInfo.variables.some((e=>e.name===i))))&&(i.multidimensionalSubset=null,this.originalLayerSetting.subset=void 0,g=void 0)),this.activeMultidimensionalSubset=g,this.updateCurrentVariableInfo(this.activeMultidimensionalDefinition),this.showAnimationOnStartUp&&this.createDimensionalSliders(),!this.watchHandleLayer&&u&&(this.watchHandleLayer=i.watch("rasterFunction",(0,s.d)(((e,n)=>{(null==e?void 0:e.functionName)!==(null==n?void 0:n.functionName)&&(0,r.g)(i).then((e=>{this.hasPropertyValueChanged(e,this.multidimensionalInfo)&&this.initLayer(i)}))}),100)))}createDimensionalSliders(){this.destroyMdimSlider("both");const{dimensions:i}=this.currentVariableInfo,e=i.find((i=>(0,r.i)(i,!0)));this.createOrUpdateMdimSlider(e);const n=i.find((i=>!(0,r.i)(i,!0)));this.createOrUpdateMdimSlider(n)}getPlayRate(){const{playRate:i}=this.animationSetting;return i<=0?this.isImageryLayer(this.layer)?3e3:2e3:i}createOrUpdateMdimSlider(i){if(!i||!this.showAnimationControls)return;const e=(0,r.i)(i,!0),{values:n}=i,t=!(null==n?void 0:n.length)||n.length<2,s=e?this.mdimSliders.time:this.mdimSliders.z;if(t)return void this.destroyMdimSlider(e?"time":"z");if(s)return s.dimensionInfo=i,void(s.dimensionValue=this.getDimensionValue(i,this.activeMultidimensionalDefinition));const{animationSetting:a}=this,l=document.createElement("arcgis-raster-dimension-slider");l.dimensionInfo=i,l.dimensionValue=this.getDimensionValue(i,this.activeMultidimensionalDefinition);const o=e?a.timeClassName:a.zClassName;o&&l.classList.add(o);const d=this.getPlayRate();l.sliderSetting={playRate:d,tooltipPlacement:a.timeTooltipPlacement,minZHeightForNav:a.minZHeightForNav,showAnimationTooltip:this.showAnimationTooltip},l.addEventListener("arcgisRasterDimensionValueChange",(i=>this.updateDefinitionDimensionValue(i.detail.dimensionName,i.detail.value)));const m=e?this.timePickerContainer:this.zPickerContainer;m?m.appendChild(l):this.view&&this.view.ui.add(l,{position:"manual"}),e?(this.mdimSliders.time=l,this.animatedDimensions=Object.assign(Object.assign({},this.animatedDimensions),{time:i.name})):(this.mdimSliders.z=l,this.animatedDimensions=Object.assign(Object.assign({},this.animatedDimensions),{z:i.name})),this.arcgisRasterMultidimensionalPickerChange.emit({pickerType:e?"time":"z",isRemoval:!1,valuePicker:l})}destroyMdimSlider(i){var e,n;"time"!==i&&"both"!==i||(null===(e=this.mdimSliders.time)||void 0===e||e.remove(),this.mdimSliders.time=void 0,this.animatedDimensions.time="",this.arcgisRasterMultidimensionalPickerChange.emit({pickerType:"time",isRemoval:!0})),"z"!==i&&"both"!==i||(null===(n=this.mdimSliders.z)||void 0===n||n.remove(),this.mdimSliders.z=void 0,this.animatedDimensions.z="",this.arcgisRasterMultidimensionalPickerChange.emit({pickerType:"z",isRemoval:!0}))}getMultidimensionalDefinition(i){const e=(0,r.c)(i);return(null==e?void 0:e.length)?e:this.getNewMultidimensionalDefinition(this.allVariables[0].name)}getNewMultidimensionalDefinition(i){var e;const n=null!==(e=this.getVariableInfo(i).dimensions)&&void 0!==e?e:[],t=n.map((i=>i.name)),s=this.activeMultidimensionalDefinition,a=s.map((i=>i.clone())),l=s.map((i=>i.dimensionName));if(0===t.length)return a.forEach((e=>{e.variableName=i,e.dimensionName="",e.values=[],e.isSlice=!0})),a;return l.length===t.length&&t.every((i=>l.includes(i)))?(a.forEach((e=>{e.variableName=i;const t=n.find((({name:i})=>i===e.dimensionName));(0,r.u)(e,t,this.activeMultidimensionalSubset)})),a):(a.length=0,n.forEach((e=>{var n;let t=null===(n=s.find((i=>i.dimensionName===e.name)))||void 0===n?void 0:n.clone();if(t)t.variableName=i;else{const n=(0,r.a)(e);t=new this.DimensionalDefinition({variableName:i,dimensionName:e.name,values:null==n?[]:[n],isSlice:!0})}(0,r.u)(t,e,this.activeMultidimensionalSubset),a.push(t)})),a)}getVariableInfo(i){var e;const{variables:n}=this.multidimensionalInfo;return this.isDefaultUnspecifiedVariable(i)?n[0]:null!==(e=n.find((e=>e.name===i)))&&void 0!==e?e:n[0]}hasNewVariable(i){return i.variables.some((i=>!this.rawMultidimensionalInfo.variables.some((e=>e.name===i.name))))}hasPropertyValueChanged(i,e){return JSON.stringify(null!=i?i:void 0)!==JSON.stringify(null!=e?e:void 0)}isDefaultUnspecifiedVariable(i){return["","*",this.strings.display.defaultVariable].includes(i)}isImageryLayer(i){return"imagery"===i.type}updateMultidimensionalSubset(i){var e;this.pauseLayerUpdate||this.updateLayerMultidimensionalSubset(i),this.activeMultidimensionalSubset=i;const{activeMultidimensionalDefinition:n}=this;let t=!1,s=n;if((null===(e=null==i?void 0:i.variables)||void 0===e?void 0:e.length)&&n.length){const e=this.allVariables.filter((({name:e})=>i.variables.includes(e))).map((({name:i})=>i)),a=n[0].variableName,l=""===a||i.variables.includes(a)?a:e[0];s=this.getNewMultidimensionalDefinition(l),t=this.hasPropertyValueChanged(s,n)}if(this.updateCurrentVariableInfo(s),t&&(this.activeMultidimensionalDefinition=s),this.showAnimationControls){const{dimensions:i}=this.currentVariableInfo,{time:e,z:n}=this.mdimSliders;if(e){const n=i.find((({name:i})=>i===e.dimensionInfo.name));this.createOrUpdateMdimSlider(n)}if(n){const e=i.find((({name:i})=>i===n.dimensionInfo.name));this.createOrUpdateMdimSlider(e)}}const a=t?{multidimensionalSubset:i,multidimensionalDefinition:s}:{multidimensionalSubset:i};this.arcgisRasterMultidimensionalChange.emit(a)}updateCurrentVariableInfo(i){const e=i[0].variableName,n=this.getVariableInfo(e),t=n.dimensions.map((i=>(0,r.b)(i,this.activeMultidimensionalSubset)));this.currentVariableInfo=Object.assign(Object.assign({},n),{dimensions:t})}get hostElement(){return(0,t.d)(this)}static get watchers(){return{layer:["watchLayer"],activeMultidimensionalDefinition:["watchActiveMultidimensionalDefinition"]}}};m.style=":host{display:flex;flex:1 1 auto;overflow:hidden}.variable-section-boarder{border:1px solid var(--arcgis-app-border)}.variable-select{display:flex;justify-content:center}.multidimensional-extent>div{margin:10px 0}.multidimensional-extent-compact{display:flex;width:100%}.multidimensional-extent-compact>div{width:50%}.multidimensional-extent-compact>div:first-child{margin:0 20px 0 0}.multidimensional-unsupported{margin:20px}.dimension-zone{padding:10px;border:1px solid var(--arcgis-app-border);margin:10px 0}.dimension-select-container{display:flex;width:100%;align-items:center}.dimension-select-container .dimension-select{flex-grow:1}.arcgis--rtl .extent-compact>div:first-child{margin:0 0 0 20px}"},26408:(i,e,n)=>{n.d(e,{a:()=>d,b:()=>c,c:()=>s,d:()=>t,e:()=>l,f:()=>a,g:()=>m,h:()=>h,i:()=>f,m:()=>o,t:()=>r,u:()=>u});const t=(i,e)=>{let n,t="idle";const s=(...s)=>new Promise((a=>{switch(t){case"flushed":t="idle",n?(clearTimeout(n),a(i(...s))):a(null);break;case"invoked":clearTimeout(n),t="idle",a(i(...s));break;case"cancelled":clearTimeout(n),t="idle",a(null);break;default:n&&clearTimeout(n),t="pending",n=setTimeout((()=>(t="idle",a(i(...s)))),e)}}));return s.flush=function(...i){return t="flushed",s(...i)},s.invoke=function(...i){return t="invoked",s(...i)},s.cancel=function(...i){return t="cancelled",s(...i)},s.getStatus=function(){return t},s},s=(i,e)=>{let n;return(...t)=>new Promise((s=>{n||(n=setTimeout((()=>{clearTimeout(n),n=void 0,s(i(...t))}),e))}))};function a(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(i){return null!=i}async function o(i,e){return await Promise.all([i,r(e)]),i}function r(i){return new Promise((e=>setTimeout(e,i)))}const d=(i,e)=>Object.fromEntries((i||[]).map((i=>{const{key:n,data:t}=e(i);return[n,t]}))),m=(i,e)=>i.length===e.length&&i.reduce(((i,n)=>i&&e.indexOf(n)>-1),!0);function u(i,e){const n=[],t={};return i.forEach((i=>{const s=e(i);null==t[s]&&(t[s]=i,n.push(i))})),n}function c(i){const e={boolean:{},number:{},string:{}},n=[];return i.filter((i=>{let t=typeof i;return t in e?!e[t].hasOwnProperty(i)&&(e[t][i]=!0):!(n.indexOf(i)>=0)&&n.push(i)}))}const h=(i,e)=>[...Array(Math.ceil(i.length/e))].map(((n,t)=>i.slice(e*t,e+e*t))),f=(i,e)=>i.includes(e)},26756:(i,e,n)=>{n.d(e,{a:()=>d,b:()=>r,c:()=>m,d:()=>f,e:()=>s,f:()=>o,g:()=>u,i:()=>c,m:()=>t,u:()=>h});const t=10.9,s=Number.MAX_VALUE-1;function a(i,e){const n=new Date(i),{useFriendlyIsoFormat:t,intl:s,format:a}=e;if(t&&s)return s.formatDate(n,Object.assign(Object.assign({},s.convertDateFormatToIntlOptions(null!=a?a:"short-date-long-time")),{timeZone:"UTC"}));let l=new Date(i).toISOString();return l=`${l.slice(0,l.indexOf("."))}Z`,l}function l(i,e,n="long"){const t=new Date(2022,9,10);return t.setMonth(i-1),e.formatDate(t,{month:n})}function o(i,e,n={}){var t,s,o;if(null==i)return"";const{intl:r,useRecurringTimeLabel:d}=n;if(d&&r&&!Array.isArray(i)){const n=null===(t=e.intervalUnit)||void 0===t?void 0:t.toLowerCase().trim(),s=function(i){return"StdTime"===i.name&&!!i.recurring}(e)&&("months"===n||"quarters"===n);if(s)return"months"===n?l(i,r):function(i,e){return`${l(3*(i-1)+1,e,"short")} - ${l(3*i,e,"short")}`}(i,r)}const m=null===(s=e.values)||void 0===s?void 0:s[e.values.length-1];if(n.useStartOrEndForRangedValue&&Array.isArray(i)&&2===i.length&&Array.isArray(m)){const e=i.join("-")===m.join("-");i=e?i[1]:i[0]}if(!c(e))return Array.isArray(i)?i.map((i=>{var e;return null!==(e=null==r?void 0:r.formatNumber(i))&&void 0!==e?e:String(i)})).join(" - "):null!==(o=null==r?void 0:r.formatNumber(i))&&void 0!==o?o:String(i);if(n.useFriendlyIsoFormat&&!n.format){const i=function(i){var e,n,t;let s=null!==(n=null===(e=i.intervalUnit)||void 0===e?void 0:e.toLowerCase().trim())&&void 0!==n?n:"";const{interval:a=0,extent:l}=i,o=null===(t=i.values)||void 0===t?void 0:t.length;if(!["years","months","days","hours"].includes(s)&&(null==l?void 0:l.length)&&o){const i=(l[1]-l[0])/o,e=864e5;s=i>=365*e?"years":i>=28*e?"months":s}switch(s){case"months":s=a>11?"years":s;break;case"days":s=a>364?"years":a>27?"months":s;break;case"hours":s="days"}return"years"===s?"year":"months"===s?"short-month-year":"short-date"}(e);n=Object.assign({format:i},n)}return Array.isArray(i)?i.map((i=>a(i,n))).join(" - "):a(i,n)}function r(i,e){var n;const t=null===(n=null==e?void 0:e.dimensions)||void 0===n?void 0:n.find((({name:e})=>e===i.name));if(!(null==t?void 0:t.extent))return i;const s=[...t.extent],{values:a}=i;if(null==a?void 0:a.length){const e=a.filter((i=>Array.isArray(i)?null==s[1]||s[0]===s[1]?i[0]===s[0]:i[0]>=s[0]&&i[0]<=s[1]&&i[1]>=s[0]&&i[1]<=s[1]:i>=s[0]&&i<=s[1]));if(0===e.length){const i=a[a.length-1];Array.isArray(i)&&i[1]===s[0]&&e.push(i)}return Object.assign(Object.assign({},i),{extent:s,values:e})}return Object.assign(Object.assign({},i),{extent:s})}function d(i){var e;const{values:n,extent:t,name:s}=i;let a=null!==(e=null==n?void 0:n[0])&&void 0!==e?e:null==t?void 0:t[0];return"stdz"===s.toLowerCase()&&!i.hasRanges&&t&&Math.abs(t[1])<=Math.abs(t[0])&&(a=(null==n?void 0:n.length)?n[n.length-1]:t[1]),a}function m(i){var e,n;return"imagery-tile"===i.type||"wcs"===i.type?i.multidimensionalDefinition:null===(n=null!==(e=i.mosaicRule)&&void 0!==e?e:i.defaultMosaicRule)||void 0===n?void 0:n.multidimensionalDefinition}async function u(i,e=!1){var n;if("imagery-tile"===i.type||"wcs"===i.type)return i.serviceRasterInfo.multidimensionalInfo;const{rasterFunction:s,version:a}=i;if(e||a<=t||!s||"none"===(null===(n=s.functionName)||void 0===n?void 0:n.toLowerCase()))return i.serviceRasterInfo.multidimensionalInfo;return(await i.generateRasterInfo(i.rasterFunction).catch((()=>i.serviceRasterInfo))).multidimensionalInfo}function c(i,e=!1){return"StdTime"===i.name&&(e||!i.recurring)}function h(i,e,n){var t;e=r(e,n);const s=o(i.values[0],e);if(!(null===(t=e.values)||void 0===t?void 0:t.some((i=>s===o(i,e))))){const n=d(e);i.values=null!=n?[n]:[]}}function f(i){return Array.isArray(i[0])}}}]);