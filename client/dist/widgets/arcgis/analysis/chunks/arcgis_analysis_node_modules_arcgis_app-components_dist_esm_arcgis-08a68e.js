/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-08a68e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-08a68e"],{99004:(e,i,t)=>{t.d(i,{c:()=>n,g:()=>r});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},53300:(e,i,t)=>{t.r(i),t.d(i,{arcgis_raster_dimension_slider:()=>a});var n=t(19564),r=t(98034),s=t(26756);t(99004);const a=class{constructor(e){(0,n.r)(this,e),this.arcgisRasterDimensionValueChange=(0,n.c)(this,"arcgisRasterDimensionValueChange",7),this.arcgisRasterDimensionSliderChange=(0,n.c)(this,"arcgisRasterDimensionSliderChange",7),this.handleResize=()=>{var e;const i=!(0,s.i)(this.dimensionInfo),t=null===(e=this.valuePickerConfig)||void 0===e?void 0:e.slider,{minZHeightForNav:n}=this.sliderSetting;if(!i||!t||!n)return;const{container:r,visibleElements:a}=t;if(r instanceof HTMLElement){const e=r.clientHeight>=n;a.previousButton=e,a.nextButton=e}},this.updateDefinitionDimensionValue=(e,i)=>{this.activeValue=i,this.arcgisRasterDimensionValueChange.emit({dimensionName:e,value:i})},this.updateSliderValue=e=>{const{valuePickerConfig:i}=this;i&&null!=e&&e!==this.activeValue&&(i.slider.values=this.getSelectedSliderValue(e,i.dimensionValues,!!i.slider.component.reversed))},this.dimensionInfo=void 0,this.dimensionValue=void 0,this.sliderSetting={playRate:2e3,tooltipPlacement:"auto"}}watchDimensionalValue(e){this.updateSliderValue(e)}async componentWillLoad(){[this.intl,this.ValuePicker,this.ValuePickerSlider]=await(0,r.l)(["esri/intl","esri/widgets/ValuePicker","esri/widgets/ValuePicker/ValuePickerSlider"]),window.addEventListener("resize",this.handleResize)}disconnectedCallback(){this.destroyValuePicker(),window.removeEventListener("resize",this.handleResize)}componentShouldUpdate(e,i,t){return"dimensionValue"!==t&&e!==i}render(){return(0,n.h)(n.H,{key:"179d06576665bed0776307052343fd14826ce968"},(0,n.h)("div",{key:"ec9317553d7574fabd257fb16684f4125d87e2bd",class:"arcgis-imagery-dimension-slider",ref:e=>{e&&this.createOrUpdateValuePicker(e)}}))}createValueTicks(e,i){return Array.from({length:i},((t,n)=>0===n?0:n===i-1?e.length-1:Math.round(n*(e.length-1)/(i-1))))}isReversedZ(e){let i=e[e.length-1];return Array.isArray(i)&&(i=i[i.length-1]),i<=0}createValuePickerSlider(e){const i=e.values.slice(),t=(0,s.i)(e,!0),n=!t&&this.isReversedZ(i),r=i.map(((e,i)=>i)),a=r.length,o=a<=4?2:t||a<=10?3:4,l=this.createValueTicks(r,o),u=Math.min(19,a>19?Math.floor(a/2):a),c=this.createValueTicks(r,u),d=[...l];return new this.ValuePickerSlider({type:"slider",min:0,max:i.length-1,steps:r,minorTicks:c,majorTicks:l,labels:d,reversed:n,visibleElements:{thumbTooltip:!!this.sliderSetting.showAnimationTooltip},labelFormatFunction:(t,r)=>{const a=n?i.length-1-t:t;return"tick"===r?(0,s.f)(i[a],e,{intl:this.intl,useRecurringTimeLabel:!0,useFriendlyIsoFormat:!0,useStartOrEndForRangedValue:!0}):(0,s.f)(i[a],e,{intl:this.intl,useRecurringTimeLabel:!0,useFriendlyIsoFormat:!0,format:"short-date-long-time"})}})}createOrUpdateValuePicker(e){var i,t,n;const{dimensionInfo:r}=this,a=(0,s.i)(r,!0),{name:o,values:l}=r,u=!(null==l?void 0:l.length)||l.length<2;let{valuePickerConfig:c}=this;if(null===(i=null==c?void 0:c.handle)||void 0===i||i.remove(),u)return this.destroyValuePicker(),void(this.valuePickerConfig=void 0);const d=l.slice(),m=!a&&this.isReversedZ(d),h=this.getSelectedSliderValue(this.dimensionValue,d,m),v=this.createValuePickerSlider(r),{sliderSetting:f}=this,g=null!==(t=null==c?void 0:c.slider)&&void 0!==t?t:new this.ValuePicker({container:e,layout:a?"horizontal":"vertical"});if(g.component=v,g.values=h,g.playRate=f.playRate,g.caption=o,g.label=o,!c){const i=null!==(n=f.tooltipPlacement)&&void 0!==n?n:a?"top":"auto";"auto"!==i&&f.showAnimationTooltip&&setTimeout((()=>{const t=e.getElementsByTagName("calcite-tooltip")[0];t&&(t.placement=i)}),1e3),g.when(this.handleResize)}const p=g.watch("values",(e=>{const i=m?d.length-1-e[0]:e[0];this.updateDefinitionDimensionValue(o,d[i])}));this.valuePickerConfig={slider:g,dimensionName:o,dimensionValues:d,handle:p},this.arcgisRasterDimensionSliderChange.emit({pickerType:a?"time":"z",isRemoval:!1,valuePicker:g})}destroyValuePicker(){const{valuePickerConfig:e}=this;null==e||e.handle.remove(),null==e||e.slider.destroy(),this.valuePickerConfig=void 0;const i=(0,s.i)(this.dimensionInfo);this.arcgisRasterDimensionSliderChange.emit({pickerType:i?"time":"z",isRemoval:!0})}getSelectedSliderValue(e,i,t){const n=null==e?0:i.findIndex((i=>Array.isArray(e)&&Array.isArray(i)?e.join("-")===i.join("-"):e===i));return[-1===n?0:t?i.length-1-n:n]}get hostElement(){return(0,n.d)(this)}static get watchers(){return{dimensionValue:["watchDimensionalValue"]}}};a.style=".arcgis-imagery-dimension-slider{width:100%;height:100%}.arcgis-imagery-dimension-slider.esri-value-picker__layout--vertical.esri-value-picker__type--slider{min-height:150px}.arcgis-imagery-dimension-slider.esri-value-picker__layout--vertical.esri-value-picker__type--slider .esri-value-picker__action-bar{min-height:150px}"},98034:(e,i,t)=>{t.d(i,{e:()=>s,l:()=>a});var n,r=t(99004),s={exports:{}};n=s.exports,r.c,function(e){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",n="next";function r(e){if(e.toLowerCase()===n)return n;var i=e&&e.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function s(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function a(e){void 0===e&&(e=t);var i=s(e),a=r(e);if(a!==n&&3===a.major){var o=a.minor<=10?"js/":"";return"".concat(i).concat(o,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}function o(e){var i=document.createElement("link");return i.rel="stylesheet",i.href=e,i}function l(e,i){if(i){var t=document.querySelector(i);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}function u(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function c(e){return!e||r(e)?a(e):e}function d(e,i){var t=c(e),n=u(t);return n||l(n=o(t),i),n}var m={};function h(e){var i=document.createElement("script");return i.type="text/javascript",i.src=e,i.setAttribute("data-esri-loader","loading"),i}function v(e,i,t){var n;t&&(n=f(e,t));var r=function(){i(e),e.removeEventListener("load",r,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",r,!1)}function f(e,i){var t=function(n){i(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}function g(e){void 0===e&&(e={}),m=e}function p(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function w(e){void 0===e&&(e={});var t={};[m,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}));var n=t.version,r=t.url||s(n);return new i.Promise((function(e,i){var s=p();if(s){var a=s.getAttribute("src");a!==r?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):y()?e(s):v(s,e,i)}else if(y())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=t.css;o&&d(!0===o?n:o,t.insertCssBefore),v(s=h(r),(function(){s.setAttribute("data-esri-loader","loaded"),e(s)}),i),document.body.appendChild(s)}}))}function k(e){return new i.Promise((function(i,t){var n=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.remove(),i(e)}))}))}function b(e,i){if(void 0===i&&(i={}),y())return k(e);var t=p(),n=t&&t.getAttribute("src");return!i.url&&n&&(i.url=n),w(i).then((function(){return k(e)}))}e.utils=i,e.loadModules=b,e.getScript=p,e.isLoaded=y,e.loadScript=w,e.setDefaultOptions=g,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(n);const a=async(e,i)=>(await s.exports.loadModules(e,i)).map((e=>e.__esModule&&e.default?e.default:e))},26756:(e,i,t)=>{t.d(i,{a:()=>u,b:()=>l,c:()=>c,d:()=>v,e:()=>r,f:()=>o,g:()=>d,i:()=>m,m:()=>n,u:()=>h});const n=10.9,r=Number.MAX_VALUE-1;function s(e,i){const t=new Date(e),{useFriendlyIsoFormat:n,intl:r,format:s}=i;if(n&&r)return r.formatDate(t,Object.assign(Object.assign({},r.convertDateFormatToIntlOptions(null!=s?s:"short-date-long-time")),{timeZone:"UTC"}));let a=new Date(e).toISOString();return a=`${a.slice(0,a.indexOf("."))}Z`,a}function a(e,i,t="long"){const n=new Date(2022,9,10);return n.setMonth(e-1),i.formatDate(n,{month:t})}function o(e,i,t={}){var n,r,o;if(null==e)return"";const{intl:l,useRecurringTimeLabel:u}=t;if(u&&l&&!Array.isArray(e)){const t=null===(n=i.intervalUnit)||void 0===n?void 0:n.toLowerCase().trim(),r=function(e){return"StdTime"===e.name&&!!e.recurring}(i)&&("months"===t||"quarters"===t);if(r)return"months"===t?a(e,l):function(e,i){return`${a(3*(e-1)+1,i,"short")} - ${a(3*e,i,"short")}`}(e,l)}const c=null===(r=i.values)||void 0===r?void 0:r[i.values.length-1];if(t.useStartOrEndForRangedValue&&Array.isArray(e)&&2===e.length&&Array.isArray(c)){const i=e.join("-")===c.join("-");e=i?e[1]:e[0]}if(!m(i))return Array.isArray(e)?e.map((e=>{var i;return null!==(i=null==l?void 0:l.formatNumber(e))&&void 0!==i?i:String(e)})).join(" - "):null!==(o=null==l?void 0:l.formatNumber(e))&&void 0!==o?o:String(e);if(t.useFriendlyIsoFormat&&!t.format){const e=function(e){var i,t,n;let r=null!==(t=null===(i=e.intervalUnit)||void 0===i?void 0:i.toLowerCase().trim())&&void 0!==t?t:"";const{interval:s=0,extent:a}=e,o=null===(n=e.values)||void 0===n?void 0:n.length;if(!["years","months","days","hours"].includes(r)&&(null==a?void 0:a.length)&&o){const e=(a[1]-a[0])/o,i=864e5;r=e>=365*i?"years":e>=28*i?"months":r}switch(r){case"months":r=s>11?"years":r;break;case"days":r=s>364?"years":s>27?"months":r;break;case"hours":r="days"}return"years"===r?"year":"months"===r?"short-month-year":"short-date"}(i);t=Object.assign({format:e},t)}return Array.isArray(e)?e.map((e=>s(e,t))).join(" - "):s(e,t)}function l(e,i){var t;const n=null===(t=null==i?void 0:i.dimensions)||void 0===t?void 0:t.find((({name:i})=>i===e.name));if(!(null==n?void 0:n.extent))return e;const r=[...n.extent],{values:s}=e;if(null==s?void 0:s.length){const i=s.filter((e=>Array.isArray(e)?null==r[1]||r[0]===r[1]?e[0]===r[0]:e[0]>=r[0]&&e[0]<=r[1]&&e[1]>=r[0]&&e[1]<=r[1]:e>=r[0]&&e<=r[1]));if(0===i.length){const e=s[s.length-1];Array.isArray(e)&&e[1]===r[0]&&i.push(e)}return Object.assign(Object.assign({},e),{extent:r,values:i})}return Object.assign(Object.assign({},e),{extent:r})}function u(e){var i;const{values:t,extent:n,name:r}=e;let s=null!==(i=null==t?void 0:t[0])&&void 0!==i?i:null==n?void 0:n[0];return"stdz"===r.toLowerCase()&&!e.hasRanges&&n&&Math.abs(n[1])<=Math.abs(n[0])&&(s=(null==t?void 0:t.length)?t[t.length-1]:n[1]),s}function c(e){var i,t;return"imagery-tile"===e.type||"wcs"===e.type?e.multidimensionalDefinition:null===(t=null!==(i=e.mosaicRule)&&void 0!==i?i:e.defaultMosaicRule)||void 0===t?void 0:t.multidimensionalDefinition}async function d(e,i=!1){var t;if("imagery-tile"===e.type||"wcs"===e.type)return e.serviceRasterInfo.multidimensionalInfo;const{rasterFunction:r,version:s}=e;if(i||s<=n||!r||"none"===(null===(t=r.functionName)||void 0===t?void 0:t.toLowerCase()))return e.serviceRasterInfo.multidimensionalInfo;return(await e.generateRasterInfo(e.rasterFunction).catch((()=>e.serviceRasterInfo))).multidimensionalInfo}function m(e,i=!1){return"StdTime"===e.name&&(i||!e.recurring)}function h(e,i,t){var n;i=l(i,t);const r=o(e.values[0],i);if(!(null===(n=i.values)||void 0===n?void 0:n.some((e=>r===o(e,i))))){const t=u(i);e.values=null!=t?[t]:[]}}function v(e){return Array.isArray(e[0])}}}]);