/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-9978f1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-9978f1"],{99004:(t,i,e)=>{e.d(i,{c:()=>a,g:()=>s});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},27521:(t,i,e)=>{e.r(i),e.d(i,{arcgis_item_classification_header_help_tooltip:()=>r,arcgis_item_classification_input_checkbox:()=>l,arcgis_item_classification_input_date:()=>n,arcgis_item_classification_input_grouped_multiple_selection:()=>o,arcgis_item_classification_input_multiple_selection:()=>c,arcgis_item_classification_input_single_selection:()=>u,arcgis_item_classification_input_textbox:()=>h,item_classification_category:()=>d,item_classification_content:()=>b,item_classification_info:()=>f,item_classification_notification:()=>m});var a=e(19564),s=e(45536);e(4948),e(18991),e(98034),e(99004),e(57159),e(44508),e(65174);const r=class{constructor(t){(0,a.r)(this,t),this.renderTooltipLink=()=>this.helpUrl?(0,a.h)("calcite-link",{href:this.helpUrl,target:"_blank",id:"tooltip-button"},this.helpTooltip):this.helpTooltip,this.helpUrl=void 0,this.helpTooltip=void 0}render(){return(0,a.h)("arcgis-information",{key:"ff70277769ff06ff38d4157a2a0b1ac171b6f2ea",label:this.helpTooltip,paddedContent:!0,placement:"bottom-end",overlayPositioning:"fixed"},this.renderTooltipLink())}},l=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.toggleAttribute=t=>{t.currentTarget.checked?(this.itemClassificationValue[this.attributeId]=t.currentTarget.checked,this.itemClassificationValueWithDefaults[this.attributeId]=t.currentTarget.checked):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.labelClass=this.attributeId,this.attributeLabel=null===(t=this.attributeValue)||void 0===t?void 0:t.label,this.attributeIsRequired=!!(null===(i=this.attributeValue)||void 0===i?void 0:i.isRequired),this.isChecked=!!(null===(e=this.itemClassificationValueWithDefaults)||void 0===e?void 0:e[this.attributeId]);const{invalid:a,errorMsg:r}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=a,this.errorMsg=r}render(){return(0,a.h)("div",{key:"fa2d13cb95395b2812e20b187d5b6f318232435b",class:"classification-checkbox"},(0,a.h)("calcite-label",{class:`trailer-0 flex-1 ${this.labelClass}`,key:this.attributeId,layout:"inline"},(0,a.h)("calcite-checkbox",{key:"a121aa67c4107c955f34686d7cef46c66e35f345",id:this.attributeId,name:this.attributeLabel,scale:"m",checked:this.isChecked,onCalciteCheckboxChange:this.toggleAttribute,disabled:this.isSaving,required:this.attributeIsRequired,status:this.invalid?"invalid":"idle"}),this.attributeLabel,this.invalid&&(0,a.h)("calcite-input-message",{key:"140d7831d9e0cccd688af11b4095247983f31f5b",icon:"exclamation-mark-triangle",status:"invalid"},this.errorMsg)))}static get watchers(){return{inputData:["loadAttributes"]}}};l.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const n=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.onDateChange=t=>{const i=t.currentTarget.value;i?(this.itemClassificationValue[this.attributeId]=i,this.itemClassificationValueWithDefaults[this.attributeId]=i):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e,a;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.labelClass=this.attributeId,this.attributeLabel=null===(t=this.attributeValue)||void 0===t?void 0:t.label,this.attributeIsRequired=!!(null===(i=this.attributeValue)||void 0===i?void 0:i.isRequired),this.currentInputValue=null!==(a=null===(e=this.itemClassificationValueWithDefaults)||void 0===e?void 0:e[this.attributeId])&&void 0!==a?a:(0,s.u)(s.i.itemClassificationSchema.attributes[this.attributeId]);const{invalid:r,errorMsg:l}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=r,this.errorMsg=l}disconnectedCallback(){const{itemClassificationValue:t}=s.i;delete t[this.attributeId],s.i.itemClassificationValue=t}render(){return(0,a.h)("div",{key:"8d9e7f3eee8770892051b45ef602a4973fc33002",class:"classification-date"},(0,a.h)("calcite-label",{class:`trailer-0 flex-1 ${this.labelClass}`,key:this.attributeId},this.attributeLabel,(0,a.h)("div",{key:"9d355436e1f4872601f9f21b54c854e4f54a9e13",class:this.labelClass},(0,a.h)("calcite-input-date-picker",{key:"2f4fd34b439844322a44c77e22a4a085088ba0a8",id:this.attributeId,name:this.attributeLabel,value:this.currentInputValue,onCalciteInputDatePickerChange:this.onDateChange,disabled:this.isSaving,status:this.invalid?"invalid":"idle",required:this.attributeIsRequired,overlayPositioning:"fixed"}),this.invalid&&(0,a.h)("calcite-input-message",{key:"9748d4f68ef09dccb3da6ba897f141f15a677a8b",icon:"exclamation-mark-triangle",status:"invalid"},this.errorMsg))))}static get watchers(){return{inputData:["loadAttributes"]}}};n.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const o=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.renderCombobox=()=>{let t=[];for(const i in this.valueExpressionResult){const e=this.valueExpressionResult[i],s=(0,a.h)("calcite-combobox-item",{textLabel:i,value:i,key:i},e.map((({label:t,value:i})=>{var e;const s=!!(null===(e=this.selectedValues)||void 0===e?void 0:e.includes(i));return(0,a.h)("calcite-combobox-item",{key:t,textLabel:t,value:i,selected:s})})));t=[...t,structuredClone(s)]}return t},this.onAttributesChange=t=>{const i=t.currentTarget.selectedItems.length,e=t.currentTarget.value;0===i?(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]):1===i?(this.itemClassificationValue[this.attributeId]=[e],this.itemClassificationValueWithDefaults[this.attributeId]=[e]):i>1&&(this.itemClassificationValue[this.attributeId]=[...e],this.itemClassificationValueWithDefaults[this.attributeId]=[...e]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.valueExpressionResult=this.inputData.valueExpressionResult,this.attributeIsRequired=!!(null===(t=this.attributeValue)||void 0===t?void 0:t.isRequired),this.attributeLabel=null===(i=this.attributeValue)||void 0===i?void 0:i.label,this.selectedValues=this.itemClassificationValueWithDefaults[this.attributeId];const{invalid:e,errorMsg:a}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=e,this.errorMsg=a}render(){return(0,a.h)("div",{key:"e4c129e70a91fc98a296f5d5bb7fe99f81654fc0",class:"classification-multiple-group-select"},(0,a.h)("calcite-label",{key:this.attributeId,id:`${this.attributeId}-label`},this.attributeLabel,(0,a.h)("calcite-combobox",{key:"0ffed49a2cd41a13c11910e1b76b7d56a7c57fc8",id:this.attributeId,label:this.i18n.multipleSelectionLabel,selectionMode:"multiple",scale:"m",onCalciteComboboxChange:this.onAttributesChange,disabled:this.isSaving,required:this.attributeIsRequired,placeholder:this.i18n.selectOptions,overlayPositioning:"fixed",status:this.invalid?"invalid":"idle",validationIcon:this.invalid?"exclamation-mark-triangle":"",validationMessage:this.invalid?this.errorMsg:""},this.renderCombobox())))}static get watchers(){return{inputData:["loadAttributes"]}}};o.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const c=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.renderCombobox=()=>{var t;return Array.isArray(this.valueExpressionResult)?null===(t=this.valueExpressionResult)||void 0===t?void 0:t.map((({label:t,value:i})=>{var e;const s=!!(null===(e=this.selectedValues)||void 0===e?void 0:e.includes(i));return(0,a.h)("calcite-combobox-item",{id:t,selected:s,key:t,value:i,textLabel:t})})):[]},this.onAttributesChange=t=>{const i=t.currentTarget.selectedItems.length,e=t.currentTarget.value;0===i?(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]):1===i?(this.itemClassificationValue[this.attributeId]=[e],this.itemClassificationValueWithDefaults[this.attributeId]=[e]):i>1&&(this.itemClassificationValue[this.attributeId]=[...e],this.itemClassificationValueWithDefaults[this.attributeId]=[...e]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e,a,r,l;this.attributeValue=null===(t=this.inputData)||void 0===t?void 0:t.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=null===(i=this.inputData)||void 0===i?void 0:i.attributeId,this.valueExpressionResult=null===(e=this.inputData)||void 0===e?void 0:e.valueExpressionResult,this.attributeIsRequired=!!(null===(a=this.attributeValue)||void 0===a?void 0:a.isRequired),this.attributeLabel=null===(r=this.attributeValue)||void 0===r?void 0:r.label,this.selectedValues=null===(l=this.itemClassificationValueWithDefaults)||void 0===l?void 0:l[this.attributeId];const{invalid:n,errorMsg:o}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=n,this.errorMsg=o}render(){return(0,a.h)("div",{key:"1be1c480e71c5ffd7411c89318807f752668e700",class:"classification-multiple-select"},(0,a.h)("calcite-label",{key:this.attributeId,id:`${this.attributeId}-label`},this.attributeLabel,(0,a.h)("calcite-combobox",{key:"f0fcc3750ef73f72ed58df1af83e04b05041b756",id:this.attributeId,label:this.i18n.multipleSelectionLabel,overlayPositioning:"fixed",selectionMode:"multiple",scale:"m",onCalciteComboboxChange:this.onAttributesChange,disabled:this.isSaving,required:this.attributeIsRequired,placeholder:this.i18n.selectOptions,status:this.invalid?"invalid":"idle",validationIcon:this.invalid?"exclamation-mark-triangle":"",validationMessage:this.invalid?this.errorMsg:""},this.renderCombobox())))}static get watchers(){return{inputData:["loadAttributes"]}}};c.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const u=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.renderCombobox=()=>{var t;return Array.isArray(this.valueExpressionResult)?null===(t=this.valueExpressionResult)||void 0===t?void 0:t.map((({label:t,value:i})=>{var e;const s=!!(null===(e=this.selectedValues)||void 0===e?void 0:e.includes(i));return(0,a.h)("calcite-combobox-item",{id:t,selected:s,key:t,value:i,textLabel:t})})):[]},this.onAttributeChange=t=>{const i=t.currentTarget.value;i?(this.itemClassificationValue[this.attributeId]=i,this.itemClassificationValueWithDefaults[this.attributeId]=i):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.valueExpressionResult=this.inputData.valueExpressionResult,this.attributeIsRequired=!!(null===(t=this.attributeValue)||void 0===t?void 0:t.isRequired),this.attributeLabel=null===(i=this.attributeValue)||void 0===i?void 0:i.label,this.selectedValues=this.itemClassificationValueWithDefaults[this.attributeId];const{invalid:e,errorMsg:a}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=e,this.errorMsg=a}render(){return(0,a.h)("div",{key:"f5056576fa921b704ce6389c7148a4f2875c074b",class:"classification-single-select"},(0,a.h)("calcite-label",{key:this.attributeId,id:`${this.attributeId}-label`},this.attributeLabel,(0,a.h)("calcite-combobox",{key:"128d5f325fd7fe1b57ef161d41ea709bc361ebd0",id:this.attributeId,label:this.i18n.singleSelectionLabel,selectionMode:"single",scale:"m",onCalciteComboboxChange:this.onAttributeChange,disabled:this.isSaving,required:this.attributeIsRequired,placeholder:this.i18n.selectAnOption,overlayPositioning:"fixed",status:this.invalid?"invalid":"idle",validationIcon:this.invalid?"exclamation-mark-triangle":"",validationMessage:this.invalid?this.errorMsg:""},this.renderCombobox())))}static get watchers(){return{inputData:["loadAttributes"]}}};u.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const h=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.getAttributeType=t=>{const i=null==t?void 0:t.type;return"string"===i?"text":["integer","float"].includes(i)?"number":"date"===i?"date":"text"},this.onAttributeChange=t=>{const i=t.currentTarget.value;i?(this.itemClassificationValue[this.attributeId]=i,this.itemClassificationValueWithDefaults[this.attributeId]=i):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e,a,r;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.labelTooltip=null===(t=this.attributeValue)||void 0===t?void 0:t.labelTooltip,this.labelClass=this.attributeId,this.attributeLabel=null===(i=this.attributeValue)||void 0===i?void 0:i.label,this.attributeDesc=null===(e=this.attributeValue)||void 0===e?void 0:e.description,this.attributeIsRequired=!!(null===(a=this.attributeValue)||void 0===a?void 0:a.isRequired),this.currentInputValue=null===(r=this.itemClassificationValueWithDefaults)||void 0===r?void 0:r[this.attributeId],this.attributeType=this.getAttributeType(this.attributeValue);const{invalid:l,errorMsg:n}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=l,this.errorMsg=n}render(){return(0,a.h)("div",{key:"413e8d4dfd982282c53c017e4b28554b3e7eaffd",class:"classification-textbox"},(0,a.h)("calcite-label",{class:`trailer-0 flex-1 ${this.labelClass}`,key:this.attributeId,id:`${this.attributeId}-label`},(0,a.h)("arcgis-item-classification-attribute-tooltip",{key:"bc57e4a4195faf82d907168ab3438b0157417d04",attributeId:this.attributeId,label:this.attributeLabel,labelTooltip:this.labelTooltip}),(0,a.h)("div",{key:"003471beb91d3527292a7441e917d9d776591ea4",class:this.labelClass},(0,a.h)("calcite-input",{key:"8b74c2dddb0e1d34e9e7b7e878a170c0d23b47d6",id:this.attributeId,name:this.attributeLabel,scale:"m",type:this.attributeType,value:this.currentInputValue,numberButtonType:"vertical",placeholder:this.attributeDesc,onCalciteInputInput:this.onAttributeChange,disabled:this.isSaving,status:this.invalid?"invalid":"idle",required:this.attributeIsRequired}),this.invalid&&(0,a.h)("calcite-input-message",{key:"9ebef8edca01b4a46da3d2745f5667a2d3b106b1",icon:"exclamation-mark-triangle",status:"invalid"},this.errorMsg))))}static get watchers(){return{inputData:["loadAttributes"]}}};h.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const d=class{constructor(t){(0,a.r)(this,t),this.classificationTypeChange=(0,a.c)(this,"classificationTypeChange",7),this.classificationValueChange=(0,a.c)(this,"classificationValueChange",7),this.i18n=void 0,this.primaryAttribute=void 0,this.classificationCategoryArr=void 0,this.classificationType=void 0}getClassificationType(t){return this.classificationCategoryArr.find((({value:i})=>i===t))}changeClassificationCategory(t){const i=t.currentTarget;if(i.value){const t=i.value,e=this.getClassificationType(t);this.classificationTypeChange.emit(e),this.classificationValueChange.emit(e.value)}}configureClassificationCategoryMenu(){return this.classificationCategoryArr.map((({value:t})=>(0,a.h)("calcite-combobox-item",{id:t,selected:t===this.classificationType.value,key:t,value:t,textLabel:t})))}getPrimaryAttributeLabels(){const{itemClassificationSchema:t}=s.i;return t.attributes[this.primaryAttribute]}render(){const{label:t,labelTooltip:i}=this.getPrimaryAttributeLabels();return(0,a.h)("div",{key:"e0a6d4fb1920ef017fe7b9fc9fec031884043b37",class:"item-classification-category"},(0,a.h)("calcite-label",{key:"8c08e58416e22159ed8720cecc326115d9b8ee5c",class:"classification-category-label"},(0,a.h)("arcgis-item-classification-attribute-tooltip",{key:"abc79d272f7653665d0392d95fb848b6ac9f9280",attributeId:this.primaryAttribute,label:t,labelTooltip:i}),(0,a.h)("calcite-combobox",{key:"4507e19bf6cdf5a409bb63264551a2fb30e5cdf4",id:"classification-category",label:this.i18n.itemClassificationCategoryLabel,selectionMode:"single",scale:"m",onCalciteComboboxChange:t=>this.changeClassificationCategory(t),overlayPositioning:"fixed"},this.configureClassificationCategoryMenu())))}};d.style="";const b=class{constructor(t){(0,a.r)(this,t),this.attributeCategoryChange=(0,a.c)(this,"attributeCategoryChange",7),this.arcgisItemClassificationContentDisplayNotification=(0,a.c)(this,"arcgisItemClassificationContentDisplayNotification",7),this.attributeElementsCopy={},this.getFormDisplayOrder=t=>s.i.itemClassificationSchema.layouts.default.layoutElements[t].formDisplayOrder,this.createUIElements=async(t,i,e)=>{var a;let r;const{itemClassificationSchema:l}=s.i;if(e){const e=(null===(a=l.attributes[t])||void 0===a?void 0:a.uiElement)||"text",n=structuredClone(this.itemClassificationValue),o=structuredClone(this.itemClassificationValueWithDefaults),{classificationErrors:c}=s.i;if(e.includes("-select"))try{const a=await(0,s.w)(t,l,o);"multi-select"===e?r=this.renderMultiSelectElement({attributeValue:i,attributeId:t,itemClassificationValue:n,itemClassificationValueWithDefaults:o,classificationErrors:c,valueExpressionResult:a}):["multi-grouped-select","multi-grouped-select-nested"].includes(e)?r=this.renderGroupedMultiSelectElement({attributeValue:i,attributeId:t,itemClassificationValue:n,itemClassificationValueWithDefaults:o,classificationErrors:c,valueExpressionResult:a}):"single-select"===e&&(r=this.renderSingleSelectElement({attributeValue:i,attributeId:t,itemClassificationValue:n,itemClassificationValueWithDefaults:o,classificationErrors:c,valueExpressionResult:a}))}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorType:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message})}else"checkbox"===e?r=this.renderCheckbox({attributeValue:i,attributeId:t,itemClassificationValue:n,itemClassificationValueWithDefaults:o,classificationErrors:c}):"text"===e?r=this.renderInputTextBox({attributeValue:i,attributeId:t,itemClassificationValue:n,itemClassificationValueWithDefaults:o,classificationErrors:c}):"date"===e&&(r=this.renderDatePickerElement({attributeValue:i,attributeId:t,itemClassificationValue:n,itemClassificationValueWithDefaults:o,classificationErrors:c}));this.attributeElementsCopy=Object.assign(Object.assign({},this.attributeElementsCopy),{[t]:r}),this.attributeElements=structuredClone(this.attributeElementsCopy)}},this.renderGroupedMultiSelectElement=t=>(0,a.h)("arcgis-item-classification-input-grouped-multiple-selection",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderSingleSelectElement=t=>(0,a.h)("arcgis-item-classification-input-single-selection",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderCheckbox=t=>(0,a.h)("arcgis-item-classification-input-checkbox",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderInputTextBox=t=>(0,a.h)("arcgis-item-classification-input-textbox",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderDatePickerElement=t=>(0,a.h)("arcgis-item-classification-input-date",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.switchCategoryTab=t=>{this.attributeCategoryChange.emit(t.currentTarget.selectedTitle.id)},this.renderCategoryTabTitles=()=>{var t;return null===(t=s.i.itemClassificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab-title",{selected:this.attributeCategory===t,key:t,id:t},t,(0,s.x)(t,s.i.classificationErrors)&&(0,a.h)(a.F,null,"\xa0\xa0",(0,a.h)("calcite-icon",{class:"attribute-error-icon",icon:"exclamation-mark-triangle",scale:"s"})))))},this.renderCategoryTabContent=()=>{var t;return null===(t=s.i.itemClassificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab",{class:"classification-tab",selected:this.attributeCategory===t,key:`tab_${t}`,id:`tab-${t}`},this.renderClassificationContent(t))))},this.renderClassificationContent=t=>{var i,e;return null===(e=null===(i=this.classificationContentArr)||void 0===i?void 0:i[t])||void 0===e?void 0:e.map(((i,e)=>(0,a.h)("div",{id:`${t}_${e}`,key:`${t}_${e}`,class:"Default"!==t?"classification-input-element":""},i)))},this.i18n=void 0,this.primaryAttribute=void 0,this.itemClassificationValue=void 0,this.itemClassificationValueWithDefaults=void 0,this.attributeCategory=void 0,this.hasError=void 0,this.isSaving=void 0,this.attributeElements=null,this.classificationContentArr=null}componentWillLoad(){this.createClassificationContent()}errorCheckingHandler(){this.createClassificationContent()}async createClassificationContent(){var t;this.attributeElementsCopy={};const{itemClassificationSchema:i}=s.i,e=Object.entries(i.attributes).sort((([t],[i])=>this.getFormDisplayOrder(t)-this.getFormDisplayOrder(i)));for(let a in e){const r=e[a][0],l=e[a][1];if(null===(t=i.layouts.default.layoutElements)||void 0===t?void 0:t[r])try{const t=await(0,s.y)(r,i,this.itemClassificationValueWithDefaults);this.createUIElements(r,l,t)}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorType:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message});break}}}handleAttributeElementsChange(){const t=t=>{const i={};this.attributeCategory&&t.attributeCategories.forEach((t=>i[t]=[])),i.Default=[];const e=Object.entries(null==t?void 0:t.attributes).sort((([t],[i])=>this.getFormDisplayOrder(t)-this.getFormDisplayOrder(i)));null==e||e.forEach((([t,e])=>{var a;const s=this.attributeElements[t];if(s&&t!==this.primaryAttribute){const t=(null==e?void 0:e.attributeCategory)||"Default";null===(a=i[t])||void 0===a||a.push(s)}})),this.classificationContentArr=structuredClone(i)};this.attributeElements&&t(s.i.itemClassificationSchema)}renderMultiSelectElement(t){return(0,a.h)("arcgis-item-classification-input-multiple-selection",{i18n:this.i18n,inputData:t,isSaving:this.isSaving})}render(){var t;return(0,a.h)("div",{key:"3bd651164b1a0a95539a9adf3dfaab5acbc8a604",class:"item-classification-content"},this.attributeCategory&&!(null===(t=this.classificationContentArr)||void 0===t?void 0:t.Default.length)?(0,a.h)("div",{class:"item-classification-tabs"},(0,a.h)("calcite-tabs",null,(0,a.h)("calcite-tab-nav",{slot:"title-group",onCalciteTabChange:this.switchCategoryTab},this.renderCategoryTabTitles()),this.renderCategoryTabContent())):this.renderClassificationContent("Default"))}static get watchers(){return{hasError:["errorCheckingHandler"],itemClassificationValueWithDefaults:["createClassificationContent"],attributeElements:["handleAttributeElementsChange"]}}};b.style=".classification-input-element{margin:0.25rem}.attribute-error-icon{--calcite-ui-icon-color:var(--calcite-color-status-danger)}";const f=class{constructor(t){(0,a.r)(this,t),this.i18n=void 0,this.primaryAttribute=void 0,this.currSelectionText=void 0}getClassificationBgmColor(t){const{itemClassificationValue:i,itemClassificationSchema:e}=s.i,a="UNCLASSIFIED"===(null==i?void 0:i[this.primaryAttribute])?null==e?void 0:e.classificationMetadata.defaultValue:null==i?void 0:i[this.primaryAttribute],r=null==e?void 0:e.classificationMetadata.classificationValueProperties.find((({value:t})=>t==a));return null==r?void 0:r[t]}render(){return(0,a.h)("div",{key:"2410da3cccc5bf12d7f31aa1f7aeac9dcb456543",class:"item-classification-info"},(0,a.h)("div",{key:"051e7a47b62f064d5e055d272bb52e544efeeed4",id:"classification-info-label"},this.i18n.currentSelections),(0,a.h)("div",{key:"1bb65a31896a93126fd7ff00427d798d7546a608",id:"classification-info","aria-label":this.i18n.currentSelections,style:{backgroundColor:this.getClassificationBgmColor("backgroundColor"),color:this.getClassificationBgmColor("textColor")}},(0,a.h)("p",{key:"4961e45ab852d1822c9e40632167f712d5ff60fb",class:"classification-info-desc"},this.currSelectionText)))}};f.style=".classification-info-desc{word-wrap:break-word;margin-top:0;padding:0.35rem}";const m=class{constructor(t){(0,a.r)(this,t),this.arcgisItemClassificationNotificationClose=(0,a.c)(this,"arcgisItemClassificationNotificationClose",7),this.closeModal=()=>{this.arcgisItemClassificationNotificationClose.emit(!1)},this.i18n=void 0,this.alertIndicator=void 0}render(){return(0,a.h)("calcite-alert",{key:"85c4704f87098b77c0b362cefcc3d521b9a5da69",class:"classification-notification-handler",icon:this.alertIndicator.alertIndicatorIcon,label:this.i18n.classificationNotificationHandler,scale:"m",autoClose:!0,autoCloseDuration:"medium",open:this.alertIndicator.alertIndicatorActive,kind:this.alertIndicator.alertIndicatorType,"aria-hidden":!this.alertIndicator.alertIndicatorActive,onCalciteAlertClose:this.closeModal},(0,a.h)("div",{key:"a550e4d13a1ea469545d352eca37c972e2b937f8",slot:"message"},this.alertIndicator.alertIndicatorInfo))}};m.style=".classification-notification-handler{position:absolute;z-index:9000}"},98034:(t,i,e)=>{e.d(i,{e:()=>r,l:()=>l});var a,s=e(99004),r={exports:{}};a=r.exports,s.c,function(t){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},e="4.24",a="next";function s(t){if(t.toLowerCase()===a)return a;var i=t&&t.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function r(t){return void 0===t&&(t=e),"https://js.arcgis.com/".concat(t,"/")}function l(t){void 0===t&&(t=e);var i=r(t),l=s(t);if(l!==a&&3===l.major){var n=l.minor<=10?"js/":"";return"".concat(i).concat(n,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}function n(t){var i=document.createElement("link");return i.rel="stylesheet",i.href=t,i}function o(t,i){if(i){var e=document.querySelector(i);e.parentNode.insertBefore(t,e)}else document.head.appendChild(t)}function c(t){return document.querySelector('link[href*="'.concat(t,'"]'))}function u(t){return!t||s(t)?l(t):t}function h(t,i){var e=u(t),a=c(e);return a||o(a=n(e),i),a}var d={};function b(t){var i=document.createElement("script");return i.type="text/javascript",i.src=t,i.setAttribute("data-esri-loader","loading"),i}function f(t,i,e){var a;e&&(a=m(t,e));var s=function(){i(t),t.removeEventListener("load",s,!1),a&&t.removeEventListener("error",a,!1)};t.addEventListener("load",s,!1)}function m(t,i){var e=function(a){i(a.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",e,!1)};return t.addEventListener("error",e,!1),e}function p(t){void 0===t&&(t={}),d=t}function g(){return document.querySelector("script[data-esri-loader]")}function v(){var t=window.require;return t&&t.on}function C(t){void 0===t&&(t={});var e={};[d,t].forEach((function(t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}));var a=e.version,s=e.url||r(a);return new i.Promise((function(t,i){var r=g();if(r){var l=r.getAttribute("src");l!==s?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):v()?t(r):f(r,t,i)}else if(v())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var n=e.css;n&&h(!0===n?a:n,e.insertCssBefore),f(r=b(s),(function(){r.setAttribute("data-esri-loader","loaded"),t(r)}),i),document.body.appendChild(r)}}))}function y(t){return new i.Promise((function(i,e){var a=window.require.on("error",e);window.require(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.remove(),i(t)}))}))}function I(t,i){if(void 0===i&&(i={}),v())return y(t);var e=g(),a=e&&e.getAttribute("src");return!i.url&&a&&(i.url=a),C(i).then((function(){return y(t)}))}t.utils=i,t.loadModules=I,t.getScript=g,t.isLoaded=v,t.loadScript=C,t.setDefaultOptions=p,t.loadCss=h,Object.defineProperty(t,"__esModule",{value:!0})}(a);const l=async(t,i)=>(await r.exports.loadModules(t,i)).map((t=>t.__esModule&&t.default?t.default:t))}}]);