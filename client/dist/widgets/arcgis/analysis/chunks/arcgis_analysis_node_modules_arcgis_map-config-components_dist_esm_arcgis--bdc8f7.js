/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--bdc8f7.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--bdc8f7"],{40035:(e,t,i)=>{i.r(t),i.d(t,{arcgis_smart_mapping_raster_slider:()=>o});var s=i(28614),a=(i(68180),i(99592)),l=i(33101),n=i(58325),r=i(97127),d=i(42444);i(71480);const o=class{constructor(e){(0,s.r)(this,e),this.manager=(0,r.u)(this),this.watchHandles=[],this.smartMappingState=(0,l.u)(),this.rendererType=void 0,this.type=void 0,this.showThumbLabel=!1,this.editThumbLabel=!1,this.min=void 0,this.max=void 0,this.values=void 0,this.precision=void 0,this.minLabel=void 0,this.maxLabel=void 0}componentDidLoad(){(0,d.i)(this.el.shadowRoot,this.smartMappingState.modules.esriConfig)}componentWillUpdate(){this.slider.precision=this.precision}render(){const{modules:e}=this.smartMappingState;if(this.slider){const e={min:this.min,max:this.max,values:this.values,precision:this.precision};this.minLabel&&this.maxLabel&&(e.labelFormatFunction=e=>e===this.min?this.minLabel:e===this.max?this.maxLabel:`${e}`),this.slider.set(e)}else{const t={min:this.min,max:this.max,values:this.values,precision:this.precision,visibleElements:{labels:this.showThumbLabel,rangeLabels:!0},labelInputsEnabled:this.editThumbLabel};this.minLabel&&this.maxLabel&&(t.labelFormatFunction=e=>e===this.min?this.minLabel:e===this.max?this.maxLabel:`${e}`),this.watchHandles[0]?.remove(),this.watchHandles=[],this.slider=new e.Slider(t)}return(0,s.h)("div",{key:"1832c6f2f8964cf9cae5c694903a78e1a593fa84",class:"slider slider-bottom-label "+(this.showThumbLabel?"slider-with-thumb":""),ref:e=>{e&&this.afterRasterSliderCreate(e)}})}afterRasterSliderCreate(e){if(this.slider.container)e.append(this.slider.container);else{const t=document.createElement("div");e.append(t),this.slider.container=t}this.createRasterSliderChangeEvents()}createRasterSliderChangeEvents(){this.watchHandles[0]?.remove(),this.watchHandles=[],this.watchHandles.push(this.slider.watch("values",(0,n.d)((()=>"flow"===this.rendererType?this.handleFlowSliderValueChange():"vector-field"===this.rendererType?this.handleVectorFieldSliderValueChange():this.handleShadedReliefSliderValueChange()),300)))}handleFlowSliderValueChange(){const{smartMappingState:e}=this,t=(0,a.R)(e);switch(this.type){case"speed":t.flowSpeed=Math.max(this.slider.values[0],.1);break;case"density":t.density=this.slider.values[0];break;case"trail-length":t.trailLength=.75*this.slider.values[0]}(0,a.Q)(e)}handleVectorFieldSliderValueChange(){const{smartMappingState:e}=this,t=(0,a.R)(e),i=this.slider.values[0]/100;t.symbolTileSize=Math.floor(1/i),(0,a.Q)(e)}handleShadedReliefSliderValueChange(){const{smartMappingState:e}=this;(0,a.R)(e)[this.type]=this.slider.values[0],(0,a.Q)(e)}get el(){return(0,s.g)(this)}};o.style=".slider{height:60px;background-color:transparent;position:relative;width:100%;margin:0 auto 0 auto}.esri-slider__content{margin-bottom:40px}.slider-with-thumb{margin-top:10px;width:90%}.slider-bottom-label .esri-slider__max,.slider-bottom-label .esri-slider__min{width:fit-content;position:absolute;bottom:8px}.slider-bottom-label .esri-slider__max{right:0;text-align:right}.slider-bottom-label .esri-slider__min{left:0;text-align:left}"},58325:(e,t,i)=>{i.d(t,{a:()=>a,d:()=>s,t:()=>l});const s=(e,t)=>{let i,s="idle";const a=async(...a)=>await new Promise((l=>{switch(s){case"flushed":s="idle",i?(clearTimeout(i),l(e(...a))):l(null);break;case"invoked":clearTimeout(i),s="idle",l(e(...a));break;case"cancelled":clearTimeout(i),s="idle",l(null);break;default:i&&clearTimeout(i),s="pending",i=setTimeout((()=>{s="idle",l(e(...a))}),t)}}));return a.flush=async function(...e){return s="flushed",await a(...e)},a.invoke=async function(...e){return s="invoked",await a(...e)},a.cancel=async function(...e){return s="cancelled",await a(...e)},a.getStatus=function(){return s},a},a=(e,t)=>{let i;return async(...s)=>await new Promise((a=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,a(e(...s))}),t))}))};function l(e){return new Promise((t=>setTimeout(t,e)))}},33101:(e,t,i)=>{i.d(t,{c:()=>l,u:()=>n});var s=i(97127),a=(i(68180),i(99592));function l(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=a.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.hideSvgUploadSymbols=!1,e.hideAddStyles=!1,e.rasterInfo=void 0}function n(){const e=(0,s.r)(),t=e;e.manager.onLoad((()=>{t.smartMappingState=function(e,t){const i=r.get(e);if(i)return i;const a=(0,s.c)(e,t);if(a&&"store"in a)return r.set(e,a.store),a.store;return null}(e.el,"arcgis-smart-mapping").state}))}const r=new WeakMap},42444:(e,t,i)=>{function s(e,t){if(!e||!t)return;let i=t.assetsPath;i.endsWith("/")||(i+="/"),e?.firstElementChild?.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${i}esri/themes/light/main.css" />`)}i.d(t,{i:()=>s})}}]);