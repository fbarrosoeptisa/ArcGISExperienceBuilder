/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0bcff5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0bcff5"],{99004:(e,t,n)=>{n.d(t,{c:()=>r,g:()=>i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},40554:(e,t,n)=>{n.r(t),n.d(t,{arcgis_raster_multidimensional_variable_info:()=>s});var r=n(19564),i=n(98034),o=n(26756),a=n(89261);n(99004),n(91102),n(73807);const s=class{constructor(e){(0,r.r)(this,e),this.arcgisRasterMultidimensionalVariableInfoDismiss=(0,r.c)(this,"arcgisRasterMultidimensionalVariableInfoDismiss",7),this.variableInfo=void 0,this.popoverProps=void 0,this.showStatistics=!1,this.showDimensionSummary=!1,this.strings=void 0,this.activeDimensionName=void 0,this.isOpen=!0}watchVariableInfo(e,t){if(this.dimensionNode&&t){const e=this.dimensionNode.querySelector("calcite-accordion-item[expanded]");if(e){const n=e.dataset.dimensionIndex,r=t.dimensions[Number(n)];this.activeDimensionName=r.name}else this.activeDimensionName=void 0}else this.activeDimensionName=void 0}async componentWillLoad(){[this.intl]=await(0,i.l)(["esri/intl"]),this.unitMessages=await this.intl.fetchMessageBundle("esri/core/t9n/Units")}async setFocus(e){var t;"dismiss-button"!==e?this.hostElement.focus():await(null===(t=this.panelElement)||void 0===t?void 0:t.setFocus())}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}render(){var e,t,n;const{popoverProps:i,variableInfo:o}=this,s=`${i.refElement.getBoundingClientRect().width}px`,l=o.unit?`${o.name} (${o.unit})`:o.name,c=this.showDimensionSummary?o.dimensions.map((e=>{var t,n;return`${e.name}: ${null!==(n=null===(t=e.values)||void 0===t?void 0:t.length)&&void 0!==n?n:""}`})).join(", "):void 0,d=(0,a.g)(this.hostElement);return(0,r.h)(r.H,{key:"ee93000fa4d86b1fe3b07ef5a56ed9035c7cade2",class:"js-app-flyout"},(0,r.h)("calcite-popover",{key:"979972fd2a519d332ceca3c26d640ca862c68fa5",dir:d,placement:null!==(e=i.placement)&&void 0!==e?e:"leading-start",open:this.isOpen,pointerDisabled:!0,referenceElement:i.refElement,offsetDistance:null!==(t=i.offsetDistance)&&void 0!==t?t:0,offsetSkidding:null!==(n=i.offsetSkidding)&&void 0!==n?n:0,triggerDisabled:!0,label:l,class:"popover",style:{width:s},ref:e=>this.popoverNode=e},(0,r.h)("calcite-panel",{key:"d62678b9d9e2e08db2857f550f93291b1e3b7a6a",ref:e=>this.panelElement=e,heading:l,description:c,style:{width:`${i.popoverWidth}px`},class:{panel:!0,[a.C.rtl]:"rtl"===d},closable:!0,onCalcitePanelClose:()=>this.arcgisRasterMultidimensionalVariableInfoDismiss.emit()},this.renderGeneralInfo(),this.renderVariableInfoBlock())))}renderVariableInfoBlock(){return(0,r.h)("calcite-accordion",{class:"info-section-container",selectionMode:"single",ref:e=>this.dimensionNode=e},this.showStatistics&&this.renderStatistics(),this.renderDimensions())}renderGeneralInfo(){const e=this.strings.multidimensionalInfo,{unit:t,description:n}=this.variableInfo,r="colormap"in this.variableInfo&&!!this.variableInfo.colormap;return this.renderInfoSection([{name:e.description,description:n||e.none},{name:e.unit,description:t||e.none},{name:e.colormap,description:r?e.present:e.none}],void 0,"info-general")}renderInfoSection(e,t,n){return(0,r.h)("div",{class:n},(0,r.h)("table",{class:"table table-bordered"},t&&(0,r.h)("caption",null,t),e.map((({name:e,description:t})=>(0,r.h)("tr",null,(0,r.h)("td",null,e),(0,r.h)("td",null,t))))))}renderStatistics(){const{name:e,statistics:t}=this.variableInfo;if(!(null==t?void 0:t.length))return null;const n=this.strings.multidimensionalInfo,i=this._formatStats(t.map((({min:e})=>e))),o=this._formatStats(t.map((({max:e})=>e))),a=t.map((({avg:e})=>e)),s=t.map((({stddev:e})=>e)),l=a.some((e=>null==e))?"":this._formatStats(a),c=s.some((e=>null==e))?"":this._formatStats(s);return(0,r.h)("calcite-accordion-item",{"icon-position":"start",heading:n.statistics,key:`${e}-stats}`,class:"info-section"},this.renderInfoSection([{name:n.minimum,description:i},{name:n.maximum,description:o},{name:n.mean,description:l},{name:n.stddev,description:c}]))}renderDimensions(){const{multidimensionalInfo:e}=this.strings,{name:t,dimensions:n}=this.variableInfo;return n.map(((n,i)=>{const{name:a,values:s,interval:l,intervalUnit:c,hasRegularIntervals:d,extent:u}=n;let m="StdTime"===a?e.stdTimeDimension:"StdZ"===a?e.stdZDimension:e.generalDimension.replace("${dimensionName}",a);m+=s?` (${s.length})`:"";const f=c?this._formatUnit(c):"",h=l?`${l} (${d?e.regular:e.irregular})`:"",v=`${u?(0,o.f)(u[0],n,{intl:this.intl}):""} - ${u?(0,o.f)(u[1],n,{intl:this.intl}):""}`;return(0,r.h)("calcite-accordion-item",{"icon-position":"start",expanded:a===this.activeDimensionName,heading:m,"data-dimension-index":i,key:`${t}-${a}`,class:"info-section"},this.renderInfoSection([{name:e.interval,description:h},{name:e.intervalUnit,description:f},{name:e.extent,description:v}]))}))}_formatStats(e){return e.map((e=>this.intl.formatNumber(e))).join("; ")}_formatUnit(e){var t,n,r;if(e){const i=e.replace("esri","");e=i.toLowerCase(),e=null!==(r=null!==(t=this.strings.time[e])&&void 0!==t?t:null===(n=this.unitMessages.units[e])||void 0===n?void 0:n.plural)&&void 0!==r?r:i}return null!=e?e:""}get hostElement(){return(0,r.d)(this)}static get watchers(){return{variableInfo:["watchVariableInfo"]}}};s.style=":host{display:flex;flex:1 1 auto}:host .accordion-item-content,:host .accordion-item-header{--calcite-accordion-item-border:var(--calcite-color-transparent)}.info-section-container{border:none;--calcite-color-border-2:var(--calcite-color-transparent)}.info-section{padding-bottom:0.5rem;overflow-y:auto;--calcite-accordion-item-border:var(--calcite-color-transparent);background-color:var(--calcite-color-foreground-1)}.info-general{padding:10px 15px;background-color:var(--calcite-color-foreground-1)}.popover{--calcite-popover-z-index:100}.table{width:100%;background-color:var(--calcite-color-foreground-1);border-collapse:collapse;border-spacing:0;border:1px solid var(--calcite-color-border-1);text-align:left;overflow:auto;font-size:var(--calcite-font-size--2);color:var(--calcite-color-text-1);line-height:1.5rem}.table caption{text-align:left;margin-top:5px}.table td{display:table-cell;vertical-align:inherit}.table td:first-child{width:30%}.table th,.table td{font-weight:300;padding:2px 5px;text-align:left}.table tr:nth-child(odd){background-color:var(--calcite-color-background)}.table.table-bordered tr{border-bottom:1px solid var(--calcite-color-border-1)}.table.table-bordered tr:last-child{border-bottom:none}.table.table-bordered tr td:first-child{border-right:1px solid var(--calcite-color-border-1)}.table.table-borderless{border:none}.arcgis--rtl .table.table-bordered tr td:first-child{border-left:1px solid var(--calcite-color-border-1);border-right:none}"},91102:(e,t,n)=>{n.d(t,{a:()=>l,c:()=>i,d:()=>c,g:()=>o,i:()=>a,s:()=>s});var r=n(73807);function i(e,t){return function e(n){return n?n.closest(t)||e(function(e){return e.getRootNode()}(n).host||null):null}(e)}function o(e){const t=i(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function a(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function s(e){return(new r.S).sanitize(e)}function l(e){const t=s(e),n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}function c(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},89261:(e,t,n)=>{n.d(t,{C:()=>s,a:()=>l,b:()=>d,f:()=>u,g:()=>a,l:()=>o});var r=n(98034),i=n(91102);const o=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function a(e){return function(e,t,n){const r=(0,i.c)(e,`[${t}]`);return r?r.getAttribute(t):n}(e,"dir","ltr")}const s={rtl:"arcgis--rtl"};async function l(e,t){const{api:n,type:i,places:o}=t||{};if(4===n){const[t]=await(0,r.l)(["esri/intl"]),n=t.convertNumberFormatToIntlOptions({places:o,style:i,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},n),{style:i}))}const[a]=await(0,r.l)(["dojo/number"]);return a.format(e,{type:i,places:o,pattern:null==t?void 0:t.pattern})}const c={};function d(e,t){let n=document.documentElement.lang;const r="bs"===n;if(r&&(n="hr"),t){const t=`${n}-full`,r={dateStyle:"full",timeStyle:"long"};return c[t]||(c[t]=new Intl.DateTimeFormat(n,r)),c[t].format(e)}const i={year:"numeric",month:r?"numeric":"short",day:"numeric"};return c[n]||(c[n]=new Intl.DateTimeFormat(n,i)),c[n].format(e)}function u(e,t,n,r){const i=null!=e?e:"en";let o=t.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(i))&&(o=t.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(i)&&(o=t.multiple),function(e,t,n=m){let r=e;try{r=e.replace(n,((e,n)=>function(e,t){const n=e.split(".").reduce(((e,t)=>e[t]),t);return"string"==typeof n||"number"==typeof n?n:e}(n,t).toString()))}catch(e){console.error(e)}return r}(o,Object.assign(Object.assign({},r),{number:n}))}const m=/\$\{([^}]+)\}/g},98034:(e,t,n)=>{n.d(t,{e:()=>o,l:()=>a});var r,i=n(99004),o={exports:{}};r=o.exports,i.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",r="next";function i(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function a(e){void 0===e&&(e=n);var t=o(e),a=i(e);if(a!==r&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function l(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||i(e)?a(e):e}function u(e,t){var n=d(e),r=c(n);return r||l(r=s(n),t),r}var m={};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function h(e,t,n){var r;n&&(r=v(e,n));var i=function(){t(e),e.removeEventListener("load",i,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",i,!1)}function v(e,t){var n=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function p(e){void 0===e&&(e={}),m=e}function b(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var n={};[m,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}));var r=n.version,i=n.url||o(r);return new t.Promise((function(e,t){var o=b();if(o){var a=o.getAttribute("src");a!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):g()?e(o):h(o,e,t)}else if(g())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=n.css;s&&u(!0===s?r:s,n.insertCssBefore),h(o=f(i),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function w(e){return new t.Promise((function(t,n){var r=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.remove(),t(e)}))}))}function I(e,t){if(void 0===t&&(t={}),g())return w(e);var n=b(),r=n&&n.getAttribute("src");return!t.url&&r&&(t.url=r),y(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=I,e.getScript=b,e.isLoaded=g,e.loadScript=y,e.setDefaultOptions=p,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(r);const a=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},26756:(e,t,n)=>{n.d(t,{a:()=>c,b:()=>l,c:()=>d,d:()=>h,e:()=>i,f:()=>s,g:()=>u,i:()=>m,m:()=>r,u:()=>f});const r=10.9,i=Number.MAX_VALUE-1;function o(e,t){const n=new Date(e),{useFriendlyIsoFormat:r,intl:i,format:o}=t;if(r&&i)return i.formatDate(n,Object.assign(Object.assign({},i.convertDateFormatToIntlOptions(null!=o?o:"short-date-long-time")),{timeZone:"UTC"}));let a=new Date(e).toISOString();return a=`${a.slice(0,a.indexOf("."))}Z`,a}function a(e,t,n="long"){const r=new Date(2022,9,10);return r.setMonth(e-1),t.formatDate(r,{month:n})}function s(e,t,n={}){var r,i,s;if(null==e)return"";const{intl:l,useRecurringTimeLabel:c}=n;if(c&&l&&!Array.isArray(e)){const n=null===(r=t.intervalUnit)||void 0===r?void 0:r.toLowerCase().trim(),i=function(e){return"StdTime"===e.name&&!!e.recurring}(t)&&("months"===n||"quarters"===n);if(i)return"months"===n?a(e,l):function(e,t){return`${a(3*(e-1)+1,t,"short")} - ${a(3*e,t,"short")}`}(e,l)}const d=null===(i=t.values)||void 0===i?void 0:i[t.values.length-1];if(n.useStartOrEndForRangedValue&&Array.isArray(e)&&2===e.length&&Array.isArray(d)){const t=e.join("-")===d.join("-");e=t?e[1]:e[0]}if(!m(t))return Array.isArray(e)?e.map((e=>{var t;return null!==(t=null==l?void 0:l.formatNumber(e))&&void 0!==t?t:String(e)})).join(" - "):null!==(s=null==l?void 0:l.formatNumber(e))&&void 0!==s?s:String(e);if(n.useFriendlyIsoFormat&&!n.format){const e=function(e){var t,n,r;let i=null!==(n=null===(t=e.intervalUnit)||void 0===t?void 0:t.toLowerCase().trim())&&void 0!==n?n:"";const{interval:o=0,extent:a}=e,s=null===(r=e.values)||void 0===r?void 0:r.length;if(!["years","months","days","hours"].includes(i)&&(null==a?void 0:a.length)&&s){const e=(a[1]-a[0])/s,t=864e5;i=e>=365*t?"years":e>=28*t?"months":i}switch(i){case"months":i=o>11?"years":i;break;case"days":i=o>364?"years":o>27?"months":i;break;case"hours":i="days"}return"years"===i?"year":"months"===i?"short-month-year":"short-date"}(t);n=Object.assign({format:e},n)}return Array.isArray(e)?e.map((e=>o(e,n))).join(" - "):o(e,n)}function l(e,t){var n;const r=null===(n=null==t?void 0:t.dimensions)||void 0===n?void 0:n.find((({name:t})=>t===e.name));if(!(null==r?void 0:r.extent))return e;const i=[...r.extent],{values:o}=e;if(null==o?void 0:o.length){const t=o.filter((e=>Array.isArray(e)?null==i[1]||i[0]===i[1]?e[0]===i[0]:e[0]>=i[0]&&e[0]<=i[1]&&e[1]>=i[0]&&e[1]<=i[1]:e>=i[0]&&e<=i[1]));if(0===t.length){const e=o[o.length-1];Array.isArray(e)&&e[1]===i[0]&&t.push(e)}return Object.assign(Object.assign({},e),{extent:i,values:t})}return Object.assign(Object.assign({},e),{extent:i})}function c(e){var t;const{values:n,extent:r,name:i}=e;let o=null!==(t=null==n?void 0:n[0])&&void 0!==t?t:null==r?void 0:r[0];return"stdz"===i.toLowerCase()&&!e.hasRanges&&r&&Math.abs(r[1])<=Math.abs(r[0])&&(o=(null==n?void 0:n.length)?n[n.length-1]:r[1]),o}function d(e){var t,n;return"imagery-tile"===e.type||"wcs"===e.type?e.multidimensionalDefinition:null===(n=null!==(t=e.mosaicRule)&&void 0!==t?t:e.defaultMosaicRule)||void 0===n?void 0:n.multidimensionalDefinition}async function u(e,t=!1){var n;if("imagery-tile"===e.type||"wcs"===e.type)return e.serviceRasterInfo.multidimensionalInfo;const{rasterFunction:i,version:o}=e;if(t||o<=r||!i||"none"===(null===(n=i.functionName)||void 0===n?void 0:n.toLowerCase()))return e.serviceRasterInfo.multidimensionalInfo;return(await e.generateRasterInfo(e.rasterFunction).catch((()=>e.serviceRasterInfo))).multidimensionalInfo}function m(e,t=!1){return"StdTime"===e.name&&(t||!e.recurring)}function f(e,t,n){var r;t=l(t,n);const i=s(e.values[0],t);if(!(null===(r=t.values)||void 0===r?void 0:r.some((e=>i===s(e,t))))){const n=c(t);e.values=null!=n?[n]:[]}}function h(e){return Array.isArray(e[0])}}}]);