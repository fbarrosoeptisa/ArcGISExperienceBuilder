/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>n});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},16953:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_data_store_list:()=>l});var a=r(19564),n=r(4948),o=r(5497),i=r(64305),s=r(61191),c=r(33861),d=r(20408);r(18991),r(44508),r(5076),r(57159),r(98034),r(99004),r(65174),r(78964),r(748),r(76246),r(87382),r(18409),r(86868),r(32084),r(91102),r(73807),r(98821),r(90079),r(32198),r(62913),r(17233),r(67336),r(82297),r(97018),r(56288),r(93863),r(80015),r(24211),r(11163);const l=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.selected=void 0,this.items=void 0,this.pagination=void 0,this.loading=!1,this.error=null}async componentWillLoad(){this.selected={id:s.a.dataStoreId,name:s.a.dataStoreName},this.i18n=c.u.i18n.tileLayerFromStore}isValidDataStoreType(e){return e.typeKeywords.some((e=>{const t=e.toLowerCase();return t.startsWith("cloudstore")||t.startsWith("folder")}))}renderErrorItem(){var e,t;const{i18n:r,error:n,loading:o}=this;let i,s;return"failToListDataStoreContents"===n?(i="Unable to list content of the data store",s="An error occurred while listing the data store's contents."):(i=null===(e=r.error[n])||void 0===e?void 0:e.heading,s=null===(t=r.error[n])||void 0===t?void 0:t.description),(0,a.h)("arcgis-new-item-alert",{heading:i,description:s,active:null!==n&&!o,onAlertDismiss:()=>{this.error=null}})}async handleNext(){var e;if(!this.selected||!this.selected.id||!this.selected.name)return void(this.error="noDataStoreSelected");const t=this.selected;this.loading=!0;const r=(await(0,i.g)(t.id)).result;if(0===r.length)return this.error="noRegisteredServersForDataStore",void(this.loading=!1);s.a.serverList=r,s.a.serverId=r[0].id,s.a.dataStoreId=t.id,s.a.dataStoreName=t.name;const a=await(0,o.g)(s.a.dataStoreId,"/","datastore",s.a.serverId);if("failToListDataStoreContents"===(null===(e=a.error)||void 0===e?void 0:e.code))return this.loading=!1,void(this.error="failToListDataStoreContents");const n=a.result,c=this.filterContentsByUserSelection(n);if(!n.children||0===c.children.length)return this.error="noContentInDataStore",void(this.loading=!1);s.a.datastoreContents=c,s.a.dataStoreCachedData=Object.assign(Object.assign({},s.a.dataStoreCachedData),{"/":s.a.datastoreContents}),(0,d.b)(),this.newItemUpdatePage.emit("dataStoreBrowser")}filterContentsByUserSelection(e){var t;const r="tileLayer"===s.a.newItemMode?"tile-layer":"scene-layer",a=s.a.tileLayerPublishType;return Object.assign(Object.assign({},e),{children:null===(t=e.children)||void 0===t?void 0:t.filter((e=>{const t=e.type;let n="folder"===t;return"tile-layer"===r?n||(n="tiles"===a&&"cacheDataset"===t||"vectorTiles"===a&&"vectorCacheDataset"===t):"scene-layer"===r&&(n||(n="extractedScenePackage"===t||"i3sRestCache"===t)),n}))})}render(){const{selected:e,pagination:t,i18n:r,loading:o}=this,{portal:i,user:s,api:c}=n.c;return(0,a.h)(a.H,{key:"689e03a66f63d961ac14384a98e5e34e379d598e"},(0,a.h)("arcgis-item-browser",{key:"57c1460e97465e7ffce57e6b4d26b66a18a7133e",onArcgisItemBrowserUpdate:e=>{const{results:t,num:r,start:a,total:n}=e.detail;this.items=t,this.pagination={start:a,num:r,total:n}},onArcgisItemBrowserSelect:e=>{const t=e.detail[0];this.selected={id:t.id,name:t.title}},q:'type:"Data Store"',portal:i,user:s,api:c,selection:"single"},(0,a.h)("arcgis-item-browser-top-bar",{key:"41e24f4d7848cc096f3dd642d504bf6f571e6eb2",slot:"top-bar"},(0,a.h)("arcgis-item-browser-search",{key:"638b1b19cb83ca3ee979cff058b3f7c46323e4de",slot:"search",term:"",placeholder:r.search})),(0,a.h)("arcgis-new-item-description",{key:"84ea46c2e3b2ebec365c19549c38186f421df93d",header:r.heading,content:r.subHeading,slot:"content-start",class:"header"}),(0,a.h)("arcgis-item-browser-sort",{key:"7950c42df16e5dd48ca1e2211a5fb13cfc64fa40",options:["modified","title","relevance"],slot:"sort"}),(0,a.h)("arcgis-item-browser-content",{key:"8ca79ee3fe77cdd49a7d0e58c921b38d4b6f992b",slot:"content"},this.items&&(0,a.h)("calcite-radio-button-group",{key:"42a81042a4c58c0c66f1b219454c0bcd094ebb9d",layout:"vertical",class:"tile-select",name:"data-store-selection-group"},(this.items||[]).map((t=>this.isValidDataStoreType(t)&&(0,a.h)("arcgis-new-item-pages-data-store-browser-card",{dataStoreItem:t,selected:e.id===t.id,key:t.id}))))),(0,a.h)("arcgis-item-browser-pagination",{key:"dc4541bcb768a958d6a01c35de554e3d79ecf1a9",total:null==t?void 0:t.total,start:null==t?void 0:t.start,num:null==t?void 0:t.num,slot:"pagination"})),this.renderErrorItem(),(0,a.h)("arcgis-new-item-loader",{key:"01cba887ab684d5dab97d0c19c0bebfa2b0a4b64",active:o,text:r.processing}))}get el(){return(0,a.d)(this)}};l.style=".header{margin-top:1.25rem;display:block}.tile-select{margin-top:1.5rem}.no-items{margin-bottom:8rem}"},91102:(e,t,r)=>{r.d(t,{a:()=>c,c:()=>n,d:()=>d,g:()=>o,i:()=>i,s:()=>s});var a=r(73807);function n(e,t){return function e(r){return r?r.closest(t)||e(function(e){return e.getRootNode()}(r).host||null):null}(e)}function o(e){const t=n(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function i(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function s(e){return(new a.S).sanitize(e)}function c(e){const t=s(e),r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}function d(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},98034:(e,t,r)=>{r.d(t,{e:()=>o,l:()=>i});var a,n=r(99004),o={exports:{}};a=o.exports,n.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function n(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function i(e){void 0===e&&(e=r);var t=o(e),i=n(e);if(i!==a&&3===i.major){var s=i.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function d(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||n(e)?i(e):e}function u(e,t){var r=l(e),a=d(r);return a||c(a=s(r),t),a}var f={};function h(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,r){var a;r&&(a=p(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",n,!1)}function p(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function v(e){void 0===e&&(e={}),f=e}function g(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var r={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,n=r.url||o(a);return new t.Promise((function(e,t){var o=g();if(o){var i=o.getAttribute("src");i!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):y()?e(o):m(o,e,t)}else if(y())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=r.css;s&&u(!0===s?a:s,r.insertCssBefore),m(o=h(n),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function w(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function S(e,t){if(void 0===t&&(t={}),y())return w(e);var r=g(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),b(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=S,e.getScript=g,e.isLoaded=y,e.loadScript=b,e.setDefaultOptions=v,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(a);const i=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},20408:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>l,l:()=>d});var a=r(4948),n=r(61191);const o="create tile layer",i="my content",s=e=>{switch(e){case"store":return"data store";case"existing":return"fs";case"upload":return"upload"}},c=e=>{switch(e){case"tiles":return"raster";case"vectorTiles":return"vector"}},d=()=>{var e;null===(e=a.c.telemetry)||void 0===e||e.startWorkflow(o,{category:"create tile layer",pageName:"my content"})},l=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(o,"from option",{category:o,attribute:s(n.a.addTileLayerOption),details:c(n.a.tileLayerPublishType),pageName:i})},u=()=>{const e=a.c.telemetry;null==e||e.endWorkflow(o,{category:o,attribute:s(n.a.addTileLayerOption),details:c(n.a.tileLayerPublishType),pageName:i})}}}]);