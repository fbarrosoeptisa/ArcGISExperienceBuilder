/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-2961ec.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-2961ec"],{84521:(e,i,n)=>{n.d(i,{a:()=>s,b:()=>t,c:()=>o,d:()=>r,e:()=>d,g:()=>u,s:()=>c});var a=n(68180),l=n(99592);n(97127);async function o(e,i){const{layer:n,useFeatureReduction:o,mapImageSublayer:s,mapView:t,supportsArcade:r,modules:d}=e,u=n;if(s&&!r)return await async function(e,i){const{layer:n,useFeatureReduction:o,mapImageSublayer:s,mapView:t,modules:r}=e,d=n;i=i||{};const u=(0,l.k)((0,l.j)(e)),c=i.fieldInfos?i.fieldInfos[0]:null;return await r.ColorCreator.createClassBreaksRenderer({layer:d,view:t,field:c.field,valueExpression:c.expression,valueExpressionTitle:c.expressionTitle,normalizationField:i.normalizationField,classificationMethod:i.classificationMethod?i.classificationMethod:"natural-breaks",standardDeviationInterval:"standard-deviation"===i.classificationMethod?i.standardDeviationInterval?i.standardDeviationInterval:1:void 0,numClasses:i.numClasses?i.numClasses:4,minValue:i.min,maxValue:i.max,colorScheme:i.colorScheme||(0,l.Y)(e),outlineOptimizationEnabled:!s&&(!(0,a.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===d.featureReduction?.type&&o}).then((e=>((0,l.l)(u,e.renderer),e)))}(e,i);const m=(0,l.j)(e),f=m.authoringInfo,p=(0,l.G)(m,"color");i=i||{};const b=(0,l.a)(e),z=(0,l.k)((0,l.j)(e)),v=i.fieldInfos?i.fieldInfos[0]:null,h=i.theme?i.theme:"high-to-low",g={layer:u,view:t,field:v.field,valueExpression:v.expression,valueExpressionTitle:v.expressionTitle,theme:h,colorScheme:i.colorScheme||(0,l.Y)(e,h),normalizationField:i.normalizationField,minValue:i.min,maxValue:i.max,outlineOptimizationEnabled:!s&&(!(0,a.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),sizeOptimizationEnabled:!s&&(!(0,a.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===u.featureReduction?.type&&o};return await d.ColorCreator.createContinuousRenderer(g).then((async n=>{const a=(0,l.b)((0,l.j)(e),"color");return a&&!i.noReuse&&["color","color-size","color-size-age"].includes(b)&&c(e,i)&&f&&"above-and-below"!==f?.univariateTheme&&!["centered-on","extremes"].includes(p.theme)&&(n.renderer.visualVariables=(0,l.V)(n.renderer,"color")||[],n.renderer.visualVariables.push(a),z.sizeOutlineVisVar&&(n.renderer.visualVariables=(0,l.V)(n.renderer,"size","outline")||[],n.renderer.visualVariables.push(z.sizeOutlineVisVar)),n.renderer.authoringInfo.visualVariables=(0,l.W)(n.renderer,"color")||[],n.renderer.authoringInfo.visualVariables.push(p),(0,l._)(e,n.renderer)),(0,l.l)(z,n.renderer),n}))}async function s(e,i){const{layer:n,mapImageSublayer:o,mapView:s,modules:t}=e,r=n,d=(0,l.j)(e).authoringInfo;i=i||{};const u=(0,l.a)(e),m=(0,l.k)((0,l.j)(e)),f=i.fieldInfos?i.fieldInfos[0]:null,p=i.theme?i.theme:"high-to-low";return await t.ColorCreator.createAgeRenderer({layer:r,view:s,startTime:f.field,endTime:new Date,theme:p,colorScheme:i.colorScheme||(0,l.Y)(e,p),unit:void 0,outlineOptimizationEnabled:!o&&(!(0,a.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),sizeOptimizationEnabled:!o&&(!(0,a.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1}).then((async n=>{if(["color-age","color-age-size"].includes(u)&&c(e,i)&&d&&"above-and-below"!==d?.univariateTheme){const i=(0,l.b)((0,l.j)(e),"color"),a=(0,l.G)((0,l.j)(e),"color");n.renderer.visualVariables=[i],m.sizeOutlineVisVar&&n.renderer.visualVariables.push(m.sizeOutlineVisVar),n.renderer.authoringInfo.visualVariables=[a],(0,l._)(e,n.renderer)}return(0,l.l)(m,n.renderer),n}))}async function t(e,i){const{layer:n,useFeatureReduction:o,mapImageSublayer:s,mapView:t,supportsArcade:r,modules:u}=e,c=n;if(s&&!r)return await d(e,i);i=i||{};const m=(0,l.j)(e),f=m.authoringInfo||{},p=(0,l.a)(e),b=(0,l.b)(m,"color");if(b&&i.fieldInfos?.[0]&&i.fieldInfos?.[0].field===b.field&&i.fieldInfos?.[0].expression===b.valueExpression&&i.normalizationField===b.normalizationField&&(delete i.fieldInfos,(0,l.T)(i)))return{renderer:m.clone()};const z=(0,l.k)(m),v=(0,l.G)(m,"color"),h=i.fieldInfos?i.fieldInfos[0]:b?{field:b.field,expression:b.valueExpression,expressionTitle:b.valueExpressionTitle,simpleFieldType:l.q.NUMBER}:{field:m.field,expression:m.valueExpression,expressionTitle:m.valueExpressionTitle,simpleFieldType:l.q.NUMBER},g=null===i.normalizationField?void 0:i.normalizationField?i.normalizationField:b?b.normalizationField:m.normalizationField;let S=m.classBreakInfos?.length?m.classBreakInfos[0].symbol:(0,l.m)(e,p);"picture-marker"===S.type&&(S=(0,l.m)(e,p));const x=m.defaultSymbol,y=m.defaultLabel;let I=!1;(null===i.normalizationField||i.normalizationField||i.fieldInfo||"manual"===f.classificationMethod&&!i.theme||"equal-interval"===f.classificationMethod)&&(I=!0);const E=i.discardMinMax?void 0:(0,a.i)(i.min)?i.min:I?void 0:b?v?.minSliderValue:m.classBreakInfos[0].minValue,V=i.discardMinMax?void 0:(0,a.i)(i.max)?i.max:I?void 0:b?v?.maxSliderValue:m.classBreakInfos[m.classBreakInfos.length-1].maxValue,O=i.theme?i.theme:v?v.theme:"high-to-low",k="below"===v?.theme,T="below"===O,M=T&&!k||!T&&k,w=i.colorScheme||(0,l.Y)(e,O),B={layer:c,view:t,field:h.field,valueExpression:h.expression,valueExpressionTitle:h.expressionTitle,theme:O,colorScheme:w,normalizationField:g,minValue:E,maxValue:V,outlineOptimizationEnabled:!s&&((0,a.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!z.sizeOutlineVisVar),sizeOptimizationEnabled:!s&&((0,a.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!z.sizeAutoVisVar),legendOptions:i.legendOptions?.toJSON()||b?.legendOptions?.toJSON()||m.legendOptions?.toJSON(),defaultSymbolEnabled:(0,a.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!m.defaultSymbol,forBinning:"binning"===c.featureReduction?.type&&o};return await u.ColorCreator.createContinuousRenderer(B).then((e=>{if(i.discardMinMax){const i=(0,l.b)(m,"color"),n=(0,l.b)(e.renderer,"color");i.stops.forEach(((e,i)=>e.value=n.stops[i].value))}if((0,l.l)(z,e.renderer),S&&e.renderer.classBreakInfos?.length&&(e.renderer.classBreakInfos[0].symbol=S),x&&(e.renderer.defaultSymbol=x,e.renderer.defaultLabel=y),M&&w&&b){const i=(0,l.b)(e.renderer,"color"),n=b.stops.length-1;i.stops.forEach(((e,i)=>e.color=b.stops[n-i].color))}return e}))}async function r(e,i){const{layer:n,mapImageSublayer:o,mapView:s,modules:t}=e,r=n;i=i||{};const d=(0,l.j)(e),u=(0,l.a)(e),c=(0,l.b)(d,"color");if(c&&i.fieldInfos?.[0]&&i.fieldInfos[0].field===c.field&&(delete i.fieldInfos,(0,l.T)(i)))return{renderer:d.clone()};const m=(0,l.k)(d),f=(0,l.G)(d,"color"),p=i.startTime?i.startTime:f.startTime,b=i.endTime?i.endTime:f.endTime,z=d.classBreakInfos?.length?d.classBreakInfos[0].symbol:(0,l.m)(e,u),v=d.defaultSymbol,h=d.defaultLabel;let g=!1;(i.startTime||i.endTime||i.units||i.fieldInfo)&&(g=!0);const S=i.discardMinMax?void 0:(0,a.i)(i.min)?i.min:g?void 0:f?f.minSliderValue:d.classBreakInfos[0].minValue,x=i.discardMinMax?void 0:(0,a.i)(i.max)?i.max:g?void 0:f?f.maxSliderValue:d.classBreakInfos[d.classBreakInfos.length-1].maxValue,y=i.theme?i.theme:f?f.theme:"high-to-low",I={layer:r,view:s,startTime:p,endTime:b,unit:i.units?i.units:f.units,theme:y,colorScheme:i.colorScheme||(0,l.Y)(e,y),minValue:S,maxValue:x,outlineOptimizationEnabled:!o&&((0,a.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!m.sizeOutlineVisVar),sizeOptimizationEnabled:!o&&((0,a.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!m.sizeAutoVisVar),legendOptions:i.legendOptions?i.legendOptions.toJSON():g?void 0:c?.legendOptions?.toJSON()||d.legendOptions?.toJSON(),defaultSymbolEnabled:(0,a.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!d.defaultSymbol};return await t.ColorCreator.createAgeRenderer(I).then((e=>{if(i.discardMinMax){const i=(0,l.b)(d,"color"),n=(0,l.b)(e.renderer,"color");i.stops.forEach(((e,i)=>e.value=n.stops[i].value))}return(0,l.G)(e.renderer,"color").field=f.field,(0,l.l)(m,e.renderer),z&&e.renderer.classBreakInfos?.length&&(e.renderer.classBreakInfos[0].symbol=z),v&&(e.renderer.defaultSymbol=v,e.renderer.defaultLabel=h),e}))}async function d(e,i){const{layer:n,useFeatureReduction:o,mapImageSublayer:s,mapView:t,modules:r}=e,d=n;i=i||{};const u=(0,l.j)(e),c=u.authoringInfo||{},m=(0,l.b)(u,"color");if(!m&&i.fieldInfo&&i.fieldInfo.field===u.field&&i.fieldInfo.expression===u.valueExpression&&i.normalizationField===u.normalizationField&&(delete i.fieldInfo,(0,l.T)(i)))return{renderer:u.clone()};const f=(0,l.G)(u,"color"),p=(0,l.k)(u),b={field:u.field,expression:u.valueExpression,expressionTitle:u.valueExpressionTitle,simpleFieldType:l.q.NUMBER},z=i.fieldInfos?i.fieldInfos[0]:m?{field:m.field,expression:m.valueExpression,expressionTitle:m.valueExpressionTitle,simpleFieldType:l.q.NUMBER}:b,v=void 0!==i.normalizationField?i.normalizationField:m?m.normalizationField:u.normalizationField;let h;if(u.classBreakInfos?.length){const e=u.classBreakInfos[0].symbol;["simple-fill","simple-marker","simple-line","cim"].includes(e.type)&&(h=e)}const g=u.defaultSymbol,S=u.defaultLabel,x=i.classificationMethod?i.classificationMethod:c.classificationMethod&&"manual"!==c.classificationMethod?c.classificationMethod:"natural-breaks",y="standard-deviation"===x?i.standardDeviationInterval?i.standardDeviationInterval:c.standardDeviationInterval?c.standardDeviationInterval:1:void 0;let I=!0;!i.classificationMethod||i.classificationMethod===c.classificationMethod||"standard-deviation"!==i.classificationMethod&&"standard-deviation"!==c.classificationMethod||(I=!1);let E=!1;void 0===i.normalizationField&&(0,l.r)(z,b)&&"equal-interval"===x||(E=!0);const V=(0,a.i)(i.min)?i.min:E?void 0:f?f.minSliderValue:u.classBreakInfos[0].minValue,O=(0,a.i)(i.max)?i.max:E?void 0:f?f.maxSliderValue:u.classBreakInfos[u.classBreakInfos.length-1].maxValue;let k=i.colorScheme||(0,l.Y)(e);return k||(k=(0,l.Y)(e,"above-and-below")),await r.ColorCreator.createClassBreaksRenderer({layer:d,view:t,field:z.field,valueExpression:z.expression,valueExpressionTitle:z.expressionTitle,normalizationField:v,classificationMethod:x,standardDeviationInterval:y,numClasses:(0,a.i)(i.numClasses)?i.numClasses:m||!I?4:u.classBreakInfos.length,minValue:V,maxValue:O,colorScheme:k,outlineOptimizationEnabled:!s&&((0,a.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!p.sizeOutlineVisVar),legendOptions:i.legendOptions||u.legendOptions,defaultSymbolEnabled:(0,a.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!u.defaultSymbol,forBinning:"binning"===d.featureReduction?.type&&o}).then((i=>((0,l.l)(p,i.renderer),p.sizeAutoVisVar&&(i.renderer.visualVariables=i.renderer.visualVariables||[],i.renderer.visualVariables.push(p.sizeAutoVisVar)),h&&i.renderer.classBreakInfos&&i.renderer.classBreakInfos.forEach((i=>{const n=h.clone();(0,l.X)(e,n,(0,l.Z)(e,i.symbol)),i.symbol=n})),g&&(i.renderer.defaultSymbol=g,i.renderer.defaultLabel=S),i)))}function u(e){const{modules:i}=e;return(0,l.j)(e).classBreakInfos.map((n=>({min:n.minValue,max:n.maxValue,color:(0,l.Z)(e,n.symbol)?(0,l.Z)(e,n.symbol).clone():new i.EsriColor({r:255,g:255,b:255,a:1})})))}function c(e,i){const n=(0,l.j)(e).clone(),a=(0,l.a)(e);if(["color","color-size","color-size-age","color-age","color-age-size"].includes(a)&&void 0===i.normalizationField){let e;const o=(0,l.b)(n,"color");if(o)if(["color-age","color-age-size"].includes(a)){e={field:(0,l.G)(n,"color").field}}else e={field:o.field,expression:o.valueExpression,expressionTitle:o.valueExpressionTitle};else e={field:n.field,expression:n.valueExpression,expressionTitle:n.valueExpressionTitle};if((0,l.r)(i.fieldInfos[0],e))return!0}return!1}},54351:(e,i,n)=>{let a,l;function o(e){e.loading=!1}async function s(e,i){return function(e){e.loading=!0,l=!1,a&&clearTimeout(a),a=setTimeout((()=>{o(e),l=!0}),6e4)}(i),await e.then((e=>{if(o(i),l)throw new Error("timeout");return e})).catch((e=>{throw o(i),e}))}n.d(i,{r:()=>s})},99818:(e,i,n)=>{n.d(i,{a:()=>o,b:()=>s,g:()=>t,s:()=>r});var a=n(68180),l=n(99592);n(97127);function o(e){const{mapView:i}=e,n=(0,l.j)(e),o=n.authoringInfo,s="class-breaks"===n.type?n.classBreakInfos:n.uniqueValueInfos,t=(0,l.b)(n,"size"),d=(0,l.G)(n,"reference-size"),u=!!t&&!(0,a.i)(t.minSize),c=!!t&&"number"==typeof t.minSize,m="above-and-below"===o?.univariateTheme;let f=2,p=20;if(d)d.referenceSizeScale&&r(e),[f,p]=[d.sizeStops[0].size,d.sizeStops[1].size];else if(t)if(m){const e=t.stops;[f,p]=[e[2].size,Math.max(e[0].size,e[4].size)]}else if(u){const e=t.stops;[f,p]=[e[0].size,e[e.length-1].size]}else if(c)[f,p]=[t.minSize,t.maxSize];else{const e=i.scale,n=t.minSize.stops,a=t.maxSize.stops;[f,p]=[n[n.length-1].size,a[a.length-1].size];for(let i=0;i<n.length;i++){const l=n[i],o=a[i];if(e<=l.value){if(i>0){const s=n[i-1],t=a[i-1],r=(e-s.value)/(l.value-s.value);[f,p]=[s.size+(l.size-s.size)*r,t.size+(o.size-t.size)*r]}else[f,p]=[n[0].size,a[0].size];break}}}else if(s){const i=s[0].symbol,n=s[s.length-1].symbol;[f,p]=[(0,l.$)(e,i),(0,l.$)(e,n)],f>p&&([f,p]=[p,f])}return[f,p]}function s(e,i){const{mapView:n,modules:s}=e,t=(0,l.j)(e),r=(0,l.b)(t,"size");let d=i[0],u=(0,a.i)(i[1])?i[1]:d;if(r){const l=t.authoringInfo,c="above-and-below"===l?.univariateTheme,m=!!r&&!(0,a.i)(r.minSize),f=!!r&&"number"==typeof r.minSize,[p,b]=o(e),z=p>b;if(!z&&d>=b?d=b-.75:z&&d>=p&&(d=p-.75),!z&&p>=u?u=p+.75:z&&b>=u&&(u=b+.75),c){const e=r.stops,n=z?i[1]:i[0],a=z?i[0]:i[1],l=Math.max(...e.map((e=>e.value))),o=e[2].value,s=Math.min(...e.map((e=>e.value))),t=Math.abs(l-o),d=Math.abs(s-o),u=t>d?t:d,c=a-n;e.forEach((e=>{const{value:i}=e;e.size=Math.abs(i-o)/u*c+n}))}else if(m){const e=r.stops;r.stops=null,r.minSize=d,r.maxSize=u,r.minDataValue=e[0].value,r.maxDataValue=e[e.length-1].value}else if(f)z?(r.maxSize=d,r.minSize=u):(r.minSize=d,r.maxSize=u);else{const e=n.scale;let i=s.esriLang.clone(r.minSize.stops),a=s.esriLang.clone(r.maxSize.stops);z&&([i,a]=[a,i]);let l=d/i[i.length-1].size,o=u/a[a.length-1].size;for(let n=0;n<i.length;n++){const s=i[n],t=a[n];if(e<=s.value){if(n>0){const r=i[n-1],c=a[n-1],m=(e-r.value)/(s.value-r.value),[f,p]=[r.size+(s.size-r.size)*m,c.size+(t.size-c.size)*m];l=d/f,o=u/p}else l=d/i[0].size,o=u/a[0].size;break}}i.forEach((e=>e.size=Math.round(l*e.size*10)/10)),a.forEach((e=>e.size=Math.round(o*e.size*10)/10)),z&&([i,a]=[a,i]),r.minSize.stops=i,r.maxSize.stops=a}}else{const i=t.classBreakInfos[0].symbol,n=t.classBreakInfos[t.classBreakInfos.length-1].symbol;let a=(0,l.$)(e,i),o=(0,l.$)(e,n),s=!1;a>o&&([a,o]=[o,a],s=!0),a!==o&&d>o&&(d=o-.75),a=d,a!==o&&a>u&&(u=a+.75),o=u;const r=1===t.classBreakInfos.length?1:Math.max(o-a,10)/(t.classBreakInfos.length-1);t.classBreakInfos.forEach(((i,n)=>{const t=i.symbol;s?(0,l.a0)(e,t,o-r*n):(0,l.a0)(e,t,a+r*n)}))}}function t(e,i){const n=e.stops,a=n.length-1,l=n[0].value,o=n[a].value;if(i<=l)return n[0].size;if(i>=o)return n[a].size;for(let e=0;e<=a;e++){const a=n[e],l=n[e+1];if(i>=a.value&&i<l.value){const e=l.value-a.value,n=a.size-l.size,o=(i-a.value)/e,s=a.size-n*o;return Math.round(100*s)/100}}return 1}function r(e){const{mapView:i}=e,n=(0,l.j)(e),a=(0,l.G)(n,"reference-size"),o=a.referenceSizeScale/i.scale;a.sizeStops.forEach((e=>e.size*=o)),a.referenceSizeScale=i.scale}},33101:(e,i,n)=>{n.d(i,{c:()=>o,u:()=>s});var a=n(97127),l=(n(68180),n(99592));function o(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=l.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.hideSvgUploadSymbols=!1,e.hideAddStyles=!1,e.rasterInfo=void 0}function s(){const e=(0,a.r)(),i=e;e.manager.onLoad((()=>{i.smartMappingState=function(e,i){const n=t.get(e);if(n)return n;const l=(0,a.c)(e,i);if(l&&"store"in l)return t.set(e,l.store),l.store;return null}(e.el,"arcgis-smart-mapping").state}))}const t=new WeakMap}}]);