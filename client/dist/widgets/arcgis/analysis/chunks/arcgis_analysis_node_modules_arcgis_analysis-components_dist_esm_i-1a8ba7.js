"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-1a8ba7"],{86312:(e,r,t)=>{t.d(r,{b:()=>R,g:()=>n,h:()=>B,i:()=>D});var a=t(64872);function n(e,r,t){var n=null==e?void 0:(0,a.r)(e,r);return void 0===n?t:n}function i(e){var r=-1,t=null==e?0:e.length;for(this.__data__=new a.M;++r<t;)this.add(e[r])}function s(e,r){for(var t=-1,a=null==e?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}i.prototype.add=i.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},i.prototype.has=function(e){return this.__data__.has(e)};var u=1,l=2;function o(e,r,t,a,n,o){var c=t&u,d=e.length,y=r.length;if(d!=y&&!(c&&y>d))return!1;var g=o.get(e),f=o.get(r);if(g&&f)return g==r&&f==e;var _=-1,m=!0,p=t&l?new i:void 0;for(o.set(e,r),o.set(r,e);++_<d;){var v=e[_],b=r[_];if(a)var h=c?a(b,v,_,r,e,o):a(v,b,_,e,r,o);if(void 0!==h){if(h)continue;m=!1;break}if(p){if(!s(r,(function(e,r){if(i=r,!p.has(i)&&(v===e||n(v,e,t,a,o)))return p.push(r);var i}))){m=!1;break}}else if(v!==b&&!n(v,b,t,a,o)){m=!1;break}}return o.delete(e),o.delete(r),m}function c(e){var r=-1,t=Array(e.size);return e.forEach((function(e,a){t[++r]=[a,e]})),t}function d(e){var r=-1,t=Array(e.size);return e.forEach((function(e){t[++r]=e})),t}var y=1,g=2,f="[object Boolean]",_="[object Date]",m="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",h="[object Set]",F="[object String]",I="[object Symbol]",M="[object ArrayBuffer]",A="[object DataView]",k=a.v?a.v.prototype:void 0,w=k?k.valueOf:void 0;var S=1,T=Object.prototype.hasOwnProperty;var P=1,x="[object Arguments]",j="[object Array]",O="[object Object]",L=Object.prototype.hasOwnProperty;function E(e,r,t,n,i,s){var u=(0,a.g)(e),l=(0,a.g)(r),k=u?j:(0,a.x)(e),E=l?j:(0,a.x)(r),R=(k=k==x?O:k)==O,$=(E=E==x?O:E)==O,B=k==E;if(B&&(0,a.h)(e)){if(!(0,a.h)(r))return!1;u=!0,R=!1}if(B&&!R)return s||(s=new a.S),u||(0,a.j)(e)?o(e,r,t,n,i,s):function(e,r,t,n,i,s,u){switch(t){case A:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case M:return!(e.byteLength!=r.byteLength||!s(new a.U(e),new a.U(r)));case f:case _:case v:return(0,a.e)(+e,+r);case m:return e.name==r.name&&e.message==r.message;case b:case F:return e==r+"";case p:var l=c;case h:var k=n&y;if(l||(l=d),e.size!=r.size&&!k)return!1;var S=u.get(e);if(S)return S==r;n|=g,u.set(e,r);var T=o(l(e),l(r),n,i,s,u);return u.delete(e),T;case I:if(w)return w.call(e)==w.call(r)}return!1}(e,r,k,t,n,i,s);if(!(t&P)){var D=R&&L.call(e,"__wrapped__"),N=$&&L.call(r,"__wrapped__");if(D||N){var C=D?e.value():e,z=N?r.value():r;return s||(s=new a.S),i(C,z,t,n,s)}}return!!B&&(s||(s=new a.S),function(e,r,t,n,i,s){var u=t&S,l=(0,a.w)(e),o=l.length;if(o!=(0,a.w)(r).length&&!u)return!1;for(var c=o;c--;){var d=l[c];if(!(u?d in r:T.call(r,d)))return!1}var y=s.get(e),g=s.get(r);if(y&&g)return y==r&&g==e;var f=!0;s.set(e,r),s.set(r,e);for(var _=u;++c<o;){var m=e[d=l[c]],p=r[d];if(n)var v=u?n(p,m,d,r,e,s):n(m,p,d,e,r,s);if(!(void 0===v?m===p||i(m,p,t,n,s):v)){f=!1;break}_||(_="constructor"==d)}if(f&&!_){var b=e.constructor,h=r.constructor;b==h||!("constructor"in e)||!("constructor"in r)||"function"==typeof b&&b instanceof b&&"function"==typeof h&&h instanceof h||(f=!1)}return s.delete(e),s.delete(r),f}(e,r,t,n,i,s))}function R(e,r,t,n,i){return e===r||(null==e||null==r||!(0,a.f)(e)&&!(0,a.f)(r)?e!=e&&r!=r:E(e,r,t,n,R,i))}function $(e,r){return null!=e&&r in Object(e)}function B(e,r){return null!=e&&function(e,r,t){for(var n=-1,i=(r=(0,a.y)(r,e)).length,s=!1;++n<i;){var u=(0,a.t)(r[n]);if(!(s=null!=e&&t(e,u)))break;e=e[u]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&(0,a.z)(i)&&(0,a.c)(u,i)&&((0,a.g)(e)||(0,a.k)(e))}(e,r,$)}function D(e,r){return R(e,r)}},46784:(e,r,t)=>{t.d(r,{L:()=>n,S:()=>i,a:()=>_,b:()=>P,c:()=>p,d:()=>x,e:()=>h,f:()=>m,g:()=>M,h:()=>F,i:()=>T,j:()=>v,k:()=>A,l:()=>S,m:()=>b,n:()=>s,r:()=>f,v:()=>I});var a=t(22069);const n={Feature_All:"feature",Feature_Extract:"extract",Feature_Point:"feature_point",Feature_MultiPoint:"feature_multiPoint",Feature_Line:"feature_line",Feature_Polygon:"feature_polygon",Feature_Table:"table",Imagery_All:"imagery",Imagery_SingleBand:"imagery_singleBand",Imagery_MultiBand:"imagery_multiBand",Imagery_Integer:"imagery_integer",Imagery_Float:"imagery_float",Imagery_Multidimension:"imagery_multidimension",Imagery_Trend:"imagery_trend",Tile:"tile",Imagery_Change:"imagery_change"},i={Any:"any",Count:"count",First:"first",Last:"last",Maximum:"max",Mean:"mean",Minimum:"min",Range:"range",StdDev:"stddev",Sum:"sum",Variance:"variance"},s={Select:"select",Filter:"filter",Reset:"reset",Remove:"remove"},u="invalidIntegerMessage",l="invalidDoubleMessage",o="requiredInputMessage",c="belowMinimumMessage",d="aboveMaximumMessage",y="strictlyMinimumMessage",g="strictlyMaximumMessage";function f(e){void 0!==e&&(e.open=!1,e.remove())}function _(e,r){!1===e.body.contains(r)&&(e.body.appendChild(r),r.open=!0)}function m(e){const{layers:r,layerFilterTypes:t}=e,i=[],s=[];if(void 0!==t){if((Array.isArray(t)?t:[t]).includes(n.Feature_Table))return{validLayers:r,filteredLayers:s};r.forEach((e=>{(0,a.aq)(e)?s.push(e):i.push(e)}))}else i.push(...r);return{validLayers:i,filteredLayers:s}}function p(e){return e.includes("derived-")}const v=(e,r)=>{const{required:t,isFloatType:n,excludeMinValue:i,excludeMaxValue:s,min:f,max:_}=r;let m;return(0,a.ar)(e)?!1!==n||Number.isInteger(e)?null!=f&&(e<f||!0===i&&e<=f)?m=!0===i?y:c:null!=_&&(e>_||!0===s&&e>=_)&&(m=!0===s?g:d):m=u:Number.isNaN(e)?m=!0===n?l:u:!0===t&&(m=o),m};function b(e,r){const t=e.map((e=>`type:"${e}"`)).join(" OR ");return void 0!==r?`${r} (${t})`:`(${t})`}function h(e){const r=Array.isArray(e)?e:[e],t=new Set;return r.forEach((e=>{switch(e){case n.Feature_Extract:case n.Feature_All:case n.Feature_Point:case n.Feature_MultiPoint:case n.Feature_Line:case n.Feature_Polygon:case n.Feature_Table:t.add("Feature Service"),t.add("Map Service");break;case n.Imagery_All:case n.Imagery_SingleBand:case n.Imagery_MultiBand:case n.Imagery_Integer:case n.Imagery_Float:case n.Imagery_Multidimension:case n.Imagery_Trend:case n.Imagery_Change:t.add("Image Service");break;default:t.add("Feature Service"),t.add("Image Service"),t.add("Map Service")}})),b(Array.from(t))}function F(e){const r=Array.isArray(e)?e:[e],t=new Set;let a=!1;return r.forEach((e=>{switch(e){case n.Feature_All:t.add("point"),t.add("multipoint"),t.add("polyline"),t.add("polygon");break;case n.Feature_Point:t.add("point");break;case n.Feature_MultiPoint:t.add("multipoint");break;case n.Feature_Line:t.add("polyline");break;case n.Feature_Polygon:t.add("polygon");break;case n.Feature_Table:t.add("nonspatial");break;case n.Feature_Extract:t.add("point"),t.add("multipoint"),t.add("polyline"),t.add("polygon"),t.add("nonspatial");break;case n.Imagery_All:case n.Imagery_SingleBand:case n.Imagery_MultiBand:case n.Imagery_Integer:case n.Imagery_Float:case n.Imagery_Multidimension:case n.Imagery_Trend:case n.Imagery_Change:a=!0}})),0===t.size||a?void 0:Array.from(t)}function I(e){return"3d"===e?.type}function M(e,r,t){const a=Array.isArray(r)?r:[r],i=void 0===t?'(-typekeywords: "Hosted Service" AND type: "Image Service") OR (servicetags: "allowAnalysis"':`(-typekeywords: "Hosted Service" AND type: "Image Service") OR ((servicetags: "allowAnalysis" OR orgid: ${t}) AND type: "Image Service"`;let s="";const u=[];if(a.forEach((e=>{switch(e){case n.Imagery_SingleBand:u.push("(bandcount: 1)");break;case n.Imagery_MultiBand:u.push("(bandcount: [2 TO 65536])");break;case n.Imagery_Integer:u.push('(NOT (servicetags: "PixelTypeF32" OR servicetags: "PixelTypeF64"))');break;case n.Imagery_Float:u.push('(servicetags: "PixelTypeF32" OR servicetags: "PixelTypeF64")');break;case n.Imagery_Multidimension:u.push('(servicetags: "hasMultidimensions")');break;case n.Imagery_All:case n.Imagery_Trend:case n.Imagery_Change:u.push("i");break;case n.Feature_All:case n.Feature_Point:case n.Feature_MultiPoint:case n.Feature_Line:case n.Feature_Polygon:case n.Feature_Table:case n.Feature_Extract:u.push("f")}})),u.length>0&&!u.every((e=>"f"===e))){const e=u.filter((e=>e.length>1));if(e.length>0){s=`${i} AND (${e.join(" OR ")}))`}else s=`${i})`;s=u.indexOf("f")>-1?`(${s} OR (type: "Feature Service"))`:`(${s})`}return I(e)?`${s} -typekeywords: "Table"`:s}function A(e){return`${e.url}/${e.layerId}`}const k={esriGeometryPoint:n.Feature_Point,esriGeometryPolyline:n.Feature_Line,esriGeometryPolygon:n.Feature_Polygon,esriGeometryMultipoint:n.Feature_MultiPoint};function w(e){switch(e){case"esriFieldTypeSingle":return"single";case"esriFieldTypeDouble":return"double";case"esriFieldTypeGeometry":return"geometry";case"esriFieldTypeInteger":return["long","integer","big-integer"];case"esriFieldTypeSmallInteger":return"small-integer";case"esriFieldTypeString":return"string";case"esriFieldTypeDate":return"date";default:return}}function S(e){const r={};switch(e?.type){case"range":r.min=e.minimum,r.max=e.maximum;break;case"featureClass":void 0!==e.list&&(r.layerFilterType=e.list.map((e=>k[e])).filter((e=>void 0!==e)));break;case"field":void 0!==e.list&&(r.fieldTypes=e.list.flatMap(w).filter((e=>void 0!==e)));break;case"file":r.accept=e.list?.filter((e=>void 0!==e))}return r}function T(e){return new RegExp(/^(http|https|ftp):\/\//i).test(e)}function P(e,r){if(void 0===r||0===r.length)return!0;const t=e.split(".").pop();return void 0!==t&&r.includes(t)}function x(e){return null==e?e:(Array.isArray(e)||(e=[e]),e.includes(n.Feature_Table)?e.filter((e=>e!==n.Feature_Table)):e.includes(n.Feature_All)?(e.push(n.Feature_Polygon,n.Feature_Line,n.Feature_MultiPoint,n.Feature_Point),e.filter((e=>e!==n.Feature_All))):e)}}}]);