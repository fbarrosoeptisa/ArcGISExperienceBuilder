/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-48b4e2.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-48b4e2"],{98256:(e,t,o)=>{o.r(t),o.d(t,{arcgis_color_input:()=>m,arcgis_popup_color_popover:()=>y,arcgis_popup_styler_popover:()=>b,arcgis_slider_input:()=>v,arcgis_symbol_picker_file_upload:()=>w,arcgis_symbol_styler_browse_styles:()=>k,arcgis_symbol_styler_color_ramp_input:()=>A,arcgis_symbol_styler_section:()=>j,arcgis_symbol_styler_symbol_preview:()=>N});var i=o(19564),s=o(66507),r=o(53076),l=o(89261),n=o(62273),a=o(26408),c=o(98034),d=o(44508),p=o(63397),h=o(15728),u=o(6589);o(91102),o(73807),o(18991),o(99004),o(4948);const g="recent",f="color-picker-container",m=class{constructor(e){(0,i.r)(this,e),this.arcgisColorInputChange=(0,i.c)(this,"arcgisColorInputChange",7),this.arcgisColorInputSwatchUpdate=(0,i.c)(this,"arcgisColorInputSwatchUpdate",7),this.arcgisInternalColorInputStoredColor=(0,i.c)(this,"arcgisInternalColorInputStoredColor",7),this.arcgisColorInputPopoverOpen=(0,i.c)(this,"arcgisColorInputPopoverOpen",7),this.arcgisColorInputPopoverClose=(0,i.c)(this,"arcgisColorInputPopoverClose",7),this.focusHandler=e=>{this.activeEl=e.target},this.onClose=e=>{var t,o;this.storeRecentColorToStorage(null===(t=this.colorPickerEl)||void 0===t?void 0:t.value),e.stopPropagation(),this.arcgisColorInputPopoverClose.emit(null===(o=this.colorPickerEl)||void 0===o?void 0:o.value)},this.handleSwatchClickOrKeyUp=e=>{if("key"in e&&"Enter"!==e.key&&"Space"!==e.key)return;const t=e.currentTarget.color;this.updateColor(t),this.arcgisColorInputSwatchUpdate.emit(t),setTimeout((()=>this.recentColor1El.focus()),200)},this.recentColorsKeyDownHandler=e=>{if(1===this.recentColors.length)return;const t=e.key;let o;this.activeEl===this.recentColor1El?o=1:this.activeEl===this.recentColor2El?o=2:this.activeEl===this.recentColor3El&&(o=3),"ArrowLeft"===t&&(o&&1!==o?this[`recentColor${o-1}El`].focus():this[`recentColor${this.recentColors.length}El`].focus()),"ArrowRight"===t&&(o&&o!==this.recentColors.length?this[`recentColor${o+1}El`].focus():this.recentColor1El.focus())},this.setInlineInputRef=e=>{this.inlineInputEl=e},this.setColorPickerRef=e=>{e&&(this.colorPickerEl=e)},this.setRecentColorRef1=e=>{e&&(this.recentColor1El=e)},this.setRecentColorRef2=e=>{e&&(this.recentColor2El=e)},this.setRecentColorRef3=e=>{e&&(this.recentColor3El=e)},this.onOpen=()=>{var e;null===(e=this.colorPickerEl)||void 0===e||e.setFocus(),this.arcgisColorInputPopoverOpen.emit()},this.handleClear=()=>{this.updateColor(null)},this.clearable=!1,this.color="#d00b33",this.compact=!1,this.disabled=!1,this.placement="auto",this.popoverProps=void 0,this.storageId=void 0,this.recentColors=[]}storedColorHandler(e){e.composedPath().includes(this.el)||this.setRecentColorsFromStorage()}arcgisRecentColorsUpdateHandler({detail:e}){this.storeRecentColorToStorage(e)}async setFocus(){var e;await(null===(e=this.inlineInputEl)||void 0===e?void 0:e.setFocus())}async close(){await this.inlineInputEl.close()}updateColor(e,t=!0){e!==this.color&&(this.color=e,this.arcgisColorInputChange.emit(),t&&this.storeRecentColorToStorage(e))}storeRecentColorToStorage(e){if(!e)return;const t=[e,...this.recentColors.filter((t=>t!==e))].slice(0,3);(0,r.s)(this.storageId,t,!0),this.recentColors=t,this.arcgisInternalColorInputStoredColor.emit()}async componentWillLoad(){console.warn("%capp-components","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",'[arcgis-color-input] component in @arcgis/app-components is deprecated and will be removed in a future version. Use "arcgis-color-input" from @arcgis/common-components instead.'),[this.strings]=await(0,s.g)(this.el),this.setRecentColorsFromStorage()}setRecentColorsFromStorage(){const e=(0,r.g)(this.storageId,!0);e&&(this.recentColors=[...e])}disconnectedCallback(){this.removeTooltip()}render(){const{compact:e,disabled:t,recentColors:o,strings:s}=this,r=[o[0],o[1]],n="rtl"===(0,l.g)(this.el);return e||r.push(o[2]),(0,i.h)(i.H,{key:"db91b7200bb05c186e118ed71bf2bcca89ea36ca"},(0,i.h)("arcgis-symbol-styler-inline-input",{key:"e2775945b9496f4c2bc81287b5fa3c2155c2ad21",disabled:t,intlDone:s.commitColor,heading:s.selectColor,label:s.selectColor,onArcgisSymbolStylerInlineInputClose:this.onClose,onArcgisSymbolStylerInlineInputOpen:this.onOpen,popoverProps:this.popoverProps,ref:this.setInlineInputRef},(0,i.h)("div",{key:"013b0e046ba2116ba5d0eace483969db509d13c5",class:f,slot:"content"},(0,i.h)("calcite-color-picker",{clearable:this.clearable,class:"color-picker",key:"color-picker"+(e?"--compact":""),onCalciteColorPickerInput:e=>{this.updateColor(this.colorPickerEl.value,!1),e.stopPropagation()},ref:this.setColorPickerRef,scale:e?"s":"m",storageId:this.storageId,value:this.color})),(0,i.h)("div",{key:"13a4bc779e205b352179c63b9b5d9f86dedc7e76",slot:"preview"},(0,i.h)("calcite-color-picker-swatch",{key:"04036c82a5f7e42985c40e34613b8ce397ed03ff",color:this.color,scale:"s"})),(0,i.h)("div",{key:"8ac0be9c44d0981a038561062e5c2bc6ed7f07e8","aria-label":s.recentColors,class:g,onKeyDown:this.recentColorsKeyDownHandler,slot:"content-end",tabindex:-1},r.map(((e,t)=>e?(0,i.h)("calcite-color-picker-swatch",{active:e===this.color,color:e,key:e,onClick:this.handleSwatchClickOrKeyUp,onFocus:this.focusHandler,onKeyUp:this.handleSwatchClickOrKeyUp,ref:this[`setRecentColorRef${t+1}`],role:"button",scale:"s",tabindex:0}):this.renderEmptySwatch(`empty-swatch-${t}`)))),this.clearable&&[(0,i.h)("div",{key:"d312deb60d17aa686957824ceb70a12c54a15c9a",slot:"content-end"},(0,i.h)("calcite-action",{key:"4b2af80d48793e97794250f5e2659a4a19440083",icon:"circle-disallowed",scale:"s",label:s.clearColor,text:s.clearColor,ref:e=>this.actionEl=e,onClick:this.handleClear,onMouseOver:()=>this.addTooltip({referenceElement:this.actionEl,placement:n?"right-start":"left-start",innerHTML:s.noColor}),onMouseOut:()=>this.removeTooltip()}))]))}renderEmptySwatch(e){return(0,i.h)("svg",{class:"empty-swatch",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"20",key:e},(0,i.h)("rect",{width:"20",height:"20",fill:"#f8f8f8",stroke:"#000","stroke-dasharray":"2"}))}addTooltip(e){this.removeTooltip(),this.tooltipEl=document.createElement("calcite-tooltip"),this.tooltipEl.placement=e.placement||"auto",this.tooltipEl.referenceElement=e.referenceElement,this.tooltipEl.overlayPositioning="fixed",this.tooltipEl.innerHTML=e.innerHTML,this.tooltipEl.open=!0,this.el.parentElement.appendChild(this.tooltipEl)}removeTooltip(){var e;(null===(e=this.tooltipEl)||void 0===e?void 0:e.parentNode)&&(this.tooltipEl.parentNode.removeChild(this.tooltipEl),this.tooltipEl=void 0)}get el(){return(0,i.d)(this)}};m.style=":host,arcgis-symbol-styler-inline-input{display:block}.color-picker-container{display:flex;flex-direction:column}.color-picker{--calcite-color-border-1:transparent;overflow-x:hidden}[slot=preview] calcite-color-picker-swatch{width:100%;height:24px}.recent{align-items:center;border:1px solid #949494;display:flex;gap:8px;height:32px;padding:0px 6px;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.recent:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.recent calcite-color-picker-swatch:not([active]){cursor:pointer}.recent calcite-color-picker-swatch:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.recent calcite-color-picker-swatch:focus[active]{border-radius:100%}.empty-swatch{cursor:default}calcite-tooltip:not([open]){visibility:hidden;pointer-events:none}";const y=class{constructor(e){(0,i.r)(this,e),this.arcgisPopupColorPopoverClose=(0,i.c)(this,"arcgisPopupColorPopoverClose",7),this.arcgisPopupColorPopoverOpen=(0,i.c)(this,"arcgisPopupColorPopoverOpen",7),this.arcgisPopupColorPopoverChange=(0,i.c)(this,"arcgisPopupColorPopoverChange",7),this.closedWithEvent=!1,this.handlePanelDismissedChange=e=>{const t=e.currentTarget;t.closed&&(this.close(),t.closed=!1),e.stopPropagation()},this.handleDone=()=>{this.close()},this.handlePopoverOpen=e=>{this.arcgisPopupColorPopoverOpen.emit(),e.stopPropagation()},this.handlePopoverClose=e=>{this.arcgisPopupColorPopoverClose.emit(),this.closedWithEvent=!0,e.stopPropagation()},this.handlePopoverKeyUp=({key:e})=>{"Escape"===e&&this.close()},this.disabled=!1,this.heading=void 0,this.intlDone=void 0,this.label=void 0,this.hexColor=void 0,this.popoverProps=void 0,this.open=!1}disabledChanged(e){e&&this.open&&this.close()}onInlineInputOpen(e){this.open&&(e.composedPath().includes(this.el)||(this.open=!1))}async setFocus(){var e;null===(e=this.panelElement)||void 0===e||e.setFocus()}async close(){this.open=!1,this.arcgisPopupColorPopoverClose.emit(),this.closedWithEvent=!0}async setOpen(e){this.open=e}disconnectedCallback(){this.closedWithEvent||this.arcgisPopupColorPopoverClose.emit()}render(){const{popoverProps:e}=this;return(0,i.h)(i.H,{key:"7f02a29f4126333fe52955bc54f73ab6e1cc1609",class:"js-app-flyout"},(0,i.h)("calcite-popover",{key:"ad085d2c3c9d96dcb66613f5aaea72247574081c",pointerDisabled:!0,onKeyUp:this.handlePopoverKeyUp,label:this.label,offsetDistance:(null==e?void 0:e.offsetDistance)||0,offsetSkidding:(null==e?void 0:e.offsetSkidding)||0,flipDisabled:(null==e?void 0:e.flipDisabled)||!1,open:this.open,overlayPositioning:(null==e?void 0:e.overlayPositioning)||"fixed",referenceElement:(null==e?void 0:e.refElement)||this.previewContainerEl,onCalcitePopoverClose:this.handlePopoverClose,onCalcitePopoverOpen:this.handlePopoverOpen,placement:(null==e?void 0:e.placement)||"bottom",triggerDisabled:!0},(0,i.h)("calcite-panel",{key:"e1648c869986144104609d798f88cec68b011b9f",closable:!0,onCalcitePanelClose:this.handlePanelDismissedChange,heading:this.heading,style:(null==e?void 0:e.maxHeight)&&{maxHeight:e.maxHeight},ref:e=>this.panelElement=e},(0,i.h)("calcite-color-picker",{key:"a29945d5f503dc990229271103d576e6ad483d0b",clearable:!1,onCalciteColorPickerInput:e=>{const t=e.target.value;this.arcgisPopupColorPopoverChange.emit(t),e.stopPropagation()},scale:"m",value:this.hexColor,storageId:"arcgis-symbol-styler-storage-colors"}),(0,i.h)("calcite-button",{key:"1ae59b580d89435d27267b0a49c8c78f5c6aa4b7",appearance:"solid",scale:"m",slot:"footer",width:"full",label:this.intlDone,onClick:this.handleDone},this.intlDone))))}get el(){return(0,i.d)(this)}static get watchers(){return{disabled:["disabledChanged"]}}},b=class{constructor(e){(0,i.r)(this,e),this.arcgisPopupStylerPopoverClose=(0,i.c)(this,"arcgisPopupStylerPopoverClose",7),this.arcgisPopupStylerPopoverDisconnected=(0,i.c)(this,"arcgisPopupStylerPopoverDisconnected",7),this.documentTabHandler=void 0,this.documentClickHandler=void 0,this.panelScrollHandler=void 0,this.onOpen=()=>{requestAnimationFrame((()=>this.setFocus()))},this.referenceElement=void 0,this.open=!1}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}async setFocus(){var e;null===(e=this.closeActionNode)||void 0===e||e.setFocus()}async setOpen(e){var t;this.popoverNode&&(this.popoverNode.open=e,e&&(null===(t=this.panelNode)||void 0===t||t.setFocus(),this.popoverNode.reposition()))}async addStyler(e){this.contentNode&&this.contentNode.appendChild(e)}async getPopoverRefElement(){return this.closeActionNode}componentWillLoad(){this.strings=n.p.strings}componentDidLoad(){requestAnimationFrame((()=>{var e;return null===(e=this.closeActionNode)||void 0===e?void 0:e.setFocus()}))}disconnectedCallback(){this.arcgisPopupStylerPopoverDisconnected.emit()}render(){const{referenceElement:e,open:t,strings:o}=this;return(0,i.h)(i.H,{key:"68ae82599ce45e2ed2ed291cd323bec09a6f1291",class:"js-app-flyout"},(0,i.h)("calcite-popover",{key:"c8eec9f69cac85e79e426fe7b7f0e4910f4060fa",open:t,placement:"leading-start",offsetDistance:0,offsetSkidding:45,pointerDisabled:!0,triggerDisabled:!0,label:o.chartStyle,referenceElement:e,onCalcitePopoverOpen:this.onOpen,ref:e=>this.popoverNode=e},(0,i.h)("calcite-panel",{key:"2a088c30575d21d3b05deeaa5de251081a448b92",closable:!1,heading:o.chartStyle,class:"styler-panel",ref:e=>this.panelNode=e,onCalcitePanelClose:()=>{this.arcgisPopupStylerPopoverClose.emit(),setTimeout((()=>e.parentElement.focus()),300)}},(0,i.h)("calcite-action",{key:"da4d38bd98f11698a82304c8e09cff84fcf5fb2b",id:"symbol-styler-dismiss-button",slot:"header-actions-end",scale:"s",icon:"x",text:o.close,onClick:()=>this.arcgisPopupStylerPopoverClose.emit(),ref:e=>this.closeActionNode=e}),(0,i.h)("div",{key:"2a75552c82523bab190a24fd26201353e01177cb",class:"styler-div",ref:e=>this.contentNode=e}))))}get hostElement(){return(0,i.d)(this)}};b.style=".styler-panel{width:328px;min-height:300px}.styler-div{width:100%}";const v=class{constructor(e){(0,i.r)(this,e),this.arcgisSliderInputValueChange=(0,i.c)(this,"arcgisSliderInputValueChange",7),this.applyValueOnChange=(0,a.d)((e=>{this.debouncedApplyValueOnChange(e)}),800),this.disabled=!1,this.flipLabels=!1,this.min=void 0,this.max=void 0,this.value=void 0,this.step=void 0,this.unitsLabel=void 0,this.withSteppers=!1,this.label=void 0}render(){const{disabled:e,min:t,max:o,value:s,step:r,withSteppers:l,flipLabels:n,unitsLabel:a,label:c}=this;return(0,i.h)(i.H,{key:"b317cc72e251984d721618c14bcc17c48cfddedc"},(0,i.h)("div",{key:"42a486e471b8a68372f6c7fdc8d360b0de839469",class:"select-number"},(0,i.h)("calcite-slider",{key:"43aa3d778d7590d00c1f15fc9ac46a66631b7d1a",class:"slider",disabled:e,min:t,max:o,value:s,step:r,onCalciteSliderInput:e=>this.applyValueOnChange(e.target)}),(0,i.h)("calcite-input",{key:"ccf36fe29cfc645b084d3fb06ba3137deed81fe1",class:"select-number-input",disabled:e,min:t,max:o,numberButtonType:l?"vertical":"none",prefixText:n?a:"",onCalciteInputInput:e=>this.applyValueOnChange(e.target),onClick:e=>e.stopPropagation(),scale:"s",step:"any",suffixText:n?"":a,type:"number",value:`${s}`,label:c})))}debouncedApplyValueOnChange(e){const{min:t,max:o,value:i}=this,s=Number(e.value),r=Math.min(o,Math.max(t,s));s!==i&&(e.value=`${r}`,this.arcgisSliderInputValueChange.emit(r))}get hostElement(){return(0,i.d)(this)}};v.style=".select-number{display:flex;align-items:center;justify-content:space-between;position:relative}.slider{width:50%}.select-number-input{width:45%;font-size:var(--arcgis-app-font-size-0);font-family:var(--arcgis-app-font-family)}";const w=class{constructor(e){(0,i.r)(this,e),this.arcgisSymbolPickerFileUploadChange=(0,i.c)(this,"arcgisSymbolPickerFileUploadChange",7),this.arcgisSymbolPickerFileUploadInvalidFile=(0,i.c)(this,"arcgisSymbolPickerFileUploadInvalidFile",7),this.arcgisSymbolPickerFileUploadError=(0,i.c)(this,"arcgisSymbolPickerFileUploadError",7),this.handleDragOver=e=>{e.preventDefault()},this.handleDrop=e=>{e.preventDefault(),this.processFile(e.dataTransfer.files[0])},this.handleFileInputChange=async e=>{await this.processFile(e.target.files[0])},this.portal=void 0,this.strings=void 0,this.hideSvgUploadSymbols=!1}render(){const e=this.hideSvgUploadSymbols?this.strings.fileUpload.dragDropNoSvg:this.strings.fileUpload.dragDrop;return(0,i.h)("div",{key:"f44a64d3983c58757ed018a739067d6e4a2672c2",class:"file-step","aria-label":e,onDragOver:this.handleDragOver,onDragEnter:this.handleDragOver,onDrop:this.handleDrop},(0,i.h)("div",{key:"e3c3ae28ac0fe6b4ee247e780885c39f4dc621fb"},(0,i.h)("div",{key:"e18d2cb760c63a70e45a01ec0479e4d933883b19",class:"file-step__drag-text","aria-label":e},e),(0,i.h)("calcite-button",{key:"bb7992a494098df035ebffb8f67017a44adf127d",class:"file-step__browse-button",appearance:"transparent",iconStart:"image",onClick:()=>{this.fileInput.click()}},this.strings.fileUpload.browse),(0,i.h)("input",{key:"4c9c75f086dc673513507662169466ed85b7ff7f",ref:e=>{this.fileInput=e},onChange:this.handleFileInputChange,class:"file-step__file-input",type:"file",accept:".jpg,.gif,.png,.svg,image/jpg,image/gif,image/png,image/svg+xml"})))}async processFile(e){const{portal:t}=this;if(e&&e){if(!this.isValidFile(e))return void this.arcgisSymbolPickerFileUploadInvalidFile.emit();if(this.isSVGFile(e)){const[o]=await(0,c.l)(["esri/rest/symbolService"]),i=t.helperServices.symbols.url,s=new FileReader;s.onload=async t=>{const s={svgImage:t.target.result};o.generateSymbol(i,s).then((t=>{this.arcgisSymbolPickerFileUploadChange.emit({cim:t.symbol,fileName:e.name||"",width:t.symbol.width,height:t.symbol.height})}))},s.readAsText(e)}else{const t=new FileReader;t.onload=async t=>{var o=new Image;o.src=t.target.result,o.onload=()=>{this.arcgisSymbolPickerFileUploadChange.emit({dataURL:t.target.result,fileName:e.name||"",width:o.width,height:o.height})},o.onerror=()=>{this.arcgisSymbolPickerFileUploadError.emit()}},t.readAsDataURL(e)}}}isValidFile(e){const t=this.hideSvgUploadSymbols?/\.(gif|jpg|jpeg|png)$/iu:/\.(gif|jpg|jpeg|png|svg)$/iu;return(null==e?void 0:e.name)&&t.test(e.name)}isSVGFile(e){return(null==e?void 0:e.name)&&/\.(svg)$/i.test(e.name)}get el(){return(0,i.d)(this)}};w.style=":host{display:inline-block;background-color:white;width:100%;padding:20px 5px 15px 5px;border-color:var(--calcite-color-border-1);border-width:2px;border-style:dashed;box-sizing:border-box}.file-step{text-align:center}.file-step__upload-icon{margin-bottom:0.5rem;margin-top:0.25rem;color:var(--calcite-color-text-3)}.file-step__upload-icon calcite-icon{width:4rem;height:4rem}.file-step__drag-text{font-size:0.9rem;margin-bottom:0.25rem}.file-step__browse-button{margin-top:1rem}.file-step__file-input{display:none}";const C="arcgis-symbol-styler-storage-styles",k=class{constructor(e){(0,i.r)(this,e),this.arcgisSymbolStylerBrowseStylesClose=(0,i.c)(this,"arcgisSymbolStylerBrowseStylesClose",7),this.cardNodes={},this.editGeometry=void 0,this.excludeItemIds=void 0,this.portal=void 0,this.strings=void 0,this.items=void 0,this.pagination=void 0,this.selectedCount=0}async componentWillLoad(){const{editGeometry:e}=this,t=(0,r.g)(C,!0)||{};this.savedStyleIds=(null==t?void 0:t[e])||[]}render(){var e,t,o;const{portal:s,editGeometry:r,savedStyleIds:l,excludeItemIds:n,strings:a}=this,c=s.user;let p="";null==l||l.forEach((e=>p+=` -id:${e}`)),(null==n?void 0:n.length)&&n.forEach((e=>p+=` -id:${e}`));const h=`type:"Style" typekeywords:"web2d" ${"point"===r?'typekeywords:"pointSymbol"':"line"===r?'typekeywords:"lineSymbol"':'typekeywords:"polygonSymbol"'}${p}`,u=`${(0,d.d)(s)}/home/`;return(0,i.h)(i.H,{key:"37d680e461ae9bf78c836c953921e9757519ad9c"},(0,i.h)("calcite-dialog",{key:"dbbc5cd7014022a4833aaff20ad20b2a8d99e469",class:"styles-dialog",open:!0,modal:!0,scale:"l",escapeDisabled:!0,outsideCloseDisabled:!0,onCalciteDialogClose:()=>this.arcgisSymbolStylerBrowseStylesClose.emit(),heading:a.addStyles},(0,i.h)("arcgis-item-browser",{key:"be86a2a1c4762ddbbc013cf6822bcb99dfe3f180",view:"list",selection:"multiple",filter:h,portal:s,user:c,api:4,config:{baseUrl:u},onArcgisItemBrowserUpdate:e=>{const{results:t,num:o,start:i,total:s}=e.detail;this.items=t,this.pagination={start:i,num:o,total:s}},onArcgisItemBrowserSelect:()=>{var e,t;return this.selectedCount=null===(t=null===(e=this.itemBrowserNode)||void 0===e?void 0:e.selectedItems)||void 0===t?void 0:t.length},ref:e=>this.itemBrowserNode=e},(0,i.h)("arcgis-item-browser-top-bar",{key:"9e6b520e0f28ff772b4e60adf4e9b9c0a73407e9",slot:"top-bar","filter-toggle":!0},(0,i.h)("arcgis-item-browser-bucket-select",{key:"62b01adc932b21ffdae4f540c3c8fe51db880425",slot:"bucket",options:s.isPortal?["my","favorites","group","org","living atlas"]:void 0}),(0,i.h)("arcgis-item-browser-search",{key:"875673c42b2afe10bd5ad587c159b1c9c17213b2",slot:"search",term:""})),(0,i.h)("arcgis-item-browser-sort",{key:"802bdf60bc0f5454a909c5046b6d8eec5fd1eba5",options:["modified","title","relevance"],slot:"sort"}),(0,i.h)("arcgis-item-browser-filters",{key:"46fcbbcabb12061af1e9e6e025be2090fafc60d5",slot:"filters"},s.user&&(0,i.h)("arcgis-item-browser-filter-folder",{key:"7f3f11118ef8457ad2517a405f1fdeff24989b50"}),(0,i.h)("arcgis-item-browser-filter-categories",{key:"f7c9f7e873fb724986d9bc9c996586d8bdbd7ec0"}),(0,i.h)("arcgis-item-browser-filter-sharing",{key:"7d19f56aa6467fbe6c2a38cb6ebab297ea11346a"}),(0,i.h)("arcgis-item-browser-filter-collaborations",{key:"a077dc47d9ed643f336a60cade1151e4e952d00f"}),(0,i.h)("arcgis-item-browser-filter-tags",{key:"e43776e138d68689ab0824bab18125e8951d48a4"}),(0,i.h)("arcgis-item-browser-filter-content-status",{key:"d64917b3196ec5f6690e628369497c47bea79c98"}),(0,i.h)("arcgis-item-browser-filter-date",{key:"d8c8c5de82202f035dce074a50397999e6d6a352",property:"modified"}),(0,i.h)("arcgis-item-browser-filter-date",{key:"9ad8c95227a1ebfeb189cba6a1c79fdc9227ec2e",property:"created"})),(0,i.h)("arcgis-item-browser-content",{key:"2a379afda3d760ae1bcfadb6965c10020b83bc1a",slot:"content"},(this.items||[]).map((e=>(0,i.h)("arcgis-item-browser-card",{key:`card-${e.id}`,item:e,portal:s,baseUrl:u,showItemType:!0,showDateUpdated:!0,showOwner:!0,showSummary:!0,showThumbnail:!0,ref:t=>this.cardNodes[e.id]=t},(0,i.h)("calcite-button",{label:a.viewItemDetail,scale:"s",appearance:"outline-fill",kind:"neutral",slot:"actions-end",target:"_blank",href:`${u}/item.html?id=${e.id}`},a.viewItemDetail))))),(0,i.h)("arcgis-item-browser-pagination",{key:"66d57513efb0cc1359bf4107ffb313eea6055177",slot:"pagination",total:null===(e=this.pagination)||void 0===e?void 0:e.total,start:null===(t=this.pagination)||void 0===t?void 0:t.start,num:null===(o=this.pagination)||void 0===o?void 0:o.num})),(0,i.h)("calcite-button",{key:"ecddb2b5644c5cc698a80720535327bab03143cb",slot:"footer-end",appearance:"outline-fill",alignment:"center",onClick:()=>this.arcgisSymbolStylerBrowseStylesClose.emit()},this.strings.cancel),(0,i.h)("calcite-button",{key:"a928dc9c4afaa8cf4a80be04fb669f9e06c632a0",slot:"footer-end",alignment:"center",appearance:"solid",disabled:!this.selectedCount,onClick:()=>{this.saveNewStyleItemsInLocalStorage(this.itemBrowserNode.selectedItems),this.arcgisSymbolStylerBrowseStylesClose.emit(this.itemBrowserNode.selectedItems.length?this.itemBrowserNode.selectedItems.map((e=>e.id)):[])}},this.strings.add)))}saveNewStyleItemsInLocalStorage(e){const{editGeometry:t}=this,o=(0,r.g)(C,!0)||{},i=(null==o?void 0:o[t])||[];if(e.map((e=>e.id)).forEach((e=>{i.includes(e)||i.push(e)})),this.savedStyleIds=i,o[t]=i,["point","polygon"].includes(t)){const t=e.filter((e=>e.typeKeywords.includes("lineSymbol"))).map((e=>e.id)),i=o.line||[];t.forEach((e=>{i.includes(e)||i.push(e)})),i.length&&(o.line=i)}if(["point","line"].includes(t)){const t=e.filter((e=>e.typeKeywords.includes("polygonSymbol"))).map((e=>e.id)),i=o.polygon||[];t.forEach((e=>{i.includes(e)||i.push(e)})),i.length&&(o.polygon=i)}if(["line","polygon"].includes(t)){const t=e.filter((e=>e.typeKeywords.includes("pointSymbol"))).map((e=>e.id)),i=o.point||[];t.forEach((e=>{i.includes(e)||i.push(e)})),i.length&&(o.point=i)}(0,r.s)(C,o,!0)}get hostElement(){return(0,i.d)(this)}};k.style=".styles-dialog{--calcite-dialog-size-y:min(900px, calc(80vh + 100px));--calcite-dialog-size-x:1080px;--calcite-dialog-content-space:0px}";const S="color-picker-container";let x=0;const P="color-ramp-item",I=({stops:e,style:t="continuous",name:o,layout:s="vertical",width:r=20,height:l=70})=>{const n=x+++"-color-ramp-gradient",a="vertical"===s?"rotate(90)":"";return(0,i.h)("span",{title:o,class:P},(0,i.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:l,width:r},(0,i.h)("defs",null,(0,i.h)("linearGradient",{id:n,gradientTransform:a},"continuous"===t?function(e){const t=1/(e.length-1);return e.slice().map((({r:e,g:o,b:s},r)=>{const l=r*t*100;return(0,i.h)("stop",{"stop-color":`rgb(${e}, ${o}, ${s})`,offset:`${l}%`})}))}(e):function(e){const t=1/e.length,o=[];return e.slice().forEach((({r:e,g:s,b:r},l)=>{const n=l*t*100,a=(l+1)*t*100;o.push((0,i.h)("stop",{"stop-color":`rgb(${e}, ${s}, ${r})`,offset:`${n}%`}),(0,i.h)("stop",{"stop-color":`rgb(${e}, ${s}, ${r})`,offset:`${a}%`}))})),o}(e))),(0,i.h)("rect",{x:"0",y:"0",fill:`url('#${n}')`,width:"100%",height:"100%"})))};const E="color-ramp-item",U=({stops:e,name:t,opacity:o=null,size:s=48})=>{const{svgUtils:r}=u.e,l=Math.sqrt(e.length),n=(0,p.F)(e),a=Math.sqrt(Math.pow(s,2)+Math.pow(s,2))+0;let c=null;null!=o&&(c={opacity:`${o}`});const d=[],h=[],g=[],f=(s||75)/l;for(let e=0;e<l;e++){const t=e*f;for(let o=0;o<l;o++){const i=o*f,s=R(n[e][o]),l=$(null),a={type:"rect",x:i,y:t,width:f,height:f};d.push(D(s)),h.push(_(a,s.fill,l,null)),g.push(r.getBoundingBox(a))}}const m=r.computeBBox(g),y=r.getTransformMatrix(m,a,a,0,!1,0);return(0,i.h)("span",{title:t,class:E},(0,i.h)("div",{style:c},(0,i.h)("svg",{width:a,height:a,style:null,xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("defs",null,d),(0,i.h)("g",{transform:y},h))))};function D(e){const{pattern:t,linearGradient:o}=e;if(t)return(0,i.h)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},(0,i.h)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(o){const e=o.stops.map(((e,t)=>(0,i.h)("stop",{key:`${t}-stop`,offset:e.offset,"stop-color":e.color})));return(0,i.h)("linearGradient",{id:o.id,gradientUnits:"userSpaceOnUse",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},e)}return null}let O=0,T=0;function _(e,t,o,s){if(e){if("circle"===e.type)return(0,i.h)("circle",{fill:t,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if("ellipse"===e.type)return(0,i.h)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if("rect"===e.type)return(0,i.h)("rect",{fill:t,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if("image"===e.type)return(0,i.h)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if("path"===e.type){const s="string"!=typeof e.path?e.path.map((e=>`${e.command} ${e.values.join(" ")}`)).join(" ").trim():e.path;return(0,i.h)("path",{fill:t,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",d:s})}if("text"===e.type)return(0,i.h)("text",{fill:t,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4","text-anchor":s.align,"text-decoration":s.decoration,kerning:s.kerning,rotate:s.rotate,"text-rendering":"auto","font-style":s.font.style,"font-variant":s.font.variant,"font-weight":s.font.weight,"font-size":s.font.size,"font-family":s.font.family,x:e.x,y:e.y},e.text)}return null}function R(e){const t={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){const o="patternId-"+ ++O;t.fill=`url(#${o})`,t.pattern={id:o,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){const o="linearGradientId-"+ ++T;t.fill=`url(#${o})`,t.linearGradient={id:o,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((e=>({offset:e.offset,color:e.color&&(0,h.c)(e.color).toString()})))}}else if(e){const o=(0,h.c)(e);t.fill=o.toString()}return t}function $(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=(0,h.c)(e.color).toString()),e.style)){let o=null;if(e.style in F&&(o=F[e.style]),Array.isArray(o)){o=o.slice(0);for(let t=0;t<o.length;++t)o[t]*=e.width;if("butt"!==e.cap){for(let t=0;t<o.length;t+=2)o[t]-=e.width,o[t]<1&&(o[t]=1);for(let t=1;t<o.length;t+=2)o[t]+=e.width}o=o.join(",")}t.dashArray=o}return t}const F={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},A=class{constructor(e){(0,i.r)(this,e),this.setInlineInputRef=e=>{this.inlineInputEl=e},this.disabled=!1,this.options=void 0,this.placement="auto",this.popoverProps=void 0,this.strings=void 0}async setFocus(){var e;await(null===(e=this.inlineInputEl)||void 0===e?void 0:e.setFocus())}async close(){var e;await(null===(e=this.inlineInputEl)||void 0===e?void 0:e.close())}render(){const{disabled:e,strings:t}=this,o=(0,l.g)(this.el);return(0,i.h)(i.H,{key:"ffd4bdc33411315c13d8529e83e9c1c1216a95e4"},(0,i.h)("arcgis-symbol-styler-inline-input",{key:"3089ae4b143acdcdf18fb2382c2108820b58c807",disabled:e,intlDone:t.done,heading:t.ramp,label:this.options.heading,popoverProps:this.popoverProps,ref:this.setInlineInputRef,class:{[l.C.rtl]:"rtl"===o}},(0,i.h)("div",{key:"db557e6f02ccbbc7b4fdb6bf8262969295927325",class:S,slot:"content"},this.renderRampsContent(this.options)),(0,i.h)("div",{key:"aff97a31263e889929e6abe6ade9aa8786748e76",slot:"preview"},(0,i.h)(I,{key:"235847e2322066399868f07606a072b591a009ea",stops:this.options.colorRampStops.slice().reverse(),style:this.options.style,layout:"horizontal",height:"100%",width:"100%"}))))}renderRampsContent({activeCategory:e,colorRamps:t,isSelected:o,onCategoryChange:s,onFlip:r,onSelect:l,style:n}){const{strings:a}=this,{categories:c,ramps:d}=this.getCategoriesAndColorRampsBySelectedCategory(e,t),h="2d"===n,u=h?"rotate":"arrow-up-down",g=h?a.rotateColors:a.flipColors,f=h?U:I,m=h?3:6;return[(0,i.h)("div",{class:"section"},(0,i.h)("calcite-label",null,this.strings.category,(0,i.h)("calcite-select",{width:"full",label:this.strings.category,onCalciteSelectChange:s},c.map((t=>(0,i.h)("calcite-option",{value:t,label:a.categories[t],selected:t===e}))))),(0,i.h)("calcite-button",{class:p.C.colorRampFlipper,appearance:"transparent",onClick:e=>{e.preventDefault(),e.stopImmediatePropagation(),r()},scale:"s",width:"full"},(0,i.h)("calcite-icon",{icon:u,scale:"s",style:h?{transform:"rotateY(180deg)"}:null}),g)),(0,i.h)("div",{class:{[p.C.scroller]:!0,[p.C.colorRampSelection]:!0}},(0,i.h)("arcgis-item-palette",{items:d,extraItemProps:{style:n},ItemRenderer:f,itemsPerRow:m,selected:o,onArcgisItemSelect:l}))]}getCategoriesAndColorRampsBySelectedCategory(e,t){const o=p.G[e],i=t.filter((t=>"all"===e||o.some((e=>t.tags.indexOf(e)>-1)))),s=new Set;t.forEach((e=>e.tags.forEach((e=>s.add(e)))));return{categories:Object.keys(p.G).filter((e=>"all"===e||p.G[e].some((e=>s.has(e))))),ramps:i}}get el(){return(0,i.d)(this)}};A.style=".scroller{max-height:var(--scroller-max-height, 200px);overflow-y:auto;min-width:200px;overflow-x:hidden;display:flex;justify-content:center}.color-ramp-item{display:inline-flex;flex-grow:1}.color-ramp-item svg{display:flex}.color-picker-container{display:flex;flex-direction:column}.color-picker-container arcgis-item-palette .palette{gap:20px}calcite-color-picker-swatch{width:200px}.section{display:flex;flex-direction:column;padding:12px;background-color:var(--arcgis-app-background)}.color-ramp-selection{padding:4px 20px 4px 4px;border:1px solid lightgray;border-top:none}.arcgis--rtl .color-ramp-selection{padding:4px 4px 4px 20px;}.color-ramp-flipper calcite-icon{margin:0 0.5rem}[slot=preview] .color-ramp-item{height:24px}";const j=class{constructor(e){(0,i.r)(this,e),this.disabled=!1,this.embedded=!1}render(){return(0,i.h)(i.H,{key:"168891dda390fe49768b01561c1cc3d10fd36ee8",tabindex:this.disabled?-1:""},(0,i.h)("slot",{key:"f6e2e6b53d7273a05c35e876ce9ffe2303d78fe2"}))}};j.style=":host{display:flex;flex-direction:column;background-color:var(--arcgis-app-background);padding:16px 12px}:host([disabled]){opacity:var(--arcgis-app-disabled-opacity);pointer-events:none}:host([embedded]){padding:0}";const N=class{constructor(e){(0,i.r)(this,e),this.updatePreview=(0,a.d)((async()=>{var e,t,o;const{symbol:i}=this;if(!i)return;const s=Object.assign(Object.assign({},this.options),{size:(null===(e=this.options)||void 0===e?void 0:e.size)&&"object"==typeof this.options.size?Object.assign({},this.options.size):null===(t=this.options)||void 0===t?void 0:t.size});"cim"===i.type&&"CIMPolygonSymbol"===i.data.symbol.type?null==s||delete s.size:"cim"===i.type&&"CIMLineSymbol"===i.data.symbol.type&&s.size&&"object"==typeof s.size&&(s.size.height=20);const r=i.clone();"picture-marker"===r.type&&s.size&&"number"==typeof s.size?(r.width=r.width/r.height*s.size,r.height=s.size):"simple-line"===r.type&&s.size&&"object"==typeof s.size&&(r.width=s.size.height);const l=u.e.symbolUtils.renderPreviewHTML(r,s);this.lastPreviewRender=l;const n=await l;this.lastPreviewRender!==l||(null===(o=this.lastPreview)||void 0===o||o.remove(),this.lastPreview=n,this.el.shadowRoot.append(n),this.backgroundTheme=u.e.previewSymbol2D.getContrastingBackgroundTheme(i,245))}),250),this.backgroundTheme="light",this.contrast=!1,this.options=void 0,this.symbol=void 0}watchSymbolAndOptions(){this.updatePreview()}async componentDidLoad(){await this.updatePreview()}render(){return(0,i.h)(i.H,{key:"21a6592119b5cde5f0575a75212ee7cd23f72345",class:{dark:this.contrast&&"dark"===this.backgroundTheme}})}get el(){return(0,i.d)(this)}static get watchers(){return{symbol:["watchSymbolAndOptions"],options:["watchSymbolAndOptions"]}}};N.style=":host{display:inline-block}:host(.dark){background-color:#f3f3f3}img{vertical-align:middle}"},15728:(e,t,o)=>{o.d(t,{c:()=>r,i:()=>l});var i=o(6589);const s=[0,0,0,0];function r(e,t=!1){const o=null!=e?e:s;return t?i.e.Color.fromJSON(o):new i.e.Color(o)}function l({r:e,g:t,b:o,a:i}){return 0===e&&0===t&&0===o&&0===i}},63397:(e,t,o)=>{o.d(t,{A:()=>S,B:()=>x,C:()=>i,D:()=>P,E:()=>I,F:()=>F,G:()=>s,a:()=>y,b:()=>l,c:()=>c,d:()=>n,e:()=>d,f:()=>$,g:()=>a,h:()=>p,i:()=>E,j:()=>h,k:()=>f,l:()=>g,m:()=>b,n:()=>v,o:()=>m,p:()=>u,q:()=>k,r:()=>w,s:()=>r,t:()=>C,u:()=>O,v:()=>T,w:()=>U,x:()=>D,y:()=>_,z:()=>R});const i={customSymbolContent:"custom-symbol-content",autoAdjustLabel:"auto-adjust-label",styleDropdown:"style-dropdown",arrowDropdown:"arrow-dropdown",iconDropdown:"icon-dropdown",iconDropdownSelected:"icon-dropdown--selected",iconDropdownItemContent:"icon-dropdown-item-content",colorRampFlipper:"color-ramp-flipper",scroller:"scroller",colorRampSelection:"color-ramp-selection",sectionToggleDisabled:"section-toggle--disabled",autoAdjustCheckbox:"auto-adjust-checkbox",contentGroup:"content-group",colorLockedInfo:"color-locked-info",message:"message",container:"container",label:"label",openIcon:"open-icon",symbol:"symbol",changeSymbolTrigger:"change-symbol-trigger"},s={all:["*"],light:["light"],dark:["dark"],redsAndYellows:["oranges","reds","yellows"],greens:["greens"],blues:["blues"],purplesAndPinks:["purples","pinks"],browns:["browns"],grays:["grays"],bright:["bright"],subdued:["subdued"],colorblindFriendly:["colorblind-friendly"]},r=["none","begin","end","begin-end"],l=["solid","dash","dot","dash-dot","long-dash-dot-dot","short-dash","short-dot","short-dash-dot","short-dash-dot-dot","long-dash","long-dash-dot"],n={size:!0,preview:!0,rotation:!0},a={style:!0,arrow:!0,width:!0,autoStrokeAdjust:!1},c={suggestedColors:!0,customColor:!0,transparency:!0},d={colorRamps:!0,transparency:!0},p={extra:!0},h="arcgis-symbol-styler-storage-colors",u={size:24,maxSize:24},g={size:{width:60,height:2}},f=100,m=0,y=18,b=0,v=360,w=0,C=150,k=1,S=200,x=0,P=100,I=0,E=10,U=200,D=0,O=100,T=0,_=120,R=0;function $(e,t=!1){return t?function(e){const t=Math.sqrt(e.length),o=F(e).reverse(),i=[];for(let e=0;e<t;e++){const t=[];o.forEach((o=>t.push(o[e]))),i.push(t)}return function(e,t){let o=[];e=e.slice().map((e=>e.slice()));const i=(t||"HH").split(""),s=i[0],r=i[1];"L"===s&&e.reverse();const l="H"===r;return e.forEach((e=>{l&&e.slice().reverse(),o=o.concat(e)})),o}(i).reverse()}(e):e.slice().reverse()}function F(e,t){let o=[];const i=Math.sqrt(e.length),s=(t||"HH").split(""),r=s[0],l="H"!==s[1];for(let t=0;t<i;t++){let s=[];for(let o=0;o<i;o++){const r=t*i+o;s.push(e[r])}l&&s.reverse(),o.push(s)}return"L"===r&&o.reverse(),o}},4948:(e,t,o)=>{o.d(t,{c:()=>s,o:()=>r});const i=(0,o(18991).c)({portal:null,user:null,api:4,scale:"m"}),s=i.state,r=i.onChange},26408:(e,t,o)=>{o.d(t,{a:()=>c,b:()=>h,c:()=>s,d:()=>i,e:()=>l,f:()=>r,g:()=>d,h:()=>u,i:()=>g,m:()=>n,t:()=>a,u:()=>p});const i=(e,t)=>{let o,i="idle";const s=(...s)=>new Promise((r=>{switch(i){case"flushed":i="idle",o?(clearTimeout(o),r(e(...s))):r(null);break;case"invoked":clearTimeout(o),i="idle",r(e(...s));break;case"cancelled":clearTimeout(o),i="idle",r(null);break;default:o&&clearTimeout(o),i="pending",o=setTimeout((()=>(i="idle",r(e(...s)))),t)}}));return s.flush=function(...e){return i="flushed",s(...e)},s.invoke=function(...e){return i="invoked",s(...e)},s.cancel=function(...e){return i="cancelled",s(...e)},s.getStatus=function(){return i},s},s=(e,t)=>{let o;return(...i)=>new Promise((s=>{o||(o=setTimeout((()=>{clearTimeout(o),o=void 0,s(e(...i))}),t))}))};function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(e){return null!=e}async function n(e,t){return await Promise.all([e,a(t)]),e}function a(e){return new Promise((t=>setTimeout(t,e)))}const c=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:o,data:i}=t(e);return[o,i]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,o)=>e&&t.indexOf(o)>-1),!0);function p(e,t){const o=[],i={};return e.forEach((e=>{const s=t(e);null==i[s]&&(i[s]=e,o.push(e))})),o}function h(e){const t={boolean:{},number:{},string:{}},o=[];return e.filter((e=>{let i=typeof e;return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(o.indexOf(e)>=0)&&o.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((o,i)=>e.slice(t*i,t+t*i))),g=(e,t)=>e.includes(t)},18991:(e,t,o)=>{o.d(t,{c:()=>a});var i=o(19564);const s=e=>!("isConnected"in e)||e.isConnected,r=((e,t)=>{let o;return(...i)=>{o&&clearTimeout(o),o=setTimeout((()=>{o=0,e(...i)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(s))}),2e3),l=e=>"function"==typeof e?e():e,n=(e,t)=>{const o=e.indexOf(t);o>=0&&(e[o]=e[e.length-1],e.length--)},a=(e,t)=>{const o=((e,t=(e,t)=>e!==t)=>{const o=l(e);let i=new Map(Object.entries(null!=o?o:{}));const s={dispose:[],get:[],set:[],reset:[]},r=()=>{var t;i=new Map(Object.entries(null!==(t=l(e))&&void 0!==t?t:{})),s.reset.forEach((e=>e()))},a=e=>(s.get.forEach((t=>t(e))),i.get(e)),c=(e,o)=>{const r=i.get(e);t(o,r,e)&&(i.set(e,o),s.set.forEach((t=>t(e,o,r))))},d="undefined"==typeof Proxy?{}:new Proxy(o,{get:(e,t)=>a(t),ownKeys:e=>Array.from(i.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>i.has(t),set:(e,t,o)=>(c(t,o),!0)}),p=(e,t)=>(s[e].push(t),()=>{n(s[e],t)});return{state:d,get:a,set:c,on:p,onChange:(t,o)=>{const i=p("set",((e,i)=>{e===t&&o(i)})),s=p("reset",(()=>o(l(e)[t])));return()=>{i(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(p("set",t.set)),t.get&&e.push(p("get",t.get)),t.reset&&e.push(p("reset",t.reset)),t.dispose&&e.push(p("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{s.dispose.forEach((e=>e())),r()},reset:r,forceUpdate:e=>{const t=i.get(e);s.set.forEach((o=>o(e,t,t)))}}})(e,t);return o.use((()=>{if("function"!=typeof i.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const o=(0,i.g)();o&&((e,t,o)=>{const i=e.get(t);i?i.includes(o)||i.push(o):e.set(t,[o])})(e,t,o)},set:t=>{const o=e.get(t);o&&e.set(t,o.filter(i.f)),r(e)},reset:()=>{e.forEach((e=>e.forEach(i.f))),r(e)}}})()),o}},62273:(e,t,o)=>{o.d(t,{c:()=>i,p:()=>s});function i(e){e.layer=null,e.mapView=null,e.portal=null,e.config=null,e.strings=null,e.currentLanguage=null,e.currentLanguageIntl=null,e.serviceType=null,e.popupTemplate=null,e.layerHasAttachment=null,e.layerHasET=null,e.layerIsUNLayer=null,e.layerHasAttributes=null,e.layerHasCharts=null,e.layerHasImages=null,e.layerHasText=null,e.layerDisplayType=null,e.supportsArcade=null,e.blockFeatureReductionArcade=!1,e.layerHasRelatedRecords=!1}const s=(0,o(18991).c)({layer:null,mapView:null,portal:null,config:null,strings:null,currentLanguage:null,currentLanguageIntl:null,serviceType:null,popupTemplate:null,layerHasAttachment:null,layerHasET:null,layerIsUNLayer:null,layerHasAttributes:null,layerHasCharts:null,layerHasImages:null,layerHasText:null,layerDisplayType:null,supportsArcade:null,blockFeatureReductionArcade:!1,layerHasRelatedRecords:!1}).state},44508:(e,t,o)=>{o.d(t,{a:()=>f,b:()=>h,c:()=>w,d:()=>y,e:()=>C,f:()=>r,g:()=>v,h:()=>l,i:()=>b,j:()=>u,k:()=>g,p:()=>p,r:()=>a,s:()=>s,t:()=>m,v:()=>c});var i=o(4948);const s=/\+|\?|\/|\(|\)|\\|\!|\#|\"|\||\*|\:|<|>|\%|\$|\@|\'|\^|\[|\]|\,|\=|\;/gi,r=/(\.|outputFormat=)json|geojson$/i,l=/\/ags\//gi,n="MapServer|GeocodeServer|GPServer|GeometryServer|ImageServer|NAServer|FeatureServer|GeoDataServer|GlobeServer|MobileServer|WMServer|SceneServer|VectorTileServer|StreamServer|WorkspaceServer|GeoenrichmentServer|VideoServer|KnowledgeGraphServer",a=new RegExp(`http.+/(${n})`),c="/arcgis/rest/services|/rest/services|/arcgis/services|/arcgis/rest",d=new RegExp(`(?<server>http.+(?:${c})(?:/?.*/(?<name>.*)/(?<type>${n})))(?!.*/${n})/?(?<soe>\\d+)?.*`,"i"),p=e=>{const t=e.match(d);if(!t){return e.match(l)?{baseServerUrl:e,serverName:null,serverType:"MapServer",index:null}:null}const[,o,i,s,r]=t,n=parseInt(r);return{baseServerUrl:o,serverName:i,serverType:s,index:isNaN(n)?null:n}},h=e=>{if(!e)return null;if(!e.match(c))return null;const t=e.split("/rest");return t.length<2?null:`${t[0]}/rest/`};function u(e){return new URLSearchParams(e).toString()}function g(e,t){return(null==e?void 0:e.includes("?"))?new URLSearchParams(e.substring(e.indexOf("?"))).get(t):""}const f=e=>e&&"/"!==e.charAt(e.length-1)?`${e}/`:e,m=({path:e,url:t})=>{const o=t.split("/"),i=e.split("/");return o.slice(0,o.length-i.length).join("/")};function y(e){const{customBaseUrl:t,portalHostname:o,urlKey:i}=e,{protocol:s}=window.location;return`${s}//${i?`${i}.${t}`:o}`}function b(e){var t,o;return null!==(t=null==e?void 0:e.isWebTierAuth)&&void 0!==t?t:null===(o=e.sourceJSON)||void 0===o?void 0:o.isWebTierAuth}function v(e){var t;const{portal:o,config:s}=i.c||{};return null!==(t=f(null==s?void 0:s.restBaseUrl))&&void 0!==t?t:w(e||o)}function w(e){var t;return f(null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl)}function C(e){var t,o,i;return(null===(o=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.sourceJSON)||void 0===o?void 0:o.culture)||(null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.culture)||navigator.language||"en-US"}},53076:(e,t,o)=>{o.d(t,{a:()=>d,b:()=>c,c:()=>p,d:()=>r,e:()=>s,g:()=>n,r:()=>a,s:()=>l,u:()=>h});var i=o(26408);function s(e,t,o,i){!function(e,t,o){o=o||{};let i=null==o?void 0:o.expires;if("number"==typeof i){const e=new Date,t=24*i*60*60*1e3;e.setTime(Date.now()+t),i=o.expires=e}"string"!=typeof i&&(null==i?void 0:i.toUTCString)&&(o.expires=i.toUTCString());let s,r=`${e}=${encodeURIComponent(t)}`;for(s in o){r+=`; ${s}`;const e=o[s];!0!==e&&(r+=`=${e}`)}document.cookie=r}(e,i?JSON.stringify(t):t,o)}function r(e,t){const o=function(e){const t=document.cookie,o=new RegExp(`(?:^|; )${(0,i.f)(e)}=([^;]*)`),s=t.match(o);return s?decodeURIComponent(s[1]):void 0}(e);return o&&t?JSON.parse(o):o}function l(e,t,o){window.localStorage.setItem(e,o?JSON.stringify(t):t)}function n(e,t){const o=window.localStorage.getItem(e);return o&&t?JSON.parse(o):o}function a(e){window.localStorage.removeItem(e)}function c(e,t,o){window.sessionStorage.setItem(e,o?JSON.stringify(t):t)}function d(e,t){const o=window.sessionStorage.getItem(e);return o&&t?JSON.parse(o):o}function p(e){window.sessionStorage.removeItem(e)}function h(e,t,o){const i=new Date(t);i.setFullYear(t.getFullYear()+1),s(e,o,{expires:i}),o?l(e,"true",!1):a(e)}},6589:(e,t,o)=>{o.d(t,{a:()=>n,b:()=>d,c:()=>c,d:()=>a,e:()=>r,f:()=>u,g:()=>s,h:()=>h,i:()=>l,j:()=>p});var i=o(98034);function s(e){return"cim"===e.type?"CIMLineSymbol"===e.data.symbol.type?"line":"CIMPolygonSymbol"===e.data.symbol.type?"polygon":"point":"simple-marker"===e.type||"picture-marker"===e.type?"point":"simple-line"===e.type?"line":"polygon"}const r={loaded:!1,async load(){if(this.loaded)return;const[e,t,o,s,r,l,n,a,c,d,p,h,u,g,f,m,y]=await(0,i.l)(["esri/core/screenUtils","esri/Color","esri/portal/Portal","esri/symbols/CIMSymbol","esri/symbols/WebStyleSymbol","esri/core/devEnvironmentUtils","esri/core/promiseUtils","esri/core/urlUtils","esri/portal/PortalItem","esri/symbols/support/previewSymbol2D","esri/symbols/support/gfxUtils","esri/symbols/support/jsonUtils","esri/symbols/support/styleUtils","esri/symbols/support/svgUtils","esri/symbols/support/symbolUtils","esri/symbols/support/cimSymbolUtils","esri/symbols/support/webStyleSymbolUtils"]);this.Color=t,this.Portal=o,this.CIMSymbol=s,this.WebStyleSymbol=r,this.devEnvironmentUtils=l,this.previewSymbol2D=d,this.promiseUtils=n,this.urlUtils=a,this.PortalItem=c,this.gfxUtils=p,this.jsonUtils=h,this.screenUtils=e,this.styleUtils=u,this.svgUtils=g,this.symbolUtils=f,this.cimSymbolUtils=m,this.webStyleSymbolUtils=y,this.loaded=!0}};function l(e){return"cim"===(null==e?void 0:e.type)}function n(e){return"simple-marker"===(null==e?void 0:e.type)}function a(e){return"picture-marker"===(null==e?void 0:e.type)}function c(e){return"simple-line"===(null==e?void 0:e.type)}function d(e){return"simple-fill"===(null==e?void 0:e.type)}function p(e){return"CIMPointSymbol"===e.data.symbol.type}function h(e){return"CIMLineSymbol"===e.data.symbol.type}function u(e){return"CIMPolygonSymbol"===e.data.symbol.type}}}]);