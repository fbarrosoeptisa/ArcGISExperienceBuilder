/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-e2e4ea.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-e2e4ea"],{99004:(e,t,n)=>{n.d(t,{c:()=>r,g:()=>o});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},8401:(e,t,n)=>{n.d(t,{a:()=>s,b:()=>l,h:()=>c});var r=n(97018),o=n(62913),a=n(61191),i=n(51834);const s=e=>{const{title:t,fileName:n,extension:o}=(0,r.s)(e);return a.a.initialTitle=t,a.a.file=e,a.a.fileName=n,a.a.newItemMode="file",a.a.extension=o,o},l=e=>{const t=(0,i.f)(e)[0],{type:n,nextStep:r}=t;return a.a.type=n,{nextStep:r,type:n}},c=async(e,t)=>{try{e&&!t&&await(0,o.d)(e,{permanentDelete:!0})}catch(e){return}}},53016:(e,t,n)=>{n.r(t),n.d(t,{arcgis_new_item_pages_feature_layer_upload:()=>d});var r=n(19564),o=n(4948),a=n(61191),i=n(33861),s=n(87382),l=n(97018),c=n(8401);n(18991),n(62913),n(17233),n(57159),n(98034),n(99004),n(44508),n(65174),n(67336),n(86868),n(32084),n(91102),n(73807),n(51834);const d=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.newItemSetButtonState=(0,r.c)(this,"newItemSetButtonState",7),this.allowedExtensions=["csv","geojson","zip","gpkg","xls","xlsx"]}componentWillLoad(){this.i18n=i.u.i18n.featureLayerUpload,this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!0}}),this.allowedTypes=[s.a.CSV,s.a["Microsoft Excel"],s.a.Shapefile,s.a.GeoJson,s.a["File Geodatabase"],s.a.GeoPackage]}async fileSelectHandler(e){this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!1}});const t=e.detail.file,{title:n,fileName:r,extension:o}=(0,l.s)(t);if(a.a.initialTitle=n,a.a.file=t,a.a.fileName=r,a.a.newItemMode="file",a.a.extension=o,"zip"===o)return void this.newItemUpdatePage.emit("zipSelect");const{nextStep:i,type:s}=(0,c.b)(o);a.a.type=s,this.newItemUpdatePage.emit(i)}render(){const{i18n:e,allowedExtensions:t,allowedTypes:n}=this,{portal:i,config:s,user:l}=o.c;return(0,r.h)(r.H,{key:"f6ce4fdeda33cf554bac994bdb981cba8230bdba"},(0,r.h)("arcgis-file-browser",{key:"d8d33063e2394707799d643de0fe12b8c78f4809",class:"arcgis-file-browser",onCloudDriveConnected:e=>{const t=e.detail;a.a.cloudProvider=t,this.newItemUpdatePage.emit("cloud"),this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!1}})},insideModal:!0,fullHeight:!0,portal:i,config:s,helpText:e.learnMore,helpLink:`${s.helpBase}${s.helpMap[120005026]}`,user:l,allowedExtensions:t,validTypes:n}))}};d.style=".arcgis-file-browser{display:block;height:100%}"},91102:(e,t,n)=>{n.d(t,{a:()=>l,c:()=>o,d:()=>c,g:()=>a,i:()=>i,s:()=>s});var r=n(73807);function o(e,t){return function e(n){return n?n.closest(t)||e(function(e){return e.getRootNode()}(n).host||null):null}(e)}function a(e){const t=o(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function i(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function s(e){return(new r.S).sanitize(e)}function l(e){const t=s(e),n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}function c(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},97018:(e,t,n)=>{n.d(t,{a:()=>a,f:()=>c,g:()=>l,s:()=>i,v:()=>s});var r=n(87382),o=n(46227);function a(e,t){const n=/(?:\.([^.]+))?$/;let r=null==e?void 0:e.replace(/^.*(\\|\/|:)/,""),a=r&&n.exec(r)[1]?n.exec(r)[1].toLowerCase():"",i="";if((null==r?void 0:r.indexOf(".rft."))>-1){const[e,t]=r.split(".rft.");a=`rft.${t}`,i=e}return r&&!i&&(i=-1===r.lastIndexOf(".")?r:r.substring(0,r.lastIndexOf("."))),i=i.replace(/\.|-/g,"_"),t&&(i=function(e){return`${e}_${(0,o.g)()}`}(i),r=`${i}.${a}`),{title:i,fileName:r,extension:a}}function i(e,t){return a(e.name,!!t)}function s(e,t){let n=e;const r=e.lastIndexOf("\\");return r>-1&&(n=n.substring(r+1,n.length)),n.replace(/\ /g,"_")===t.replace(/\ /g,"_")}function l(e){return r.a[e]?r.a[e]:r.a[Object.keys(r.a).find((t=>r.a[t].type===e))]}function c(e){if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t))} ${["B","KB","MB","GB","TB"][t]}`}},46227:(e,t,n)=>{n.d(t,{g:()=>r});const r=()=>[2,1,1,1,3].map((e=>{let t="";for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},51834:(e,t,n)=>{n.d(t,{a:()=>l,f:()=>a,i:()=>s,m:()=>i});var r=n(26408),o=n(87382);function a(e,t){let n;n=t?t.map((e=>e.type)):Object.keys(o.a);let r=[];return n.forEach((t=>{var n;(null===(n=o.a[t].fileExt)||void 0===n?void 0:n.indexOf(e))>=0&&r.push(o.a[t])})),r}function i(e){return e?(0,r.b)(e.flatMap((e=>{var t;return null===(t=o.a[e])||void 0===t?void 0:t.fileExt})).filter((e=>!!e))):null}const s=e=>e/1024/1024>50,l=e=>e/1024/1024>20},98034:(e,t,n)=>{n.d(t,{e:()=>a,l:()=>i});var r,o=n(99004),a={exports:{}};r=a.exports,o.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",r="next";function o(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function a(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function i(e){void 0===e&&(e=n);var t=a(e),i=o(e);if(i!==r&&3===i.major){var s=i.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function l(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||o(e)?i(e):e}function u(e,t){var n=d(e),r=c(n);return r||l(r=s(n),t),r}var f={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,n){var r;n&&(r=v(e,n));var o=function(){t(e),e.removeEventListener("load",o,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",o,!1)}function v(e,t){var n=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function h(e){void 0===e&&(e={}),f=e}function g(){return document.querySelector("script[data-esri-loader]")}function w(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var n={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}));var r=n.version,o=n.url||a(r);return new t.Promise((function(e,t){var a=g();if(a){var i=a.getAttribute("src");i!==o?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):w()?e(a):m(a,e,t)}else if(w())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=n.css;s&&u(!0===s?r:s,n.insertCssBefore),m(a=p(o),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),t),document.body.appendChild(a)}}))}function b(e){return new t.Promise((function(t,n){var r=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.remove(),t(e)}))}))}function x(e,t){if(void 0===t&&(t={}),w())return b(e);var n=g(),r=n&&n.getAttribute("src");return!t.url&&r&&(t.url=r),y(t).then((function(){return b(e)}))}e.utils=t,e.loadModules=x,e.getScript=g,e.isLoaded=w,e.loadScript=y,e.setDefaultOptions=h,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(r);const i=async(e,t)=>(await a.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);