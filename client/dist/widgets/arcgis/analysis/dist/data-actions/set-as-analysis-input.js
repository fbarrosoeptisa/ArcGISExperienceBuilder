System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-core/react","esri/portal/Portal.js","esri/identity/IdentityManager.js","esri/request.js","esri/core/urlUtils.js","esri/geometry/Point.js","esri/geometry/Polyline.js","esri/geometry/Polygon.js","esri/core/reactiveUtils.js","esri/rest/support/Query.js","esri/core/promiseUtils.js","esri/portal/PortalItemResource.js","esri/geometry/support/jsonUtils.js","esri/Color.js","esri/layers/FeatureLayer.js","esri/layers/Layer.js","esri/symbols/LineSymbolMarker.js","esri/layers/support/MosaicRule.js","esri/portal/PortalItem.js","esri/renderers/SimpleRenderer.js","esri/symbols/SimpleFillSymbol.js","esri/symbols/SimpleLineSymbol.js","esri/symbols/SimpleMarkerSymbol.js","esri/layers/SubtypeGroupLayer.js","esri/config.js","esri/layers/MapNotesLayer.js","esri/layers/support/Field.js","esri/renderers/Renderer.js","esri/rest/support/FeatureSet.js","esri/rest/support/ParameterValue.js","esri/core/lang.js","esri/geometry/Extent.js","esri/geometry/geometryEngine.js","esri/layers/ImageryLayer.js","esri/smartMapping/raster/renderers/stretch.js","esri/layers/support/RasterFunction.js","esri/rest/support/AlgorithmicColorRamp.js","esri/rest/support/MultipartColorRamp.js","esri/rest/geoprocessor.js","esri/portal/PortalUser.js","esri/smartMapping/statistics/uniqueValues.js","esri/rest/support/JobInfo.js","esri/layers/GroupLayer.js","esri/core/sql.js"],(function(s,e){var a={},t={},i={},r={},n={},o={},l={},d={},c={},_={},u={},g={},m={},y={},f={},p={},h={},v={},x={},b={},j={},w={},S={},k={},P={},R={},T={},A={},M={},C={},L={},N={},O={},D={},I={},E={},F={},U={},$={},G={},V={},W={},B={},z={},J={},q={},H={};return Object.defineProperty(g,"__esModule",{value:!0}),{setters:[function(s){a.AbstractDataAction=s.AbstractDataAction,a.AllDataSourceTypes=s.AllDataSourceTypes,a.DataLevel=s.DataLevel,a.MutableStoreManager=s.MutableStoreManager,a.React=s.React,a.ReactRedux=s.ReactRedux,a.classNames=s.classNames,a.css=s.css,a.defaultMessages=s.defaultMessages,a.focusElementInKeyboardMode=s.focusElementInKeyboardMode,a.getAppStore=s.getAppStore,a.hooks=s.hooks,a.jsx=s.jsx,a.urlUtils=s.urlUtils},function(s){t.featureUtils=s.featureUtils},function(s){i.Button=s.Button,i.FloatingPanel=s.FloatingPanel,i.Select=s.Select},function(s){r.default=s.default},function(s){n.default=s.default},function(s){o.default=s.default},function(s){l.default=s.default},function(s){d.urlToObject=s.urlToObject},function(s){c.default=s.default},function(s){_.default=s.default},function(s){u.default=s.default},function(s){Object.keys(s).forEach((function(e){g[e]=s[e]}))},function(s){m.default=s.default},function(s){y.isAbortError=s.isAbortError},function(s){f.default=s.default},function(s){p.getJsonType=s.getJsonType},function(s){h.default=s.default},function(s){v.default=s.default},function(s){x.default=s.default},function(s){b.default=s.default},function(s){j.default=s.default},function(s){w.default=s.default},function(s){S.default=s.default},function(s){k.default=s.default},function(s){P.default=s.default},function(s){R.default=s.default},function(s){T.default=s.default},function(s){A.default=s.default},function(s){M.default=s.default},function(s){C.default=s.default},function(s){L.default=s.default},function(s){N.default=s.default},function(s){O.default=s.default},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(s){W.submitJob=s.submitJob},function(){},function(s){z.default=s.default},function(s){J.default=s.default},function(s){q.default=s.default},function(s){H.parseWhereClause=s.parseWhereClause}],execute:function(){s((()=>{var s,e,K={28996:s=>{s.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},56451:s=>{"use strict";s.exports=h},12762:s=>{"use strict";s.exports=A},5294:s=>{"use strict";s.exports=D},9316:s=>{"use strict";s.exports=y},54312:s=>{"use strict";s.exports=g},43284:s=>{"use strict";s.exports=H},55448:s=>{"use strict";s.exports=d},13661:s=>{"use strict";s.exports=I},18423:s=>{"use strict";s.exports=c},21255:s=>{"use strict";s.exports=u},91813:s=>{"use strict";s.exports=_},35431:s=>{"use strict";s.exports=E},64016:s=>{"use strict";s.exports=p},588:s=>{"use strict";s.exports=o},6550:s=>{"use strict";s.exports=v},97703:s=>{"use strict";s.exports=q},11840:s=>{"use strict";s.exports=F},2924:s=>{"use strict";s.exports=x},82567:s=>{"use strict";s.exports=M},73645:s=>{"use strict";s.exports=T},28927:s=>{"use strict";s.exports=C},52373:s=>{"use strict";s.exports=j},66744:s=>{"use strict";s.exports=$},32513:s=>{"use strict";s.exports=n},33752:s=>{"use strict";s.exports=w},61320:s=>{"use strict";s.exports=f},36596:s=>{"use strict";s.exports=B},35970:s=>{"use strict";s.exports=L},53976:s=>{"use strict";s.exports=S},44345:s=>{"use strict";s.exports=l},71802:s=>{"use strict";s.exports=W},23795:s=>{"use strict";s.exports=G},5933:s=>{"use strict";s.exports=N},89962:s=>{"use strict";s.exports=J},17902:s=>{"use strict";s.exports=V},57295:s=>{"use strict";s.exports=O},34031:s=>{"use strict";s.exports=m},440:s=>{"use strict";s.exports=U},72349:s=>{"use strict";s.exports=z},5258:s=>{"use strict";s.exports=b},49403:s=>{"use strict";s.exports=k},77462:s=>{"use strict";s.exports=P},23054:s=>{"use strict";s.exports=R},62686:s=>{"use strict";s.exports=t},79244:s=>{"use strict";s.exports=a},68972:s=>{"use strict";s.exports=r},14321:s=>{"use strict";s.exports=i}},Q={};function Y(s){var e=Q[s];if(void 0!==e)return e.exports;var a=Q[s]={id:s,loaded:!1,exports:{}};return K[s](a,a.exports,Y),a.loaded=!0,a.exports}Y.m=K,Y.n=s=>{var e=s&&s.__esModule?()=>s.default:()=>s;return Y.d(e,{a:e}),e},Y.d=(s,e)=>{for(var a in e)Y.o(e,a)&&!Y.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:e[a]})},Y.f={},Y.e=s=>Promise.all(Object.keys(Y.f).reduce(((e,a)=>(Y.f[a](s,e),e)),[])),Y.u=s=>"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm-6f9867"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm-6f9867.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-19e8ef"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-19e8ef.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-005a4f"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-005a4f.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-dc1e5a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-dc1e5a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-761e78"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-761e78.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-8f212f"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-8f212f.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-005b0f"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-005b0f.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cb7f56"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cb7f56.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cf309f"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cf309f.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-13123e"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-13123e.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-0602e7"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-0602e7.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-d55ef5"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-d55ef5.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-36f486"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-36f486.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-d2a7a0"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-d2a7a0.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-aa9781"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-aa9781.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-2ea41d"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-2ea41d.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-a9d16d"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-a9d16d.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-18e9b7"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-18e9b7.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-238a12"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-238a12.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-7de3c4"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-7de3c4.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-abaf6b"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-abaf6b.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-4866d8"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-4866d8.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cf6792"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cf6792.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-b942d6"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-b942d6.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-e373cd"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-e373cd.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-5ebd5a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-5ebd5a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-2e80ef"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-2e80ef.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-172927"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-172927.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-ab07be"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-ab07be.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-02c3bd"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-02c3bd.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-557a84"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-557a84.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-19e413"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-19e413.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-24497a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-24497a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cc7caf"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-cc7caf.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-0359a3"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-0359a3.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-967ec9"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-967ec9.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-662917"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-662917.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-8fc920"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-8fc920.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-df363e"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-df363e.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-d7d23d"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-d7d23d.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-24ef45"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-24ef45.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-6e7ae6"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm_errors_-6e7ae6.js":void 0,Y.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),Y.hmd=s=>((s=Object.create(s)).children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),Y.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e),s={},e="exb-client:",Y.l=(a,t,i,r)=>{if(s[a])s[a].push(t);else{var n,o;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==e+i){n=c;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,Y.nc&&n.setAttribute("nonce",Y.nc),n.setAttribute("data-webpack",e+i),n.src=a),s[a]=[t];var _=(e,t)=>{n.onerror=n.onload=null,clearTimeout(u);var i=s[a];if(delete s[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((s=>s(t))),e)return e(t)},u=setTimeout(_.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=_.bind(null,n.onerror),n.onload=_.bind(null,n.onload),o&&document.head.appendChild(n)}},Y.r=s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},Y.p="",(()=>{var s={"widgets/arcgis/analysis/dist/data-actions/set-as-analysis-input":0};Y.f.j=(e,a)=>{var t=Y.o(s,e)?s[e]:void 0;if(0!==t)if(t)a.push(t[2]);else{var i=new Promise(((a,i)=>t=s[e]=[a,i]));a.push(t[2]=i);var r=Y.p+Y.u(e),n=new Error;Y.l(r,(a=>{if(Y.o(s,e)&&(0!==(t=s[e])&&(s[e]=void 0),t)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;n.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",n.name="ChunkLoadError",n.type=i,n.request=r,t[1](n)}}),"chunk-"+e,e)}};var e=(e,a)=>{var t,i,[r,n,o]=a,l=0;if(r.some((e=>0!==s[e]))){for(t in n)Y.o(n,t)&&(Y.m[t]=n[t]);if(o)o(Y)}for(e&&e(a);l<r.length;l++)i=r[l],Y.o(s,i)&&s[i]&&s[i][0](),s[i]=0},a=self.webpackChunkexb_client=self.webpackChunkexb_client||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var X={};return Y.p=window.jimuConfig.baseUrl,(()=>{"use strict";Y.r(X),Y.d(X,{default:()=>P});var s,e,a=Y(79244),t=Y(62686),i=Y(14321);!function(s){s.Standard="standard",s.Custom="custom",s.RasterFunction="rfx"}(s||(s={})),function(s){s.None="NONE",s.Error="ERROR",s.Warning="WARNING",s.Info="INFO"}(e||(e={}));var r=Y(68972),n=function(s,e,a,t){return new(a||(a=Promise))((function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(n,o)}l((t=t.apply(s,e||[])).next())}))};class o{constructor(){this.cache={}}static getInstance(){return o.instance||(o.instance=new o),o.instance}getStrings(s){return n(this,void 0,void 0,(function*(){return this.cache[s]?this.cache[s]:function(s){return n(this,void 0,void 0,(function*(){const e=yield fetch(s);return yield e.json()}))}(s).then((e=>(this.cache[s]=e,e)))}))}}function l(){return s="arcgis-analysis-assets",`${window.location.protocol}//${window.location.host}${a.urlUtils.getFixedRootPath()}widgets/arcgis/analysis/dist/analysis-assets/${s}/`;var s}const d=s=>(s=>{const[e,a]=r.default.useState();return r.default.useEffect((()=>{o.getInstance().getStrings(s).then(a).catch((()=>{a({})}))}),[]),e})(`${l()}assets/t9n/common.t9n.${null!=s?s:"en-US"}.json`),c=(s,e)=>{let a=s;return void 0!==e&&void 0!==s&&s.startsWith("$")&&(a=e[s.replace("$","")]),a},_={_widgetLabel:"Analysis",history:"History",result:"Result",viewDetails:"View details",openTool:"Open tool",historyEmptyPlaceholder:"After you run a tool, you can track the status at history.",run:"Run",completeAtTime:"Complete at {time}",canceling:"Canceling...",canceledAtTime:"Canceled at {time}",canceled:"Canceled",jobFailedAtTime:"Failed at {time}",jobFailed:"Failed",provisioningResources:"Provisioning resources...",submitted:"Submitted...",waiting:"Waiting...",running:"Running",cancelLabel:"Cancel analysis",uncancellableLabel:"This tool cannot be canceled.",cancelWarningText:"Are you sure you want to cancel this analysis? Current process will be lost.",keepRunning:"Keep running",cancelAnalysis:"Cancel analysis",jobAlertStatusCancelled:"{toolName} canceled",jobAlertStatusDeleted:"{toolName} deleted",jobAlertStatusFailed:"{toolName} failed",jobAlertStatusSucceededWithWarnings:"{toolName} succeeded with warnings",jobAlertStatusSucceededWithoutWarnings:"{toolName} succeeded",jobAlertStatusTimedOut:"{toolName} timed out",submittedAlertLabel:"{toolName} submitted",parameters:"Parameters",environments:"Environments",context:"Context",spatialReference:"Spatial reference",environmentSettings:"Environment settings",outputCoordinateSystem:"Output coordinate system",processingExtent:"Processing extent",snapRaster:"Snap raster",cellSize:"Cell size",resamplingMethod:"Resampling method",mask:"Mask",sameAsInput:"Same as input (default)",fullExtent:"Full extent (default)",maxOf:"Maximum of inputs",minOf:"Minimum of inputs",asSpecified:"As specified",fromLayer:"From layer",nearest:"Nearest neighbor (for discrete data)",bilinear:"Bilinear interpolation (for continuous data)",cubic:"Cubic convolution (for continuous data)",xmin:"Left (x-min)",xmax:"Right (x-max)",ymin:"Bottom (y-min)",ymax:"Top (y-max)",nowDate:"Now ({dateString})",optimizeTableView:"Optimize table view",genericFailureMessage:"{toolName} failed.",messages:"Messages",startTime:"Start time",endTime:"Completed",creditMessage:"<a href='{docLink}' target='_blank'>Credits consumed</a>",creditsMessageNoLink:"Credits consumed",zeroCreditsMessage:"No credits were consumed for this tool.",warning:"Warning",elapsedTime:"Elapsed time",failedTime:"Failed time: {failedTime}",minutes:"Minutes",hours:"Hours",days:"Days",jobCancelled:"{toolName} canceled.",jobId:"Run ID",checkCreditUsage:"Administrators can check credit usage through the credit status page. <calcite-link target='_blank' href='{url}'>Learn more.</calcite-link>",noAccess:"You do not have permission to access this result.",invalidUrl:"The result no longer exists. Run the analysis again to recreate it.",defaultLayerFailure:"The result cannot be accessed. Run the analysis again to recreate it.",toolInaccessible:"Tool is inaccessible.",_action_setAsAnalysisInput_label:"Set as Analysis input",selectTool:"Select a tool",selectParameter:"Select a parameter",noApplicableParameter:"No applicable parameter",item:"Item",dataType:"Data type",recycleProcessingWorkers:"Recycle interval of processing workers",parallelProcessingFactor:"Parallel processing factor",retryOnFailures:"Number of retries on failures",processorType:"Processor type",automatic:"Automatic",CPU:"CPU",GPU:"GPU",geographicTransformations:"Geographic transformations"};var u=Y(28996),g=Y.n(u),m=function(s,e){var a={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(a[t]=s[t]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(s);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(s,t[i])&&(a[t[i]]=s[t[i]])}return a};const y=s=>{const e=window.SVG,{className:t}=s,i=m(s,["className"]),r=(0,a.classNames)("jimu-icon jimu-icon-component",t);return e?a.React.createElement(e,Object.assign({className:r,src:g()},i)):a.React.createElement("svg",Object.assign({className:r},i))};var f=function(s,e,a,t){return new(a||(a=Promise))((function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(n,o)}l((t=t.apply(s,e||[])).next())}))};const p=s=>s.type===a.AllDataSourceTypes.ImageryLayer||s.type===a.AllDataSourceTypes.ImageryTileLayer,h=s=>{var e;return s.type===a.AllDataSourceTypes.FeatureLayer||"feature"===(null===(e=s.layer)||void 0===e?void 0:e.type)},v={width:320,height:280},x={width:320,height:280},b=e=>{var t;const i=a.ReactRedux.useSelector((s=>window.jimuConfig.isBuilder?s.appStateInBuilder.appConfig.utilities:s.appConfig.utilities)),n=null===(t=null==e?void 0:e.getLocaleInfo())||void 0===t?void 0:t.locale,o=d(n),l=(s=>{const e=d(s);return r.default.useMemo((()=>e?Object.assign(Object.assign({},e.toolInfo||{}),e.toolInfoKeys||{}):null),[e])})(n);return{getDisplayedToolName:a=>a&&e?a.type===s.Standard?function(s,e,a,t,i){const r=`${i(s)}${t(e)}`;return(null==a?void 0:a[r])||s}(a.toolName,a.analysisEngine,l,e.formatAnalysisEngineSuffix,e.toCamelToolName):function(s,e){var a;if(!s)return"";const t=s.config,{toolDisplayName:i}=t.option||{};if(i)return i;if(t.utility){const{utilityId:s,task:a}=t.utility,i=null==e?void 0:e[s];if(a){const s=i&&i.tasks?i.tasks.find((s=>s.name===a)):null;if(s&&s.label)return s.label}else if(i&&i.label)return i.label}return(null===(a=s.config.toolInfo)||void 0===a?void 0:a.displayName)||s.toolName}(a,i):"",getDisplayedParameterName:s=>c(s.label,o)||s.displayName}},j=s=>{const{translate:e,analysisSharedUtils:t,toolList:r,selectedTool:n,onSelectedToolChange:o,validParameters:l,selectedParameter:d,onSelectedParameterChange:c}=s,{getDisplayedToolName:_,getDisplayedParameterName:u}=b(t);return(0,a.jsx)("div",null,(0,a.jsx)("div",null,(0,a.jsx)("div",{className:"mb-1 form-item-label"},e("selectTool")),(0,a.jsx)("div",null,(0,a.jsx)(i.Select,{value:null==n?void 0:n.id,onChange:o},r.map((s=>(0,a.jsx)("option",{key:s.id,value:s.id},_(s))))))),n&&(0,a.jsx)("div",{className:"mt-4"},(0,a.jsx)("div",{className:"mb-1 form-item-label"},e("selectParameter")),(0,a.jsx)("div",null,(0,a.jsx)(i.Select,{value:null==d?void 0:d.name,onChange:c,disabled:!l.length},l.map((s=>(0,a.jsx)("option",{key:s.name,value:s.name},u(s))))),!l.length&&(0,a.jsx)("div",{className:"mt-2 warning-msg"},(0,a.jsx)(y,{className:"mr-2",color:"var(--sys-color-warning-dark)"}),e("noApplicableParameter")))))},w=a.css`
  flex-direction: column;
  justify-content: space-between;
  .form-item-label {
    line-height: 18px;
    font-weight: 500;
    color: var(--ref-palette-black);
  }
  .warning-msg {
    display: flex;
    align-items: center;
    line-height: 24px;
  }
  .footer{
    text-align: right;
    .btn {
      min-width: 75px;
      font-weight: 500;
    }
  }
`,S=e=>{const{activeRef:r,widgetId:n,dataSet:o,dataLevel:l,version:d,intl:u}=e,{dataSource:g}=o,[m,y]=a.React.useState(x),[b,S]=a.React.useState(!0),k=(()=>{const[s,e]=a.React.useState();return a.React.useEffect((()=>{Y.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_esm-6f9867").then(Y.bind(Y,35406)).then((s=>{e(s)}))}),[]),s})(),P=a.React.useMemo((()=>{var s;return(null===(s=null==k?void 0:k.getLocaleInfo())||void 0===s?void 0:s.locale)||""}),[k]),R=s=>u.formatMessage({id:s,defaultMessage:Object.assign(Object.assign({},_),a.defaultMessages)[s]});a.React.useEffect((()=>{S(!0),L(null),I(null)}),[d,g.id,n]);const T=()=>{S(!1),setTimeout((()=>{(0,a.focusElementInKeyboardMode)(r)}),10)},[A,M]=a.React.useState([]);a.React.useEffect((()=>{var e,t,i,r,o;if(!b)return;const l=null!==(t=null===(e=(0,a.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)&&void 0!==t?t:(0,a.getAppStore)().getState(),d=null===(o=null===(r=null===(i=null==l?void 0:l.appConfig)||void 0===i?void 0:i.widgets)||void 0===r?void 0:r[n])||void 0===o?void 0:o.config;Array.isArray(null==d?void 0:d.toolList)&&M(d.toolList.asMutable({deep:!0}).filter((e=>e.type!==s.RasterFunction)))}),[b]);const[C,L]=a.React.useState(),[N,O]=a.React.useState([]),[D,I]=a.React.useState(),E=a.React.useMemo((()=>{const s=g.getGeometryType(),e=h(g),t=p(g);return N.filter((i=>{if("esriGPParameterDirectionOutput"===i.direction)return!1;if(e&&("GPRecordSet"===i.dataType||"GPMultiValue:GPRecordSet"===i.dataType))return!0;const r=l===a.DataLevel.DataSource&&e||l===a.DataLevel.Records;if(s&&r&&("GPFeatureRecordSetLayer"===i.dataType||"GPMultiValue:GPFeatureRecordSetLayer"===i.dataType)){const e=(s=>{var e;const{filter:a,defaultValue:t}=s;if("featureClass"===(null==a?void 0:a.type)&&(null===(e=null==a?void 0:a.list)||void 0===e?void 0:e.length))return a.list;if(Array.isArray(t))return t.filter((s=>!!s.geometryType)).map((s=>s.geometryType));const i=null==t?void 0:t.geometryType;return i?[i]:[]})(i);return!e.length||e.includes(s)}return!(l!==a.DataLevel.DataSource||!t||"GPRasterDataLayer"!==i.dataType&&"GPMultiValue:GPRasterDataLayer"!==i.dataType)}))}),[l,g,N]);a.hooks.useUpdateEffect((()=>{if(C&&P){if(C.type===s.Standard){const s=`${window.location.protocol}//${window.location.host}${a.urlUtils.getFixedRootPath()}widgets/arcgis/analysis/`,e=`${C.toolName.toLowerCase()}${null==k?void 0:k.formatAnalysisEngineSuffix(C.analysisEngine)}`,t=`${s}dist/analysis-assets/arcgis-analysis-assets/assets/tool-json/${e}.tool.json`,i=`${s}dist/analysis-assets/arcgis-analysis-assets/assets/tool-ui-json/${e}.tool.ui.json`,r=`${s}dist/analysis-assets/arcgis-analysis-assets/assets/t9n/${e}/${e}.t9n.${P}.json`;Promise.all([fetch(t).then((s=>s.json())),fetch(i).then((s=>s.json())),fetch(r).then((s=>s.json()))]).then((([s,e,a])=>{var t;const i=s.parameters,r=e.UIparameters.map((s=>s.UIparameters||[])).flat(),n=null===(t=i.filter((s=>"esriGPParameterDirectionOutput"!==s.direction)))||void 0===t?void 0:t.map((s=>{const e=r.find((e=>e.name===s.name)),t=Object.assign(Object.assign({},e),s),i=c(t.label,a);return i&&(t.label=i),t}));O(n)}))}else C.type===s.Custom&&O(C.config.toolInfo.parameters);I(null)}}),[C,P]);const F=(s,e)=>{const a=s.dataType.startsWith("GPMultiValue");let t=Object.assign({},e);return"GPRasterDataLayer"!==s.dataType&&"GPMultiValue:GPRasterDataLayer"!==s.dataType||(t.inputType="layer"),a&&(t=[t]),t};return(0,a.jsx)(i.FloatingPanel,{open:b,headerTitle:R("_action_setAsAnalysisInput_label"),onHeaderClose:T,minSize:v,onResize:s=>{y(s)},dragBounds:"body",defaultSize:m,reference:r,toggle:(s,e)=>{"clickOutside"!==e&&T()}},(0,a.jsx)("div",{className:"h-100 p-4 d-flex",css:w},k&&(0,a.jsx)(j,{translate:R,analysisSharedUtils:k,toolList:A,selectedTool:C,onSelectedToolChange:s=>{const e=A.find((e=>e.id===s.target.value));L(e)},validParameters:E,selectedParameter:D,onSelectedParameterChange:s=>{const e=E.find((e=>e.name===s.target.value));I(e)}}),(0,a.jsx)("div",{className:"footer"},(0,a.jsx)(i.Button,{type:"primary",disabled:!C||!D,onClick:()=>f(void 0,void 0,void 0,(function*(){var s,e,i,r,d;const{records:c,fields:_,name:u}=o,m=!!g.url,y=l===a.DataLevel.DataSource,f=null===(s=g.getDataSourceJson())||void 0===s?void 0:s.isOutputFromWidget,p=a.MutableStoreManager.getInstance().readStateValue(n,"input")||{};let h;const v=g;if(y&&m&&!f){const{url:s}=v;h={url:s};const a=null===(i=null===(e=v.getCurrentQueryParams)||void 0===e?void 0:e.call(v))||void 0===i?void 0:i.where;a&&(h.filter=a)}else if(y)try{const s=yield v.createJSAPILayerByDataSource();h=yield k.getGPFeatureRecordSetLayerValue(s),m&&f&&(h.title=u)}catch(s){console.error("create feature set error",s)}else try{const s=yield t.featureUtils.convertDataRecordSetToFeatureSet({dataSource:g,records:c,fields:_,name:u}),e=g.getSchema(),i=(null==_?void 0:_.length)?_:Object.keys(null==e?void 0:e.fields)||[],n=g.getGeometryType(),o={name:`${e.label||g.getLabel()}${l===a.DataLevel.Records?" - Selection":""}`,type:n?"Feature Layer":"Table",geometryType:n,fields:i.map((s=>{const a=e.fields[s];return{name:a.name,type:a.esriType,alias:a.alias,format:a.format}})),objectIdField:e.idField,spatialReference:s.spatialReference},m=null===(d=(r=g).getCurrentQueryParams)||void 0===d?void 0:d.call(r);(null==m?void 0:m.where)&&(o.definitionExpression=m.where,o.defaultVisibility=!0),h={layerDefinition:o,featureSet:s}}catch(s){console.error("create feature set error",s)}a.MutableStoreManager.getInstance().updateStateValue(n,"toolId",C.id),a.MutableStoreManager.getInstance().updateStateValue(n,"input",Object.assign(Object.assign({},p),{[D.name]:F(D,h)})),T()}))},R("ok")),(0,a.jsx)(i.Button,{className:"ml-2",onClick:T},R("cancel")))))};var k=function(s,e,a,t){return new(a||(a=Promise))((function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(n,o)}l((t=t.apply(s,e||[])).next())}))};class P extends a.AbstractDataAction{isSupported(s,e){return k(this,void 0,void 0,(function*(){if(s.length>1)return!1;const i=s[0];if(p(i.dataSource))return!0;if(e===a.DataLevel.DataSource)return h(i.dataSource);const{dataSource:r,records:n,fields:o,name:l}=i;try{if((yield t.featureUtils.convertDataRecordSetToFeatureSet({dataSource:r,records:n,fields:o,name:l})).features.length)return!0}catch(s){return!1}}))}onExecute(s,e){const t=s[0];return this._version||(this._version=0,this._versionPrefix=Date.now()),Promise.resolve(a.React.createElement(S,{activeRef:document.querySelector(".active-data-action-item"),widgetId:this.widgetId,dataSet:t,dataLevel:e,version:`${this._versionPrefix}_${this._version++}`,intl:this.intl}))}}})(),X})())}}}));